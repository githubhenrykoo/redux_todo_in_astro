import{j as e}from"./jsx-dev-runtime.ndqpvE2b.js";import{r as l}from"./index.DKKB-h0h.js";import{u as x}from"./index.CytJPw2Y.js";import{a as _,d as C}from"./contentSlice.DBLxFn2W.js";import{C as j}from"./ContentEditor.CO3qL6hy.js";import{u as v}from"./useDispatch.BMf9LzmE.js";import"./index.DAfxxssO.js";import"./cn.wIbVLe1y.js";import"./tw-merge.ncXYd3jY.js";import"./store.WvhFAbWr.js";function O(){const[o,r]=l.useState(!1),[a,s]=l.useState(""),m=v(),i=x(t=>t?.content?.selectedHash),u=x(t=>t?.content?.cards||{}),n=l.useMemo(()=>i&&u&&Object.values(u).find(t=>t&&t.hash===i)||null,[u,i]),c=t=>{if(!t)return"";if(typeof t=="string")return t;if(typeof t=="object")try{return JSON.stringify(t,null,2)}catch(D){console.error("Error stringifying content:",D)}return String(t)};l.useEffect(()=>{n?(s(c(n.content)),r(!1)):s("")},[n]);const p=t=>{s(t)},d=()=>{a.trim()&&(m(_(a)),s(""),r(!1))},f=()=>{r(!0),s("")},h=()=>{n&&s(c(n.content)),r(!1)},b=()=>{n?.hash&&m(C(n.hash))},N=o?a:c(n?.content);return e.jsxDEV("div",{className:"flex flex-col h-full max-h-full bg-background overflow-hidden",children:[e.jsxDEV("div",{className:"flex-none flex justify-between items-center px-3 py-2 bg-muted border-b border-neutral-200 dark:border-neutral-800",children:[e.jsxDEV("h2",{className:"text-base font-semibold text-foreground truncate max-w-[60%]",children:o?"Push New Content":"Content Details"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:102,columnNumber:9},this),e.jsxDEV("div",{className:"flex gap-1 overflow-x-auto max-w-[40%]",children:[!o&&e.jsxDEV("button",{onClick:f,className:"px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors whitespace-nowrap",children:"New"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:107,columnNumber:13},this),n&&!o&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:()=>r(!0),className:"px-2 py-1 text-xs bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors whitespace-nowrap",children:"Edit"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:116,columnNumber:15},this),e.jsxDEV("button",{onClick:b,className:"px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600 transition-colors whitespace-nowrap",children:"Delete"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:122,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:115,columnNumber:13},this),o&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:h,className:"px-2 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors whitespace-nowrap",children:"Cancel"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:132,columnNumber:15},this),e.jsxDEV("button",{onClick:d,className:"px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors whitespace-nowrap",children:"Save"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:138,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:131,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:105,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:101,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 overflow-auto p-2",children:e.jsxDEV("div",{className:"w-full h-full max-w-full",children:e.jsxDEV(j,{content:N||"",onChange:p,onSave:o?d:void 0,title:o?"Edit Content":"Content Viewer",isReadOnly:!o,showLineNumbers:!0,language:"Plain Text",className:"w-full h-full"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:152,columnNumber:11},this)},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:151,columnNumber:9},this)},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:150,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ContentDetailPanel.jsx",lineNumber:99,columnNumber:5},this)}export{O as default};
