import{j as t}from"./jsx-dev-runtime.ndqpvE2b.js";import{r as l}from"./index.DKKB-h0h.js";import{u as d}from"./index.CytJPw2Y.js";import{a as D}from"./contentSlice.DBLxFn2W.js";import{C as _}from"./ContentEditor.CO3qL6hy.js";import{u as y}from"./useDispatch.BMf9LzmE.js";import"./index.DAfxxssO.js";import"./cn.wIbVLe1y.js";import"./tw-merge.ncXYd3jY.js";import"./store.WvhFAbWr.js";function V(){const[s,r]=l.useState(!1),[i,n]=l.useState(""),x=y(),a=d(e=>e?.content?.selectedHash),c=d(e=>e?.content?.cards||{}),o=l.useMemo(()=>a?c[a]:null,[c,a]),m=e=>{if(!e)return"";if(typeof e=="string")return e;if(typeof e=="object")try{return JSON.stringify(e,null,2)}catch(h){console.error("Error stringifying content:",h)}return String(e)};l.useEffect(()=>{o?(n(m(o.content)),r(!1)):n("")},[o]);const f=e=>{n(e)},u=()=>{i.trim()&&(x(D(i)),n(""),r(!1))},p=()=>{r(!0),n("")},N=()=>{o&&n(m(o.content)),r(!1)},b=s?i:m(o?.content);return t.jsxDEV("div",{className:"flex flex-col h-full",children:[t.jsxDEV("div",{className:"flex-shrink-0 flex justify-between items-center px-4 py-2 bg-gray-100 border-b",children:[t.jsxDEV("h2",{className:"text-lg font-semibold text-gray-700",children:s?"Edit Content":"Item Details"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ItemDetailPanel.jsx",lineNumber:89,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2",children:[!s&&t.jsxDEV("button",{onClick:p,className:"px-4 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"New Item"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ItemDetailPanel.jsx",lineNumber:94,columnNumber:13},this),o&&!s&&t.jsxDEV("button",{onClick:()=>r(!0),className:"px-4 py-1 text-sm bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"Edit"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ItemDetailPanel.jsx",lineNumber:102,columnNumber:13},this),s&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("button",{onClick:N,className:"px-4 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"Cancel"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ItemDetailPanel.jsx",lineNumber:111,columnNumber:15},this),t.jsxDEV("button",{onClick:u,className:"px-4 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Save"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ItemDetailPanel.jsx",lineNumber:117,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ItemDetailPanel.jsx",lineNumber:110,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ItemDetailPanel.jsx",lineNumber:92,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ItemDetailPanel.jsx",lineNumber:88,columnNumber:7},this),t.jsxDEV("div",{className:"flex-1 overflow-auto",children:t.jsxDEV(_,{content:b||"",onChange:f,onSave:s?u:void 0,title:s?"Edit Content":"Content Viewer",isReadOnly:!s,showLineNumbers:!0,language:"Plain Text",className:"h-full"},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ItemDetailPanel.jsx",lineNumber:130,columnNumber:9},this)},void 0,!1,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ItemDetailPanel.jsx",lineNumber:129,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/Henrykoo/Documents/redux_todo_in_astro/src/components/panels/ItemDetailPanel.jsx",lineNumber:86,columnNumber:5},this)}export{V as default};
