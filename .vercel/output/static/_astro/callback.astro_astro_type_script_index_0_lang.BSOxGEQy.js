import{_ as i}from"./preload-helper.CLcXU_4U.js";async function l(){try{const e=new URLSearchParams(window.location.search),o=e.get("code"),t=e.get("state"),r=o?o.trim():null;if(console.log("Authentication Callback Full URL Details:",{fullUrl:window.location.href,searchParams:Object.fromEntries(e.entries())}),!r)throw console.error("No authorization code found"),new Error("No authorization code present in the URL");console.log("Authentication Callback Debug:",{code:r?"Code Present":"No Code",rawCode:o,rawState:t,origin:window.location.origin,fullUrl:window.location.href,clientId:"Present",baseUrl:"https://auth.pkc.pub",redirectUri:`${window.location.origin}/callback`,clientSecret:"Present"});const{createClient:n}=await i(async()=>{const{createClient:c}=await import("./client.BqYALPpZ.js");return{createClient:c}},[]),a=await n({clientId:"SDyvH6sVjZnajkPlyh40jSdWuniXuOERYh1DjLqT",clientSecret:"UWD2qQNsJzRlwuiURmNcJWcnPvi2GKhIujhtDrWVLdPoyy8CDmuHcUyywqhdJHEucV1OSfzacrKUXqmLRVM6e2zJhL9H5qpWfvHncgNm9R0KFawzAbJkhb8pLBiLauMI",redirectUri:`${window.location.origin}/callback`,scopes:"openid profile email",baseUrl:"https://auth.pkc.pub",storageKey:"authentik_top_banner_auth"}).handleCallback(r);console.log("Authentication Successful:",a)}catch(e){const o=e instanceof Error?{errorName:e.name,errorMessage:e.message,errorStack:e.stack}:{errorName:"Unknown Error",errorMessage:String(e),errorStack:null};console.error("Authentication callback failed:",o),window.location.href="/"}}l();
