import{a as Ze}from"./index.DKKB-h0h.js";const{createElement:ge,createContext:Pn,forwardRef:Qe,useCallback:G,useContext:en,useEffect:oe,useImperativeHandle:nn,useLayoutEffect:bn,useMemo:wn,useRef:W,useState:fe}=Ze,Ke=Ze[`useId${Math.random()}`.slice(0,5)],En=bn,Ie=Pn(null);Ie.displayName="PanelGroupContext";const re=En,Cn=typeof Ke=="function"?Ke:()=>null;let Ln=0;function Ge(e=null){const n=Cn(),t=W(e||n||null);return t.current===null&&(t.current=""+Ln++),e??t.current}function tn({children:e,className:n="",collapsedSize:t,collapsible:o,defaultSize:i,forwardedRef:r,id:a,maxSize:l,minSize:s,onCollapse:d,onExpand:b,onResize:f,order:u,style:h,tagName:g="div",...w}){const E=en(Ie);if(E===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:P,expandPanel:M,getPanelSize:A,getPanelStyle:N,groupId:K,isPanelCollapsed:L,reevaluatePanelConstraints:z,registerPanel:_,resizePanel:B,unregisterPanel:j}=E,F=Ge(a),$=W({callbacks:{onCollapse:d,onExpand:b,onResize:f},constraints:{collapsedSize:t,collapsible:o,defaultSize:i,maxSize:l,minSize:s},id:F,idIsFromProps:a!==void 0,order:u});W({didLogMissingDefaultSizeWarning:!1}).current.didLogMissingDefaultSizeWarning,re(()=>{const{callbacks:D,constraints:k}=$.current,T={...k};$.current.id=F,$.current.idIsFromProps=a!==void 0,$.current.order=u,D.onCollapse=d,D.onExpand=b,D.onResize=f,k.collapsedSize=t,k.collapsible=o,k.defaultSize=i,k.maxSize=l,k.minSize=s,(T.collapsedSize!==k.collapsedSize||T.collapsible!==k.collapsible||T.maxSize!==k.maxSize||T.minSize!==k.minSize)&&z($.current,T)}),re(()=>{const D=$.current;return _(D),()=>{j(D)}},[u,F,_,j]),nn(r,()=>({collapse:()=>{P($.current)},expand:D=>{M($.current,D)},getId(){return F},getSize(){return A($.current)},isCollapsed(){return L($.current)},isExpanded(){return!L($.current)},resize:D=>{B($.current,D)}}),[P,M,A,L,F,B]);const Z=N($.current,i);return ge(g,{...w,children:e,className:n,id:a,style:{...Z,...h},"data-panel":"","data-panel-collapsible":o||void 0,"data-panel-group-id":K,"data-panel-id":F,"data-panel-size":parseFloat(""+Z.flexGrow).toFixed(1)})}const In=Qe((e,n)=>ge(tn,{...e,forwardedRef:n}));tn.displayName="Panel";In.displayName="forwardRef(Panel)";let He=null,te=null;function Rn(e,n){if(n){const t=(n&sn)!==0,o=(n&un)!==0,i=(n&cn)!==0,r=(n&dn)!==0;if(t)return i?"se-resize":r?"ne-resize":"e-resize";if(o)return i?"sw-resize":r?"nw-resize":"w-resize";if(i)return"s-resize";if(r)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function An(){te!==null&&(document.head.removeChild(te),He=null,te=null)}function De(e,n){const t=Rn(e,n);He!==t&&(He=t,te===null&&(te=document.createElement("style"),document.head.appendChild(te)),te.innerHTML=`*{cursor: ${t}!important;}`)}function on(e){return e.type==="keydown"}function rn(e){return e.type.startsWith("pointer")}function an(e){return e.type.startsWith("mouse")}function Re(e){if(rn(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(an(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function $n(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Mn(e,n,t){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}function Nn(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:qe(e),b:qe(n)};let o;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),o=e;x(o,"Stacking order can only be calculated for elements with a common ancestor");const i={a:Ue(Oe(t.a)),b:Ue(Oe(t.b))};if(i.a===i.b){const r=o.childNodes,a={a:t.a.at(-1),b:t.b.at(-1)};let l=r.length;for(;l--;){const s=r[l];if(s===a.a)return 1;if(s===a.b)return-1}}return Math.sign(i.a-i.b)}const Dn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function kn(e){var n;const t=getComputedStyle((n=ln(e))!==null&&n!==void 0?n:e).display;return t==="flex"||t==="inline-flex"}function _n(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||kn(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||Dn.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function Oe(e){let n=e.length;for(;n--;){const t=e[n];if(x(t,"Missing node"),_n(t))return t}return null}function Ue(e){return e&&Number(getComputedStyle(e).zIndex)||0}function qe(e){const n=[];for(;e;)n.push(e),e=ln(e);return n}function ln(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const sn=1,un=2,cn=4,dn=8,Hn=$n()==="coarse";let U=[],pe=!1,Q=new Map,Ae=new Map;const ve=new Set;function Gn(e,n,t,o,i){var r;const{ownerDocument:a}=n,l={direction:t,element:n,hitAreaMargins:o,setResizeHandlerState:i},s=(r=Q.get(a))!==null&&r!==void 0?r:0;return Q.set(a,s+1),ve.add(l),Ce(),function(){var b;Ae.delete(e),ve.delete(l);const f=(b=Q.get(a))!==null&&b!==void 0?b:1;if(Q.set(a,f-1),Ce(),f===1&&Q.delete(a),U.includes(l)){const u=U.indexOf(l);u>=0&&U.splice(u,1),Be(),i("up",!0,null)}}}function Xe(e){const{target:n}=e,{x:t,y:o}=Re(e);pe=!0,We({target:n,x:t,y:o}),Ce(),U.length>0&&(Le("down",e),e.preventDefault(),e.stopPropagation())}function ze(e){const{x:n,y:t}=Re(e);if(pe&&e.buttons===0&&(pe=!1,Le("up",e)),!pe){const{target:o}=e;We({target:o,x:n,y:t})}Le("move",e),Be(),U.length>0&&e.preventDefault()}function se(e){const{target:n}=e,{x:t,y:o}=Re(e);Ae.clear(),pe=!1,U.length>0&&e.preventDefault(),Le("up",e),We({target:n,x:t,y:o}),Be(),Ce()}function We({target:e,x:n,y:t}){U.splice(0);let o=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(o=e),ve.forEach(i=>{const{element:r,hitAreaMargins:a}=i,l=r.getBoundingClientRect(),{bottom:s,left:d,right:b,top:f}=l,u=Hn?a.coarse:a.fine;if(n>=d-u&&n<=b+u&&t>=f-u&&t<=s+u){if(o!==null&&document.contains(o)&&r!==o&&!r.contains(o)&&!o.contains(r)&&Nn(o,r)>0){let g=o,w=!1;for(;g&&!g.contains(r);){if(Mn(g.getBoundingClientRect(),l)){w=!0;break}g=g.parentElement}if(w)return}U.push(i)}})}function ke(e,n){Ae.set(e,n)}function Be(){let e=!1,n=!1;U.forEach(o=>{const{direction:i}=o;i==="horizontal"?e=!0:n=!0});let t=0;Ae.forEach(o=>{t|=o}),e&&n?De("intersection",t):e?De("horizontal",t):n?De("vertical",t):An()}function Ce(){Q.forEach((e,n)=>{const{body:t}=n;t.removeEventListener("contextmenu",se),t.removeEventListener("pointerdown",Xe),t.removeEventListener("pointerleave",ze),t.removeEventListener("pointermove",ze)}),window.removeEventListener("pointerup",se),window.removeEventListener("pointercancel",se),ve.size>0&&(pe?(U.length>0&&Q.forEach((e,n)=>{const{body:t}=n;e>0&&(t.addEventListener("contextmenu",se),t.addEventListener("pointerleave",ze),t.addEventListener("pointermove",ze))}),window.addEventListener("pointerup",se),window.addEventListener("pointercancel",se)):Q.forEach((e,n)=>{const{body:t}=n;e>0&&(t.addEventListener("pointerdown",Xe,{capture:!0}),t.addEventListener("pointermove",ze))}))}function Le(e,n){ve.forEach(t=>{const{setResizeHandlerState:o}=t,i=U.includes(t);o(e,i,n)})}function Wn(){const[e,n]=fe(0);return G(()=>n(t=>t+1),[])}function x(e,n){if(!e)throw console.error(n),Error(n)}const Te=10;function ie(e,n,t=Te){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function Y(e,n,t=Te){return ie(e,n,t)===0}function V(e,n,t){return ie(e,n,t)===0}function Bn(e,n,t){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){const i=e[o],r=n[o];if(!V(i,r,t))return!1}return!0}function de({panelConstraints:e,panelIndex:n,size:t}){const o=e[n];x(o!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:r,maxSize:a=100,minSize:l=0}=o;if(ie(t,l)<0)if(r){const s=(i+l)/2;ie(t,s)<0?t=i:t=l}else t=l;return t=Math.min(a,t),t=parseFloat(t.toFixed(Te)),t}function ye({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:o,prevLayout:i,trigger:r}){if(V(e,0))return n;const a=[...n],[l,s]=o;x(l!=null,"Invalid first pivot index"),x(s!=null,"Invalid second pivot index");let d=0;if(r==="keyboard"){{const f=e<0?s:l,u=t[f];x(u,`Panel constraints not found for index ${f}`);const{collapsedSize:h=0,collapsible:g,minSize:w=0}=u;if(g){const E=n[f];if(x(E!=null,`Previous layout not found for panel index ${f}`),V(E,h)){const P=w-E;ie(P,Math.abs(e))>0&&(e=e<0?0-P:P)}}}{const f=e<0?l:s,u=t[f];x(u,`No panel constraints found for index ${f}`);const{collapsedSize:h=0,collapsible:g,minSize:w=0}=u;if(g){const E=n[f];if(x(E!=null,`Previous layout not found for panel index ${f}`),V(E,w)){const P=E-h;ie(P,Math.abs(e))>0&&(e=e<0?0-P:P)}}}}{const f=e<0?1:-1;let u=e<0?s:l,h=0;for(;;){const w=n[u];x(w!=null,`Previous layout not found for panel index ${u}`);const P=de({panelConstraints:t,panelIndex:u,size:100})-w;if(h+=P,u+=f,u<0||u>=t.length)break}const g=Math.min(Math.abs(e),Math.abs(h));e=e<0?0-g:g}{let u=e<0?l:s;for(;u>=0&&u<t.length;){const h=Math.abs(e)-Math.abs(d),g=n[u];x(g!=null,`Previous layout not found for panel index ${u}`);const w=g-h,E=de({panelConstraints:t,panelIndex:u,size:w});if(!V(g,E)&&(d+=g-E,a[u]=E,d.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?u--:u++}}if(Bn(i,a))return i;{const f=e<0?s:l,u=n[f];x(u!=null,`Previous layout not found for panel index ${f}`);const h=u+d,g=de({panelConstraints:t,panelIndex:f,size:h});if(a[f]=g,!V(g,h)){let w=h-g,P=e<0?s:l;for(;P>=0&&P<t.length;){const M=a[P];x(M!=null,`Previous layout not found for panel index ${P}`);const A=M+w,N=de({panelConstraints:t,panelIndex:P,size:A});if(V(M,N)||(w-=N-M,a[P]=N),V(w,0))break;e>0?P--:P++}}}const b=a.reduce((f,u)=>u+f,0);return V(b,100)?a:i}function Tn({layout:e,panelsArray:n,pivotIndices:t}){let o=0,i=100,r=0,a=0;const l=t[0];x(l!=null,"No pivot index found"),n.forEach((f,u)=>{const{constraints:h}=f,{maxSize:g=100,minSize:w=0}=h;u===l?(o=w,i=g):(r+=w,a+=g)});const s=Math.min(i,100-r),d=Math.max(o,100-a),b=e[l];return{valueMax:s,valueMin:d,valueNow:b}}function Se(e,n=document){return Array.from(n.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function fn(e,n,t=document){const i=Se(e,t).findIndex(r=>r.getAttribute("data-panel-resize-handle-id")===n);return i??null}function pn(e,n,t){const o=fn(e,n,t);return o!=null?[o,o+1]:[-1,-1]}function gn(e,n=document){var t;if(n instanceof HTMLElement&&(n==null||(t=n.dataset)===null||t===void 0?void 0:t.panelGroupId)==e)return n;const o=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return o||null}function $e(e,n=document){const t=n.querySelector(`[data-panel-resize-handle-id="${e}"]`);return t||null}function Vn(e,n,t,o=document){var i,r,a,l;const s=$e(n,o),d=Se(e,o),b=s?d.indexOf(s):-1,f=(i=(r=t[b])===null||r===void 0?void 0:r.id)!==null&&i!==void 0?i:null,u=(a=(l=t[b+1])===null||l===void 0?void 0:l.id)!==null&&a!==void 0?a:null;return[f,u]}function Fn({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:o,panelDataArray:i,panelGroupElement:r,setLayout:a}){const l=W({didWarnAboutMissingResizeHandle:!1});re(()=>{if(!r)return;const s=Se(t,r);for(let d=0;d<i.length-1;d++){const{valueMax:b,valueMin:f,valueNow:u}=Tn({layout:o,panelsArray:i,pivotIndices:[d,d+1]}),h=s[d];if(h==null){const{didWarnAboutMissingResizeHandle:g}=l.current;g||(l.current.didWarnAboutMissingResizeHandle=!0,console.warn(`WARNING: Missing resize handle for PanelGroup "${t}"`))}else{const g=i[d];x(g,`No panel data found for index "${d}"`),h.setAttribute("aria-controls",g.id),h.setAttribute("aria-valuemax",""+Math.round(b)),h.setAttribute("aria-valuemin",""+Math.round(f)),h.setAttribute("aria-valuenow",u!=null?""+Math.round(u):"")}}return()=>{s.forEach((d,b)=>{d.removeAttribute("aria-controls"),d.removeAttribute("aria-valuemax"),d.removeAttribute("aria-valuemin"),d.removeAttribute("aria-valuenow")})}},[t,o,i,r]),oe(()=>{if(!r)return;const s=n.current;x(s,"Eager values not found");const{panelDataArray:d}=s,b=gn(t,r);x(b!=null,`No group found for id "${t}"`);const f=Se(t,r);x(f,`No resize handles found for group id "${t}"`);const u=f.map(h=>{const g=h.getAttribute("data-panel-resize-handle-id");x(g,"Resize handle element has no handle id attribute");const[w,E]=Vn(t,g,d,r);if(w==null||E==null)return()=>{};const P=M=>{if(!M.defaultPrevented)switch(M.key){case"Enter":{M.preventDefault();const A=d.findIndex(N=>N.id===w);if(A>=0){const N=d[A];x(N,`No panel data found for index ${A}`);const K=o[A],{collapsedSize:L=0,collapsible:z,minSize:_=0}=N.constraints;if(K!=null&&z){const B=ye({delta:V(K,L)?_-L:L-K,initialLayout:o,panelConstraints:d.map(j=>j.constraints),pivotIndices:pn(t,g,r),prevLayout:o,trigger:"keyboard"});o!==B&&a(B)}}break}}};return h.addEventListener("keydown",P),()=>{h.removeEventListener("keydown",P)}});return()=>{u.forEach(h=>h())}},[r,e,n,t,o,i,a])}function _e(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function hn(e,n){const t=e==="horizontal",{x:o,y:i}=Re(n);return t?o:i}function Kn(e,n,t,o,i){const r=t==="horizontal",a=$e(n,i);x(a,`No resize handle element found for id "${n}"`);const l=a.getAttribute("data-panel-group-id");x(l,"Resize handle element has no group id attribute");let{initialCursorPosition:s}=o;const d=hn(t,e),b=gn(l,i);x(b,`No group element found for id "${l}"`);const f=b.getBoundingClientRect(),u=r?f.width:f.height;return(d-s)/u*100}function On(e,n,t,o,i,r){if(on(e)){const a=t==="horizontal";let l=0;e.shiftKey?l=100:i!=null?l=i:l=10;let s=0;switch(e.key){case"ArrowDown":s=a?0:l;break;case"ArrowLeft":s=a?-l:0;break;case"ArrowRight":s=a?l:0;break;case"ArrowUp":s=a?0:-l;break;case"End":s=100;break;case"Home":s=-100;break}return s}else return o==null?0:Kn(e,n,t,o,r)}function Un({panelDataArray:e}){const n=Array(e.length),t=e.map(r=>r.constraints);let o=0,i=100;for(let r=0;r<e.length;r++){const a=t[r];x(a,`Panel constraints not found for index ${r}`);const{defaultSize:l}=a;l!=null&&(o++,n[r]=l,i-=l)}for(let r=0;r<e.length;r++){const a=t[r];x(a,`Panel constraints not found for index ${r}`);const{defaultSize:l}=a;if(l!=null)continue;const s=e.length-o,d=i/s;o++,n[r]=d,i-=d}return n}function ue(e,n,t){n.forEach((o,i)=>{const r=e[i];x(r,`Panel data not found for index ${i}`);const{callbacks:a,constraints:l,id:s}=r,{collapsedSize:d=0,collapsible:b}=l,f=t[s];if(f==null||o!==f){t[s]=o;const{onCollapse:u,onExpand:h,onResize:g}=a;g&&g(o,f),b&&(u||h)&&(h&&(f==null||Y(f,d))&&!Y(o,d)&&h(),u&&(f==null||!Y(f,d))&&Y(o,d)&&u())}})}function Ee(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function qn({defaultSize:e,dragState:n,layout:t,panelData:o,panelIndex:i,precision:r=3}){const a=t[i];let l;return a==null?l=e!=null?e.toPrecision(r):"1":o.length===1?l="1":l=a.toPrecision(r),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function Xn(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function je(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function mn(e){return`react-resizable-panels:${e}`}function zn(e){return e.map(n=>{const{constraints:t,id:o,idIsFromProps:i,order:r}=n;return i?o:r?`${r}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function yn(e,n){try{const t=mn(e),o=n.getItem(t);if(o){const i=JSON.parse(o);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function jn(e,n,t){var o,i;const r=(o=yn(e,t))!==null&&o!==void 0?o:{},a=zn(n);return(i=r[a])!==null&&i!==void 0?i:null}function Jn(e,n,t,o,i){var r;const a=mn(e),l=zn(n),s=(r=yn(e,i))!==null&&r!==void 0?r:{};s[l]={expandToSizes:Object.fromEntries(t.entries()),layout:o};try{i.setItem(a,JSON.stringify(s))}catch(d){console.error(d)}}function Yn({panelConstraints:e,panelId:n,panelIndex:t}){{const o=[],i=e[t];x(i,`No panel constraints found for index ${t}`);const{collapsedSize:r=0,collapsible:a=!1,defaultSize:l,maxSize:s=100,minSize:d=0}=i;if(d>s&&o.push(`min size (${d}%) should not be greater than max size (${s}%)`),l!=null&&(l<0?o.push("default size should not be less than 0"):l<d&&(!a||l!==r)&&o.push("default size should not be less than min size"),l>100?o.push("default size should not be greater than 100"):l>s&&o.push("default size should not be greater than max size")),r>d&&o.push("collapsed size should not be greater than min size"),o.length>0){const b=n!=null?`Panel "${n}"`:"Panel";return console.warn(`${b} has an invalid configuration:

${o.join(`
`)}`),!1}}return!0}function Je({layout:e,panelConstraints:n}){const t=[...e],o=t.reduce((r,a)=>r+a,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(r=>`${r}%`).join(", ")}`);if(!V(o,100)&&t.length>0){console.warn(`WARNING: Invalid layout total size: ${t.map(r=>`${r}%`).join(", ")}. Layout normalization will be applied.`);for(let r=0;r<n.length;r++){const a=t[r];x(a!=null,`No layout data found for index ${r}`);const l=100/o*a;t[r]=l}}let i=0;for(let r=0;r<n.length;r++){const a=t[r];x(a!=null,`No layout data found for index ${r}`);const l=de({panelConstraints:n,panelIndex:r,size:a});a!=l&&(i+=a-l,t[r]=l)}if(!V(i,0))for(let r=0;r<n.length;r++){const a=t[r];x(a!=null,`No layout data found for index ${r}`);const l=a+i,s=de({panelConstraints:n,panelIndex:r,size:l});if(a!==s&&(i-=s-a,t[r]=s,V(i,0)))break}return t}const Zn=100,xe={getItem:e=>(je(xe),xe.getItem(e)),setItem:(e,n)=>{je(xe),xe.setItem(e,n)}},Ye={};function xn({autoSaveId:e=null,children:n,className:t="",direction:o,forwardedRef:i,id:r=null,onLayout:a=null,keyboardResizeBy:l=null,storage:s=xe,style:d,tagName:b="div",...f}){const u=Ge(r),h=W(null),[g,w]=fe(null),[E,P]=fe([]),M=Wn(),A=W({}),N=W(new Map),K=W(0),L=W({autoSaveId:e,direction:o,dragState:g,id:u,keyboardResizeBy:l,onLayout:a,storage:s}),z=W({layout:E,panelDataArray:[],panelDataArrayChanged:!1}),_=W({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]});nn(i,()=>({getId:()=>L.current.id,getLayout:()=>{const{layout:c}=z.current;return c},setLayout:c=>{const{onLayout:m}=L.current,{layout:S,panelDataArray:y}=z.current,p=Je({layout:c,panelConstraints:y.map(v=>v.constraints)});_e(S,p)||(P(p),z.current.layout=p,m&&m(p),ue(y,p,A.current))}}),[]),re(()=>{L.current.autoSaveId=e,L.current.direction=o,L.current.dragState=g,L.current.id=u,L.current.onLayout=a,L.current.storage=s}),Fn({committedValuesRef:L,eagerValuesRef:z,groupId:u,layout:E,panelDataArray:z.current.panelDataArray,setLayout:P,panelGroupElement:h.current}),oe(()=>{const{panelDataArray:c}=z.current;if(e){if(E.length===0||E.length!==c.length)return;let m=Ye[e];m==null&&(m=Xn(Jn,Zn),Ye[e]=m);const S=[...c],y=new Map(N.current);m(e,S,y,E,s)}},[e,E,s]),oe(()=>{{const{panelDataArray:c}=z.current,{didLogIdAndOrderWarning:m,didLogPanelConstraintsWarning:S,prevPanelIds:y}=_.current;if(!m){const p=c.map(({id:C})=>C);_.current.prevPanelIds=p,y.length>0&&!_e(y,p)&&c.find(({idIsFromProps:C,order:I})=>!C||I==null)&&(_.current.didLogIdAndOrderWarning=!0,console.warn("WARNING: Panel id and order props recommended when panels are dynamically rendered"))}if(!S){const p=c.map(v=>v.constraints);for(let v=0;v<p.length;v++){const C=c[v];if(x(C,`Panel data not found for index ${v}`),!Yn({panelConstraints:p,panelId:C.id,panelIndex:v})){_.current.didLogPanelConstraintsWarning=!0;break}}}}});const B=G(c=>{const{onLayout:m}=L.current,{layout:S,panelDataArray:y}=z.current;if(c.constraints.collapsible){const p=y.map(q=>q.constraints),{collapsedSize:v=0,panelSize:C,pivotIndices:I}=ne(y,c,S);if(x(C!=null,`Panel size not found for panel "${c.id}"`),!Y(C,v)){N.current.set(c.id,C);const X=ce(y,c)===y.length-1?C-v:v-C,R=ye({delta:X,initialLayout:S,panelConstraints:p,pivotIndices:I,prevLayout:S,trigger:"imperative-api"});Ee(S,R)||(P(R),z.current.layout=R,m&&m(R),ue(y,R,A.current))}}},[]),j=G((c,m)=>{const{onLayout:S}=L.current,{layout:y,panelDataArray:p}=z.current;if(c.constraints.collapsible){const v=p.map(O=>O.constraints),{collapsedSize:C=0,panelSize:I=0,minSize:q=0,pivotIndices:X}=ne(p,c,y),R=m??q;if(Y(I,C)){const O=N.current.get(c.id),he=O!=null&&O>=R?O:R,Ne=ce(p,c)===p.length-1?I-he:he-I,H=ye({delta:Ne,initialLayout:y,panelConstraints:v,pivotIndices:X,prevLayout:y,trigger:"imperative-api"});Ee(y,H)||(P(H),z.current.layout=H,S&&S(H),ue(p,H,A.current))}}},[]),F=G(c=>{const{layout:m,panelDataArray:S}=z.current,{panelSize:y}=ne(S,c,m);return x(y!=null,`Panel size not found for panel "${c.id}"`),y},[]),$=G((c,m)=>{const{panelDataArray:S}=z.current,y=ce(S,c);return qn({defaultSize:m,dragState:g,layout:E,panelData:S,panelIndex:y})},[g,E]),ae=G(c=>{const{layout:m,panelDataArray:S}=z.current,{collapsedSize:y=0,collapsible:p,panelSize:v}=ne(S,c,m);return x(v!=null,`Panel size not found for panel "${c.id}"`),p===!0&&Y(v,y)},[]),Z=G(c=>{const{layout:m,panelDataArray:S}=z.current,{collapsedSize:y=0,collapsible:p,panelSize:v}=ne(S,c,m);return x(v!=null,`Panel size not found for panel "${c.id}"`),!p||ie(v,y)>0},[]),D=G(c=>{const{panelDataArray:m}=z.current;m.push(c),m.sort((S,y)=>{const p=S.order,v=y.order;return p==null&&v==null?0:p==null?-1:v==null?1:p-v}),z.current.panelDataArrayChanged=!0,M()},[M]);re(()=>{if(z.current.panelDataArrayChanged){z.current.panelDataArrayChanged=!1;const{autoSaveId:c,onLayout:m,storage:S}=L.current,{layout:y,panelDataArray:p}=z.current;let v=null;if(c){const I=jn(c,p,S);I&&(N.current=new Map(Object.entries(I.expandToSizes)),v=I.layout)}v==null&&(v=Un({panelDataArray:p}));const C=Je({layout:v,panelConstraints:p.map(I=>I.constraints)});_e(y,C)||(P(C),z.current.layout=C,m&&m(C),ue(p,C,A.current))}}),re(()=>{const c=z.current;return()=>{c.layout=[]}},[]);const k=G(c=>{let m=!1;const S=h.current;return S&&window.getComputedStyle(S,null).getPropertyValue("direction")==="rtl"&&(m=!0),function(p){p.preventDefault();const v=h.current;if(!v)return()=>null;const{direction:C,dragState:I,id:q,keyboardResizeBy:X,onLayout:R}=L.current,{layout:O,panelDataArray:he}=z.current,{initialLayout:we}=I??{},Ne=pn(q,c,v);let H=On(p,c,C,I,X,v);const Ve=C==="horizontal";Ve&&m&&(H=-H);const vn=he.map(Sn=>Sn.constraints),me=ye({delta:H,initialLayout:we??O,panelConstraints:vn,pivotIndices:Ne,prevLayout:O,trigger:on(p)?"keyboard":"mouse-or-touch"}),Fe=!Ee(O,me);(rn(p)||an(p))&&K.current!=H&&(K.current=H,!Fe&&H!==0?Ve?ke(c,H<0?sn:un):ke(c,H<0?cn:dn):ke(c,0)),Fe&&(P(me),z.current.layout=me,R&&R(me),ue(he,me,A.current))}},[]),T=G((c,m)=>{const{onLayout:S}=L.current,{layout:y,panelDataArray:p}=z.current,v=p.map(O=>O.constraints),{panelSize:C,pivotIndices:I}=ne(p,c,y);x(C!=null,`Panel size not found for panel "${c.id}"`);const X=ce(p,c)===p.length-1?C-m:m-C,R=ye({delta:X,initialLayout:y,panelConstraints:v,pivotIndices:I,prevLayout:y,trigger:"imperative-api"});Ee(y,R)||(P(R),z.current.layout=R,S&&S(R),ue(p,R,A.current))},[]),ee=G((c,m)=>{const{layout:S,panelDataArray:y}=z.current,{collapsedSize:p=0,collapsible:v}=m,{collapsedSize:C=0,collapsible:I,maxSize:q=100,minSize:X=0}=c.constraints,{panelSize:R}=ne(y,c,S);R!=null&&(v&&I&&Y(R,p)?Y(p,C)||T(c,C):R<X?T(c,X):R>q&&T(c,q))},[T]),Me=G((c,m)=>{const{direction:S}=L.current,{layout:y}=z.current;if(!h.current)return;const p=$e(c,h.current);x(p,`Drag handle element not found for id "${c}"`);const v=hn(S,m);w({dragHandleId:c,dragHandleRect:p.getBoundingClientRect(),initialCursorPosition:v,initialLayout:y})},[]),Pe=G(()=>{w(null)},[]),be=G(c=>{const{panelDataArray:m}=z.current,S=ce(m,c);S>=0&&(m.splice(S,1),delete A.current[c.id],z.current.panelDataArrayChanged=!0,M())},[M]),le=wn(()=>({collapsePanel:B,direction:o,dragState:g,expandPanel:j,getPanelSize:F,getPanelStyle:$,groupId:u,isPanelCollapsed:ae,isPanelExpanded:Z,reevaluatePanelConstraints:ee,registerPanel:D,registerResizeHandle:k,resizePanel:T,startDragging:Me,stopDragging:Pe,unregisterPanel:be,panelGroupElement:h.current}),[B,g,o,j,F,$,u,ae,Z,ee,D,k,T,Me,Pe,be]),J={display:"flex",flexDirection:o==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return ge(Ie.Provider,{value:le},ge(b,{...f,children:n,className:t,id:r,ref:h,style:{...J,...d},"data-panel-group":"","data-panel-group-direction":o,"data-panel-group-id":u}))}const Qn=Qe((e,n)=>ge(xn,{...e,forwardedRef:n}));xn.displayName="PanelGroup";Qn.displayName="forwardRef(PanelGroup)";function ce(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function ne(e,n,t){const o=ce(e,n),r=o===e.length-1?[o-1,o]:[o,o+1],a=t[o];return{...n.constraints,panelSize:a,pivotIndices:r}}function et({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:o}){oe(()=>{if(e||t==null||o==null)return;const i=$e(n,o);if(i==null)return;const r=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),t(a);break}case"F6":{a.preventDefault();const l=i.getAttribute("data-panel-group-id");x(l,`No group element found for id "${l}"`);const s=Se(l,o),d=fn(l,n,o);x(d!==null,`No resize element found for id "${n}"`);const b=a.shiftKey?d>0?d-1:s.length-1:d+1<s.length?d+1:0;s[b].focus();break}}};return i.addEventListener("keydown",r),()=>{i.removeEventListener("keydown",r)}},[o,e,n,t])}function nt({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:o,id:i,onBlur:r,onDragging:a,onFocus:l,style:s={},tabIndex:d=0,tagName:b="div",...f}){var u,h;const g=W(null),w=W({onDragging:a});oe(()=>{w.current.onDragging=a});const E=en(Ie);if(E===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:P,groupId:M,registerResizeHandle:A,startDragging:N,stopDragging:K,panelGroupElement:L}=E,z=Ge(i),[_,B]=fe("inactive"),[j,F]=fe(!1),[$,ae]=fe(null),Z=W({state:_});re(()=>{Z.current.state=_}),oe(()=>{if(t)ae(null);else{const ee=A(z);ae(()=>ee)}},[t,z,A]);const D=(u=o?.coarse)!==null&&u!==void 0?u:15,k=(h=o?.fine)!==null&&h!==void 0?h:5;return oe(()=>{if(t||$==null)return;const ee=g.current;return x(ee,"Element ref not attached"),Gn(z,ee,P,{coarse:D,fine:k},(Pe,be,le)=>{if(be)switch(Pe){case"down":{B("drag"),x(le,'Expected event to be defined for "down" action'),N(z,le);const{onDragging:J}=w.current;J&&J(!0);break}case"move":{const{state:J}=Z.current;J!=="drag"&&B("hover"),x(le,'Expected event to be defined for "move" action'),$(le);break}case"up":{B("hover"),K();const{onDragging:J}=w.current;J&&J(!1);break}}else B("inactive")})},[D,P,t,k,A,z,$,N,K]),et({disabled:t,handleId:z,resizeHandler:$,panelGroupElement:L}),ge(b,{...f,children:e,className:n,id:i,onBlur:()=>{F(!1),r?.()},onFocus:()=>{F(!0),l?.()},ref:g,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...s},tabIndex:d,"data-panel-group-direction":P,"data-panel-group-id":M,"data-resize-handle":"","data-resize-handle-active":_==="drag"?"pointer":j?"keyboard":void 0,"data-resize-handle-state":_,"data-panel-resize-handle-enabled":!t,"data-panel-resize-handle-id":z})}nt.displayName="PanelResizeHandle";export{Qn as P,In as a,nt as b};
