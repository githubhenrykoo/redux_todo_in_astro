# Git Activity Log - christaevo2g
Generated at: Thu Apr  3 00:42:49 UTC 2025
## Changes by christaevo2g
```diff
commit 87031f3e4d36b3db730db72f06f29335dd090967
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Thu Apr 3 07:59:29 2025 +0800

    update

diff --git a/src/components/panels/SimpleMQTTDashboardPanel.jsx b/src/components/panels/SimpleMQTTDashboardPanel.jsx
index 79edb84..0c7301d 100644
--- a/src/components/panels/SimpleMQTTDashboardPanel.jsx
+++ b/src/components/panels/SimpleMQTTDashboardPanel.jsx
@@ -323,7 +323,7 @@ const SimpleMQTTDashboardPanel = () => {
   // UI rendering
   return (
     <div className="flex flex-col h-full overflow-auto bg-[#121212] text-[#e0e0e0] p-4">
-      <h2 className="text-center text-xl font-semibold mb-4">MQTT Dashboard - Dark Mode</h2>
+      <h2 className="text-center text-xl font-semibold text-[#03dac6] mb-4">MQTT Dashboard - Dark Mode</h2>
       <p className="text-center italic mb-5">{connectionStatus}</p>
       
       {/* Temperature Chart */}
@@ -333,12 +333,12 @@ const SimpleMQTTDashboardPanel = () => {
       
       <p className="text-center mb-4">
         Current Temperature: 
-        <span className="font-bold text-2xl ml-2">
+        <span className="font-bold text-2xl ml-2 text-[#03dac6]">
           {localTemp !== '--' ? `${localTemp}¬∞C` : (currentTemp && currentTemp !== '--' ? `${currentTemp}¬∞C` : '--')}
         </span>
       </p>
       
-      <h3 className="text-center text-lg font-semibold mb-4">Data Energy Meter</h3>
+      <h3 className="text-center text-lg font-semibold text-[#03dac6] mb-4">Data Energy Meter</h3>
       
       {/* Controls */}
       <div className="flex flex-wrap justify-center gap-2 mb-6 items-center">
@@ -380,7 +380,7 @@ const SimpleMQTTDashboardPanel = () => {
         </div>
       </div>
       
-      <h3 className="text-center text-lg font-semibold mb-4">Send Message</h3>
+      <h3 className="text-center text-lg font-semibold text-[#03dac6] mb-4">Send Message</h3>
       
       {/* Text Input */}
       <div className="flex flex-col md:flex-row gap-2 mb-4">
@@ -399,6 +399,9 @@ const SimpleMQTTDashboardPanel = () => {
           Send
         </button>
       </div>
+      
+      {/* Published Messages */}
+      <PublishedMessages />
     </div>
   );
 };
diff --git a/tests/mqtt-automation.ts b/tests/mqtt-automation.ts
index d571e7f..a4123a6 100644
--- a/tests/mqtt-automation.ts
+++ b/tests/mqtt-automation.ts
@@ -42,7 +42,7 @@ import fs from 'fs';
   
   // Step 2: Click on the "Nyalakan LED" button
   console.log('Turning on the LED...');
-  await page.click('button:has-text("Nyalakan LED")');
+  await page.click('button:has-text("Turn on LED")');
   
   // Wait for the action to take effect
   await page.waitForTimeout(2000);
@@ -76,7 +76,7 @@ import fs from 'fs';
   
   // Step 4: Click the send button
   console.log('Sending message...');
-  await page.click('button:has-text("Kirim")');
+  await page.click('button:has-text("Send")');
   
   // Wait for the action to take effect
   await page.waitForTimeout(2000);
@@ -88,7 +88,7 @@ import fs from 'fs';
   
   // Step 5: Turn off the LED (assuming there's a "Matikan LED" button)
   console.log('Turning off the LED...');
-  await page.click('button:has-text("Matikan LED")');
+  await page.click('button:has-text("Turn off LED")');
   
   // Wait for the action to take effect
   await page.waitForTimeout(2000);

commit e5cb93c1b3eed33c932b969671c898485c3d731a
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Thu Apr 3 07:40:03 2025 +0800

    Update

diff --git a/src/components/panels/SimpleMQTTDashboardPanel.jsx b/src/components/panels/SimpleMQTTDashboardPanel.jsx
index 8c7642f..79edb84 100644
--- a/src/components/panels/SimpleMQTTDashboardPanel.jsx
+++ b/src/components/panels/SimpleMQTTDashboardPanel.jsx
@@ -323,7 +323,7 @@ const SimpleMQTTDashboardPanel = () => {
   // UI rendering
   return (
     <div className="flex flex-col h-full overflow-auto bg-[#121212] text-[#e0e0e0] p-4">
-      <h2 className="text-center text-xl font-semibold text-[#03dac6] mb-4">MQTT Dashboard - Dark Mode</h2>
+      <h2 className="text-center text-xl font-semibold mb-4">MQTT Dashboard - Dark Mode</h2>
       <p className="text-center italic mb-5">{connectionStatus}</p>
       
       {/* Temperature Chart */}
@@ -333,12 +333,12 @@ const SimpleMQTTDashboardPanel = () => {
       
       <p className="text-center mb-4">
         Current Temperature: 
-        <span className="font-bold text-2xl ml-2 text-[#03dac6]">
+        <span className="font-bold text-2xl ml-2">
           {localTemp !== '--' ? `${localTemp}¬∞C` : (currentTemp && currentTemp !== '--' ? `${currentTemp}¬∞C` : '--')}
         </span>
       </p>
       
-      <h3 className="text-center text-lg font-semibold text-[#03dac6] mb-4">Data Energy Meter</h3>
+      <h3 className="text-center text-lg font-semibold mb-4">Data Energy Meter</h3>
       
       {/* Controls */}
       <div className="flex flex-wrap justify-center gap-2 mb-6 items-center">
@@ -346,13 +346,13 @@ const SimpleMQTTDashboardPanel = () => {
           className="bg-[#00c853] hover:bg-[#00b248] text-white px-5 py-2 rounded-md transition-colors"
           onClick={() => toggleLED('1')}
         >
-          Nyalakan LED
+          Turn on LED
         </button>
         <button 
           className="bg-[#d50000] hover:bg-[#b71c1c] text-white px-5 py-2 rounded-md transition-colors"
           onClick={() => toggleLED('0')}
         >
-          Matikan LED
+          Turn off LED
         </button>
       </div>
       
@@ -380,7 +380,7 @@ const SimpleMQTTDashboardPanel = () => {
         </div>
       </div>
       
-      <h3 className="text-center text-lg font-semibold text-[#03dac6] mb-4">Send Message</h3>
+      <h3 className="text-center text-lg font-semibold mb-4">Send Message</h3>
       
       {/* Text Input */}
       <div className="flex flex-col md:flex-row gap-2 mb-4">
@@ -389,19 +389,16 @@ const SimpleMQTTDashboardPanel = () => {
           value={customText}
           onChange={(e) => setCustomText(e.target.value)}
           onKeyPress={handleKeyPress}
-          placeholder="Tulis pesan..."
+          placeholder="Enter your message here..."
           className="flex-grow bg-[#2d2d2d] text-white px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-[#03dac6]"
         />
         <button
           onClick={sendText}
           className="bg-[#03dac6] hover:bg-[#018786] text-black font-medium px-6 py-2 rounded-md transition-colors"
         >
-          Kirim
+          Send
         </button>
       </div>
-      
-      {/* Published Messages */}
-      <PublishedMessages />
     </div>
   );
 };
diff --git a/tests/mqtt-automation.ts b/tests/mqtt-automation.ts
index b4aaae8..d571e7f 100644
--- a/tests/mqtt-automation.ts
+++ b/tests/mqtt-automation.ts
@@ -58,10 +58,10 @@ import fs from 'fs';
   const messageToType = `time: ${currentTime}`;
   
   // Focus on the input field first
-  await page.click('input[placeholder="Tulis pesan..."]');
+  await page.click('input[placeholder="Enter your message here..."]');
   
   // Clear any existing text
-  await page.fill('input[placeholder="Tulis pesan..."]', '');
+  await page.fill('input[placeholder="Enter your message here..."]', '');
   
   // Type each character with a small delay to make it visible
   for (const char of messageToType) {

commit 1b00d52557bd2b42c7db40dbf022b500d763b126
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 19:45:03 2025 +0800

    update

diff --git a/src/components/panels/SimpleMQTTDashboardPanel.jsx b/src/components/panels/SimpleMQTTDashboardPanel.jsx
index 6782440..8c7642f 100644
--- a/src/components/panels/SimpleMQTTDashboardPanel.jsx
+++ b/src/components/panels/SimpleMQTTDashboardPanel.jsx
@@ -34,9 +34,6 @@ const SimpleMQTTDashboardPanel = () => {
   // Get MQTT state from Redux with fallback values
   const mqttState = useSelector(state => state.mqtt) || {};
   
-  // Get the full Redux state for export
-  const fullReduxState = useSelector(state => state);
-  
   // Access currentTemp directly to ensure we get the latest value
   const currentTemp = useSelector(state => state.mqtt?.currentTemp) || '--';
   
@@ -278,19 +275,6 @@ const SimpleMQTTDashboardPanel = () => {
     }
   }, [mqttState.temperatureHistory]);
   
-  // Add state to track user actions
-  const [userActions, setUserActions] = useState([]);
-  
-  // Function to record user actions
-  const recordUserAction = (actionType, details) => {
-    const newAction = {
-      type: actionType,
-      details: details,
-      timestamp: new Date().toISOString()
-    };
-    setUserActions(prevActions => [...prevActions, newAction]);
-  };
-  
   // MQTT control functions
   const toggleLED = (state) => {
     if (mqttClientRef.current) {
@@ -305,9 +289,6 @@ const SimpleMQTTDashboardPanel = () => {
       }));
       
       dispatch(setLedStatus(state === '1' ? 'on' : 'off'));
-      
-      // Record user action
-      recordUserAction('TOGGLE_LED', { state: state, ledStatus: state === '1' ? 'on' : 'off' });
     } else {
       console.warn('MQTT client not initialized yet');
       dispatch(setConnectionStatus('‚ö†Ô∏è MQTT client not ready, try again in a moment'));
@@ -326,9 +307,6 @@ const SimpleMQTTDashboardPanel = () => {
         timestamp: new Date().toISOString()
       }));
       
-      // Record user action
-      recordUserAction('SEND_TEXT', { text: customText });
-      
       setCustomText('');
     } else if (!mqttClientRef.current) {
       console.warn('MQTT client not initialized yet');
@@ -336,116 +314,6 @@ const SimpleMQTTDashboardPanel = () => {
     }
   };
   
-  // Function to export Redux state to JSON file
-  const exportStateToJson = (state, fullState) => {
-    try {
-      // Create a comprehensive export object
-      const stateToExport = {
-        mqtt: JSON.parse(JSON.stringify(state)),
-        fullReduxState: JSON.parse(JSON.stringify(fullState)),
-        exportedAt: new Date().toISOString(),
-        appVersion: '1.0.0',
-        deviceInfo: {
-          userAgent: navigator.userAgent,
-          platform: navigator.platform,
-          language: navigator.language
-        },
-        // Include user actions from local state
-        userActions: JSON.parse(JSON.stringify(userActions))
-      };
-      
-      // Add action history if available in the Redux DevTools extension
-      if (window.__REDUX_DEVTOOLS_EXTENSION__) {
-        try {
-          // Attempt to get action history from Redux DevTools
-          const actionHistory = [];
-          
-          // Create a listener for Redux DevTools to capture actions
-          const unsubscribe = window.__REDUX_DEVTOOLS_EXTENSION__.connect().subscribe((message) => {
-            if (message.type === 'DISPATCH' && message.payload.actionsById) {
-              // Extract actions from DevTools state
-              const actions = Object.values(message.payload.actionsById)
-                .map(action => ({
-                  type: action.action.type,
-                  payload: action.action.payload,
-                  timestamp: new Date().toISOString()
-                }));
-              
-              actionHistory.push(...actions);
-            }
-          });
-          
-          // Force a state update to trigger the listener
-          window.__REDUX_DEVTOOLS_EXTENSION__.send('GET_ACTIONS_BY_ID', {});
-          
-          // Add action history to export
-          stateToExport.actionHistory = actionHistory;
-          
-          // Clean up listener
-          setTimeout(() => unsubscribe(), 100);
-        } catch (e) {
-          console.warn('Could not extract action history from Redux DevTools:', e);
-          stateToExport.actionHistoryError = e.message;
-        }
-      }
-      
-      // Ensure published messages are included
-      if (state.publishedMessages) {
-        stateToExport.publishedMessages = JSON.parse(JSON.stringify(state.publishedMessages));
-      }
-      
-      // Include temperature history data
-      if (state.temperatureHistory) {
-        stateToExport.temperatureHistory = JSON.parse(JSON.stringify(state.temperatureHistory));
-      }
-      
-      // Include sensor readings
-      stateToExport.sensorReadings = {
-        temperature: state.currentTemp || '--',
-        voltage: state.voltage || '--',
-        current: state.current || '--',
-        power: state.power || '--',
-        kwh: state.kwh || '--',
-        powerFactor: state.powerFactor || '--'
-      };
-      
-      // Convert state to JSON string with pretty formatting
-      const jsonString = JSON.stringify(stateToExport, null, 2);
-      
-      // Create a blob with the JSON data
-      const blob = new Blob([jsonString], { type: 'application/json' });
-      
-      // Create a URL for the blob
-      const url = URL.createObjectURL(blob);
-      
-      // Create a temporary anchor element to trigger the download
-      const a = document.createElement('a');
-      a.href = url;
-      a.download = `mqtt-data-${new Date().toISOString().replace(/:/g, '-')}.json`;
-      
-      // Append the anchor to the body, click it, and remove it
-      document.body.appendChild(a);
-      a.click();
-      
-      // Clean up
-      setTimeout(() => {
-        document.body.removeChild(a);
-        URL.revokeObjectURL(url);
-      }, 0);
-      
-      console.log('Complete Redux state and action history exported successfully');
-      dispatch(setConnectionStatus('‚úÖ Complete data with action history exported successfully'));
-      
-      // Reset status message after a delay
-      setTimeout(() => {
-        dispatch(setConnectionStatus('‚úÖ Connected to MQTT Broker'));
-      }, 3000);
-    } catch (error) {
-      console.error('Error exporting Redux state:', error);
-      dispatch(setConnectionStatus('‚ùå Error exporting data: ' + error.message));
-    }
-  };
-  
   const handleKeyPress = (e) => {
     if (e.key === 'Enter') {
       sendText();
@@ -456,18 +324,7 @@ const SimpleMQTTDashboardPanel = () => {
   return (
     <div className="flex flex-col h-full overflow-auto bg-[#121212] text-[#e0e0e0] p-4">
       <h2 className="text-center text-xl font-semibold text-[#03dac6] mb-4">MQTT Dashboard - Dark Mode</h2>
-      <div className="flex justify-between items-center mb-5">
-        <p className="text-center italic flex-grow">{connectionStatus}</p>
-        <button
-          onClick={() => {
-            recordUserAction('EXPORT_DATA', { timestamp: new Date().toISOString() });
-            exportStateToJson(mqttState, fullReduxState);
-          }}
-          className="bg-[#3700B3] hover:bg-[#6200EE] text-white px-3 py-1 rounded-md text-sm transition-colors"
-        >
-          Export Data
-        </button>
-      </div>
+      <p className="text-center italic mb-5">{connectionStatus}</p>
       
       {/* Temperature Chart */}
       <div className="bg-[#1f1f1f] rounded-lg p-3 mb-5 h-64">
@@ -487,17 +344,13 @@ const SimpleMQTTDashboardPanel = () => {
       <div className="flex flex-wrap justify-center gap-2 mb-6 items-center">
         <button 
           className="bg-[#00c853] hover:bg-[#00b248] text-white px-5 py-2 rounded-md transition-colors"
-          onClick={() => {
-            toggleLED('1');
-          }}
+          onClick={() => toggleLED('1')}
         >
           Nyalakan LED
         </button>
         <button 
           className="bg-[#d50000] hover:bg-[#b71c1c] text-white px-5 py-2 rounded-md transition-colors"
-          onClick={() => {
-            toggleLED('0');
-          }}
+          onClick={() => toggleLED('0')}
         >
           Matikan LED
         </button>

commit 1e0457b34f7b76f8d5466fbeee7513b881d034bc
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 19:38:25 2025 +0800

    Update

diff --git a/package.json b/package.json
index 5f3b8c4..0520f89 100644
--- a/package.json
+++ b/package.json
@@ -21,7 +21,8 @@
     "test:content-detector": "jest src/test/content_type_detector.test.js",
     "test:content-detector:coverage": "jest src/test/content_type_detector.test.js --coverage",
     "test:content-detector:simple": "node src/test/run-content-type-tests.js",
-    "test:add-more-data": "node src/test/add-more-test-data.js"
+    "test:add-more-data": "node src/test/add-more-test-data.js",
+    "mqtt-test": "ts-node tests/mqtt-automation.ts"
   },
   "dependencies": {
     "@astrojs/react": "^4.2.1",
diff --git a/src/components/panels/SimpleMQTTDashboardPanel.jsx b/src/components/panels/SimpleMQTTDashboardPanel.jsx
index 8c7642f..6782440 100644
--- a/src/components/panels/SimpleMQTTDashboardPanel.jsx
+++ b/src/components/panels/SimpleMQTTDashboardPanel.jsx
@@ -34,6 +34,9 @@ const SimpleMQTTDashboardPanel = () => {
   // Get MQTT state from Redux with fallback values
   const mqttState = useSelector(state => state.mqtt) || {};
   
+  // Get the full Redux state for export
+  const fullReduxState = useSelector(state => state);
+  
   // Access currentTemp directly to ensure we get the latest value
   const currentTemp = useSelector(state => state.mqtt?.currentTemp) || '--';
   
@@ -275,6 +278,19 @@ const SimpleMQTTDashboardPanel = () => {
     }
   }, [mqttState.temperatureHistory]);
   
+  // Add state to track user actions
+  const [userActions, setUserActions] = useState([]);
+  
+  // Function to record user actions
+  const recordUserAction = (actionType, details) => {
+    const newAction = {
+      type: actionType,
+      details: details,
+      timestamp: new Date().toISOString()
+    };
+    setUserActions(prevActions => [...prevActions, newAction]);
+  };
+  
   // MQTT control functions
   const toggleLED = (state) => {
     if (mqttClientRef.current) {
@@ -289,6 +305,9 @@ const SimpleMQTTDashboardPanel = () => {
       }));
       
       dispatch(setLedStatus(state === '1' ? 'on' : 'off'));
+      
+      // Record user action
+      recordUserAction('TOGGLE_LED', { state: state, ledStatus: state === '1' ? 'on' : 'off' });
     } else {
       console.warn('MQTT client not initialized yet');
       dispatch(setConnectionStatus('‚ö†Ô∏è MQTT client not ready, try again in a moment'));
@@ -307,6 +326,9 @@ const SimpleMQTTDashboardPanel = () => {
         timestamp: new Date().toISOString()
       }));
       
+      // Record user action
+      recordUserAction('SEND_TEXT', { text: customText });
+      
       setCustomText('');
     } else if (!mqttClientRef.current) {
       console.warn('MQTT client not initialized yet');
@@ -314,6 +336,116 @@ const SimpleMQTTDashboardPanel = () => {
     }
   };
   
+  // Function to export Redux state to JSON file
+  const exportStateToJson = (state, fullState) => {
+    try {
+      // Create a comprehensive export object
+      const stateToExport = {
+        mqtt: JSON.parse(JSON.stringify(state)),
+        fullReduxState: JSON.parse(JSON.stringify(fullState)),
+        exportedAt: new Date().toISOString(),
+        appVersion: '1.0.0',
+        deviceInfo: {
+          userAgent: navigator.userAgent,
+          platform: navigator.platform,
+          language: navigator.language
+        },
+        // Include user actions from local state
+        userActions: JSON.parse(JSON.stringify(userActions))
+      };
+      
+      // Add action history if available in the Redux DevTools extension
+      if (window.__REDUX_DEVTOOLS_EXTENSION__) {
+        try {
+          // Attempt to get action history from Redux DevTools
+          const actionHistory = [];
+          
+          // Create a listener for Redux DevTools to capture actions
+          const unsubscribe = window.__REDUX_DEVTOOLS_EXTENSION__.connect().subscribe((message) => {
+            if (message.type === 'DISPATCH' && message.payload.actionsById) {
+              // Extract actions from DevTools state
+              const actions = Object.values(message.payload.actionsById)
+                .map(action => ({
+                  type: action.action.type,
+                  payload: action.action.payload,
+                  timestamp: new Date().toISOString()
+                }));
+              
+              actionHistory.push(...actions);
+            }
+          });
+          
+          // Force a state update to trigger the listener
+          window.__REDUX_DEVTOOLS_EXTENSION__.send('GET_ACTIONS_BY_ID', {});
+          
+          // Add action history to export
+          stateToExport.actionHistory = actionHistory;
+          
+          // Clean up listener
+          setTimeout(() => unsubscribe(), 100);
+        } catch (e) {
+          console.warn('Could not extract action history from Redux DevTools:', e);
+          stateToExport.actionHistoryError = e.message;
+        }
+      }
+      
+      // Ensure published messages are included
+      if (state.publishedMessages) {
+        stateToExport.publishedMessages = JSON.parse(JSON.stringify(state.publishedMessages));
+      }
+      
+      // Include temperature history data
+      if (state.temperatureHistory) {
+        stateToExport.temperatureHistory = JSON.parse(JSON.stringify(state.temperatureHistory));
+      }
+      
+      // Include sensor readings
+      stateToExport.sensorReadings = {
+        temperature: state.currentTemp || '--',
+        voltage: state.voltage || '--',
+        current: state.current || '--',
+        power: state.power || '--',
+        kwh: state.kwh || '--',
+        powerFactor: state.powerFactor || '--'
+      };
+      
+      // Convert state to JSON string with pretty formatting
+      const jsonString = JSON.stringify(stateToExport, null, 2);
+      
+      // Create a blob with the JSON data
+      const blob = new Blob([jsonString], { type: 'application/json' });
+      
+      // Create a URL for the blob
+      const url = URL.createObjectURL(blob);
+      
+      // Create a temporary anchor element to trigger the download
+      const a = document.createElement('a');
+      a.href = url;
+      a.download = `mqtt-data-${new Date().toISOString().replace(/:/g, '-')}.json`;
+      
+      // Append the anchor to the body, click it, and remove it
+      document.body.appendChild(a);
+      a.click();
+      
+      // Clean up
+      setTimeout(() => {
+        document.body.removeChild(a);
+        URL.revokeObjectURL(url);
+      }, 0);
+      
+      console.log('Complete Redux state and action history exported successfully');
+      dispatch(setConnectionStatus('‚úÖ Complete data with action history exported successfully'));
+      
+      // Reset status message after a delay
+      setTimeout(() => {
+        dispatch(setConnectionStatus('‚úÖ Connected to MQTT Broker'));
+      }, 3000);
+    } catch (error) {
+      console.error('Error exporting Redux state:', error);
+      dispatch(setConnectionStatus('‚ùå Error exporting data: ' + error.message));
+    }
+  };
+  
   const handleKeyPress = (e) => {
     if (e.key === 'Enter') {
       sendText();
@@ -324,7 +456,18 @@ const SimpleMQTTDashboardPanel = () => {
   return (
     <div className="flex flex-col h-full overflow-auto bg-[#121212] text-[#e0e0e0] p-4">
       <h2 className="text-center text-xl font-semibold text-[#03dac6] mb-4">MQTT Dashboard - Dark Mode</h2>
-      <p className="text-center italic mb-5">{connectionStatus}</p>
+      <div className="flex justify-between items-center mb-5">
+        <p className="text-center italic flex-grow">{connectionStatus}</p>
+        <button
+          onClick={() => {
+            recordUserAction('EXPORT_DATA', { timestamp: new Date().toISOString() });
+            exportStateToJson(mqttState, fullReduxState);
+          }}
+          className="bg-[#3700B3] hover:bg-[#6200EE] text-white px-3 py-1 rounded-md text-sm transition-colors"
+        >
+          Export Data
+        </button>
+      </div>
       
       {/* Temperature Chart */}
       <div className="bg-[#1f1f1f] rounded-lg p-3 mb-5 h-64">
@@ -344,13 +487,17 @@ const SimpleMQTTDashboardPanel = () => {
       <div className="flex flex-wrap justify-center gap-2 mb-6 items-center">
         <button 
           className="bg-[#00c853] hover:bg-[#00b248] text-white px-5 py-2 rounded-md transition-colors"
-          onClick={() => toggleLED('1')}
+          onClick={() => {
+            toggleLED('1');
+          }}
         >
           Nyalakan LED
         </button>
         <button 
           className="bg-[#d50000] hover:bg-[#b71c1c] text-white px-5 py-2 rounded-md transition-colors"
-          onClick={() => toggleLED('0')}
+          onClick={() => {
+            toggleLED('0');
+          }}
         >
           Matikan LED
         </button>

commit 18bff80515fdde708279f7b3f6e0c799d5b357db
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 19:10:40 2025 +0800

    Update

diff --git a/src/components/panels/SimpleMQTTDashboardPanel.jsx b/src/components/panels/SimpleMQTTDashboardPanel.jsx
index 0ce4d11..8c7642f 100644
--- a/src/components/panels/SimpleMQTTDashboardPanel.jsx
+++ b/src/components/panels/SimpleMQTTDashboardPanel.jsx
@@ -24,17 +24,21 @@ import PublishedMessages from '../PublishedMessages';
  * and avoids issues with server-side rendering
  */
 const SimpleMQTTDashboardPanel = () => {
-  // Local state for input field
+  // Local state for input field and temperature
   const [customText, setCustomText] = useState('');
+  const [localTemp, setLocalTemp] = useState('--');
   
   // Get Redux dispatch function
   const dispatch = useDispatch();
   
   // Get MQTT state from Redux with fallback values
   const mqttState = useSelector(state => state.mqtt) || {};
+  
+  // Access currentTemp directly to ensure we get the latest value
+  const currentTemp = useSelector(state => state.mqtt?.currentTemp) || '--';
+  
   const {
     connectionStatus = 'Waiting for MQTT library...',
-    currentTemp = '--',
     voltage = '--',
     current = '--',
     power = '--',
@@ -44,6 +48,12 @@ const SimpleMQTTDashboardPanel = () => {
     ledStatus = 'off'
   } = mqttState;
   
+  // Add more detailed debug log
+  useEffect(() => {
+    console.log('Current temperature from Redux:', currentTemp);
+    console.log('Full MQTT state:', mqttState);
+  }, [currentTemp, mqttState]);
+  
   // References for Chart.js canvas and MQTT client
   const chartCanvasRef = useRef(null);
   const mqttClientRef = useRef(null);
@@ -127,8 +137,16 @@ const SimpleMQTTDashboardPanel = () => {
                 const suhu = parseFloat(msg);
                 if (!isNaN(suhu)) {
                   console.log(`Updating temperature to: ${suhu}¬∞C`);
+                  
+                  // Update Redux state
                   dispatch(setCurrentTemp(suhu));
                   
+                  // Also update local state for immediate UI update
+                  setLocalTemp(suhu);
+                  
+                  // Force component update with local state
+                  setCustomText(prev => prev); // This is a trick to force re-render
+                  
                   // Add temperature data point to history
                   dispatch(addTemperatureDataPoint({ label: now, value: suhu }));
                   
@@ -316,7 +334,7 @@ const SimpleMQTTDashboardPanel = () => {
       <p className="text-center mb-4">
         Current Temperature: 
         <span className="font-bold text-2xl ml-2 text-[#03dac6]">
-          {currentTemp !== '--' ? `${currentTemp}¬∞C` : '--'}
+          {localTemp !== '--' ? `${localTemp}¬∞C` : (currentTemp && currentTemp !== '--' ? `${currentTemp}¬∞C` : '--')}
         </span>
       </p>
       

commit b25c761fe3360f342342200784fc06526681e565
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 19:01:11 2025 +0800

    Update the temperature chart

diff --git a/src/components/panels/SimpleMQTTDashboardPanel.jsx b/src/components/panels/SimpleMQTTDashboardPanel.jsx
index 78d01b6..0ce4d11 100644
--- a/src/components/panels/SimpleMQTTDashboardPanel.jsx
+++ b/src/components/panels/SimpleMQTTDashboardPanel.jsx
@@ -132,9 +132,18 @@ const SimpleMQTTDashboardPanel = () => {
                   // Add temperature data point to history
                   dispatch(addTemperatureDataPoint({ label: now, value: suhu }));
                   
-                  // Update chart
+                  // Directly update chart with new data point
                   if (chartInstanceRef.current) {
-                    chartInstanceRef.current.update();
+                    // Limit chart to show last 10 data points for better visualization
+                    if (chartInstanceRef.current.data.labels.length > 10) {
+                      chartInstanceRef.current.data.labels.shift();
+                      chartInstanceRef.current.data.datasets[0].data.shift();
+                    }
+                    
+                    // Add new data point
+                    chartInstanceRef.current.data.labels.push(now);
+                    chartInstanceRef.current.data.datasets[0].data.push(suhu);
+                    chartInstanceRef.current.update('none'); // Use 'none' for smoother updates
                   }
                 } else {
                   console.error('Received invalid temperature value:', msg);
@@ -144,6 +153,7 @@ const SimpleMQTTDashboardPanel = () => {
               }
             }
             
+            // Other sensor topics remain the same
             if (topic === 'sensor/tegangan') dispatch(setVoltage(msg));
             if (topic === 'sensor/arus') dispatch(setCurrent(msg));
             if (topic === 'sensor/daya') dispatch(setPower(msg));
@@ -168,12 +178,17 @@ const SimpleMQTTDashboardPanel = () => {
                 data: temperatureHistory.data,
                 fill: false,
                 borderColor: '#03dac5',
-                tension: 0.3
+                tension: 0.3,
+                pointRadius: 3,
+                pointBackgroundColor: '#03dac5'
               }]
             },
             options: {
               responsive: true,
               maintainAspectRatio: false,
+              animation: {
+                duration: 500 // Faster animations for real-time data
+              },
               scales: {
                 x: { 
                   title: { display: true, text: 'Waktu' },
@@ -191,6 +206,14 @@ const SimpleMQTTDashboardPanel = () => {
               plugins: {
                 legend: {
                   labels: { color: '#e0e0e0' }
+                },
+                tooltip: {
+                  backgroundColor: 'rgba(0, 0, 0, 0.7)',
+                  titleColor: '#03dac5',
+                  bodyColor: '#ffffff',
+                  borderColor: '#03dac5',
+                  borderWidth: 1,
+                  displayColors: false
                 }
               }
             }
@@ -222,14 +245,17 @@ const SimpleMQTTDashboardPanel = () => {
     };
   }, [dispatch]);
   
-  // Update chart when temperature history changes
+  // Update chart when temperature history changes - only for initial load or when history is reset
   useEffect(() => {
-    if (chartInstanceRef.current) {
-      chartInstanceRef.current.data.labels = temperatureHistory.labels;
-      chartInstanceRef.current.data.datasets[0].data = temperatureHistory.data;
-      chartInstanceRef.current.update();
+    if (chartInstanceRef.current && mqttState.temperatureHistory) {
+      // Only do a full update if the chart is empty but history has data
+      if (chartInstanceRef.current.data.labels.length === 0 && mqttState.temperatureHistory.labels.length > 0) {
+        chartInstanceRef.current.data.labels = [...mqttState.temperatureHistory.labels];
+        chartInstanceRef.current.data.datasets[0].data = [...mqttState.temperatureHistory.data];
+        chartInstanceRef.current.update();
+      }
     }
-  }, [temperatureHistory]);
+  }, [mqttState.temperatureHistory]);
   
   // MQTT control functions
   const toggleLED = (state) => {
@@ -358,10 +384,6 @@ const SimpleMQTTDashboardPanel = () => {
       
       {/* Published Messages */}
       <PublishedMessages />
-      
-      <div className="text-center text-sm text-gray-400 mt-auto pt-4">
-        LED Status: {ledStatus === 'on' ? 'üü¢ On' : 'üî¥ Off'}
-      </div>
     </div>
   );
 };

commit 8d97ecf730c1b067352285ff2f6f48d0fa11f41a
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 17:22:46 2025 +0800

    Update

diff --git a/tests/run-lazygit.ts b/tests/run-lazygit.ts
index 2fac19f..f7273ca 100644
--- a/tests/run-lazygit.ts
+++ b/tests/run-lazygit.ts
@@ -56,6 +56,8 @@ import fs from 'fs';
     await page.keyboard.type(char);
     await page.waitForTimeout(200); // 200ms delay between each character
   }
+
+  await page.waitForTimeout(1000);
   
   // Take a screenshot after typing the command
   const typedScreenshot: string = path.join(screenshotsDir, `terminal-typed-${new Date().toISOString().replace(/:/g, '-')}.png`);

commit 339acc4b6b3832d4ac29b147a2cefe8ef6c7994f
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 17:21:11 2025 +0800

    Edit to MCard

diff --git a/src/components/panels/codeeditor.jsx b/src/components/panels/codeeditor.jsx
index 99a0235..c66b08d 100644
--- a/src/components/panels/codeeditor.jsx
+++ b/src/components/panels/codeeditor.jsx
@@ -1,414 +1,9 @@
-import React, { useState, useEffect, useRef } from 'react';
+import React from 'react';
 
-const CodeEditorPanel = ({ className = '' }) => {
-  const [content, setContent] = useState('...');
-  const [fileName, setFileName] = useState('untitled.txt');
-  const [isSaved, setIsSaved] = useState(true);
-  const [theme, setTheme] = useState('dark'); // dark or light
-  const editorRef = useRef(null);
-  const [currentDirectory, setCurrentDirectory] = useState(null);
-  const [directoryHandle, setDirectoryHandle] = useState(null);
-  const [fileHandles, setFileHandles] = useState({});
-  const [isFileSystemSupported, setIsFileSystemSupported] = useState(false);
-  // Add cursor position state here
-  const [cursorPosition, setCursorPosition] = useState({ line: 1, column: 1 });
-  
-  // Check if File System Access API is supported
-  useEffect(() => {
-    setIsFileSystemSupported('showDirectoryPicker' in window);
-  }, []);
-  
-  // Handle content changes
-  const handleContentChange = (e) => {
-    setContent(e.target.value);
-    setIsSaved(false);
-  };
-  
-  // Handle cursor position changes
-  const handleCursorChange = (e) => {
-    const textarea = e.target;
-    const value = textarea.value;
-    
-    const selectionStart = textarea.selectionStart;
-    let line = 1;
-    let column = 1;
-    
-    for (let i = 0; i < selectionStart; i++) {
-      if (value[i] === '\n') {
-        line++;
-        column = 1;
-      } else {
-        column++;
-      }
-    }
-    
-    setCursorPosition({ line, column });
-  };
-  
-  // Handle file name changes
-  const handleFileNameChange = (e) => {
-    setFileName(e.target.value);
-    setIsSaved(false);
-  };
-  
-  // Save content to localStorage
-  const saveContent = async () => {
-    try {
-      // If we have a file handle for this file, save to the file system
-      if (fileHandles[fileName]) {
-        const fileHandle = fileHandles[fileName];
-        const writable = await fileHandle.createWritable();
-        await writable.write(content);
-        await writable.close();
-      } else {
-        // Otherwise save to localStorage
-        localStorage.setItem(`codeeditor-${fileName}`, content);
-        
-        // Update file list
-        const fileList = JSON.parse(localStorage.getItem('codeeditor-files') || '[]');
-        if (!fileList.includes(fileName)) {
-          fileList.push(fileName);
-          localStorage.setItem('codeeditor-files', JSON.stringify(fileList));
-        }
-      }
-      
-      setIsSaved(true);
-    } catch (err) {
-      console.error('Error saving file:', err);
-    }
-  };
-  
-  // Load content from localStorage
-  const loadContent = async (name, fileHandle = null) => {
-    try {
-      if (fileHandle) {
-        // Load from file system
-        const file = await fileHandle.getFile();
-        const text = await file.text();
-        setContent(text);
-        setFileName(file.name);
-        
-        // Store the file handle for future saves
-        setFileHandles(prev => ({
-          ...prev,
-          [file.name]: fileHandle
-        }));
-      } else {
-        // Load from localStorage
-        const savedContent = localStorage.getItem(`codeeditor-${name}`);
-        if (savedContent) {
-          setContent(savedContent);
-          setFileName(name);
-        }
-      }
-      setIsSaved(true);
-    } catch (err) {
-      console.error('Error loading file:', err);
-    }
-  };
-  
-  // Create a new file
-  const createNewFile = () => {
-    if (!isSaved) {
-      if (!confirm('You have unsaved changes. Create new file anyway?')) {
-        return;
-      }
-    }
-    
-    setContent('...');
-    setFileName('untitled.txt');
-    setIsSaved(true);
-  };
-  
-  // Open directory
-  const openDirectory = async () => {
-    if (!isFileSystemSupported) {
-      alert('File System Access API is not supported in your browser.');
-      return;
-    }
-    
-    try {
-      const dirHandle = await window.showDirectoryPicker();
-      setDirectoryHandle(dirHandle);
-      setCurrentDirectory(dirHandle.name);
-      
-      // Clear existing file handles when opening a new directory
-      setFileHandles({});
-      
-      // Load files from the directory
-      await loadFilesFromDirectory(dirHandle);
-    } catch (err) {
-      console.error('Error opening directory:', err);
-      // User probably cancelled the dialog
-    }
-  };
-  
-  // Load files from directory
-  const loadFilesFromDirectory = async (dirHandle) => {
-    const files = [];
-    
-    try {
-      for await (const entry of dirHandle.values()) {
-        if (entry.kind === 'file') {
-          files.push({
-            name: entry.name,
-            handle: entry
-          });
-        }
-      }
-      
-      // Update the saved files list with files from the directory
-      setSavedFiles(files.map(file => file.name));
-      
-      // Store file handles for quick access
-      const handles = {};
-      files.forEach(file => {
-        handles[file.name] = file.handle;
-      });
-      setFileHandles(handles);
-    } catch (err) {
-      console.error('Error reading directory:', err);
-    }
-  };
-  
-  // Add delete file function
-  const deleteFile = async (name) => {
-    if (!confirm(`Are you sure you want to delete "${name}"?`)) {
-      return;
-    }
-    
-    try {
-      if (fileHandles[name]) {
-        // Delete from file system
-        if (directoryHandle) {
-          await directoryHandle.removeEntry(name);
-          
-          // Refresh directory
-          await loadFilesFromDirectory(directoryHandle);
-        }
-      } else {
-        // Delete from localStorage
-        localStorage.removeItem(`codeeditor-${name}`);
-        
-        // Update file list
-        const fileList = JSON.parse(localStorage.getItem('codeeditor-files') || '[]');
-        const updatedList = fileList.filter(file => file !== name);
-        localStorage.setItem('codeeditor-files', JSON.stringify(updatedList));
-        setSavedFiles(updatedList);
-      }
-      
-      // If the deleted file was the current file, create a new one
-      if (name === fileName) {
-        createNewFile();
-      }
-    } catch (err) {
-      console.error('Error deleting file:', err);
-      alert(`Failed to delete file: ${err.message}`);
-    }
-  };
-  
-  // Open file
-  const openFile = async () => {
-    if (!isFileSystemSupported) {
-      alert('File System Access API is not supported in your browser.');
-      return;
-    }
-    
-    try {
-      const [fileHandle] = await window.showOpenFilePicker();
-      await loadContent(null, fileHandle);
-    } catch (err) {
-      console.error('Error opening file:', err);
-      // User probably cancelled the dialog
-    }
-  };
-  
-  // Save as
-  const saveAs = async () => {
-    if (!isFileSystemSupported) {
-      alert('File System Access API is not supported in your browser.');
-      return;
-    }
-    
-    try {
-      const fileHandle = await window.showSaveFilePicker({
-        suggestedName: fileName
-      });
-      
-      const writable = await fileHandle.createWritable();
-      await writable.write(content);
-      await writable.close();
-      
-      setFileName(fileHandle.name || fileName);
-      setIsSaved(true);
-      
-      // Store the file handle for future saves
-      setFileHandles(prev => ({
-        ...prev,
-        [fileHandle.name || fileName]: fileHandle
-      }));
-    } catch (err) {
-      console.error('Error in save as:', err);
-      // User probably cancelled the dialog
-    }
-  };
-  
-  // Toggle theme
-  const toggleTheme = () => {
-    setTheme(theme === 'dark' ? 'light' : 'dark');
-  };
-  
-  // Handle keyboard shortcuts
-  useEffect(() => {
-    const handleKeyDown = (e) => {
-      // Save: Ctrl+S or Cmd+S
-      if ((e.ctrlKey || e.metaKey) && e.key === 's') {
-        e.preventDefault();
-        saveContent();
-      }
-      
-      // Open: Ctrl+O or Cmd+O
-      if ((e.ctrlKey || e.metaKey) && e.key === 'o') {
-        e.preventDefault();
-        openFile();
-      }
-    };
-    
-    window.addEventListener('keydown', handleKeyDown);
-    return () => window.removeEventListener('keydown', handleKeyDown);
-  }, [content, fileName, fileHandles]);
-  
-  // Get list of saved files
-  const [savedFiles, setSavedFiles] = useState([]);
-  
-  useEffect(() => {
-    if (!directoryHandle) {
-      try {
-        const fileList = JSON.parse(localStorage.getItem('codeeditor-files') || '[]');
-        setSavedFiles(fileList);
-      } catch (err) {
-        console.error('Error loading file list:', err);
-      }
-    }
-  }, [isSaved, directoryHandle]);
-  
+const CodeEditorPanel = () => {
   return (
-    <div className={`h-full w-full flex flex-col ${theme === 'dark' ? 'bg-gray-900 text-gray-200' : 'bg-white text-gray-800'} ${className}`}>
-      <div className={`p-2 ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-gray-200 border-gray-300'} border-b flex items-center`}>
-        
-        <input
-          type="text"
-          value={fileName}
-          onChange={handleFileNameChange}
-          className={`flex-grow px-2 py-1 mr-2 rounded ${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}
-        />
-        
-        <button
-          onClick={saveContent}
-          className={`px-2 py-1 text-xs rounded mr-2 ${isSaved ? 
-            (theme === 'dark' ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-500') : 
-            'bg-blue-600 text-white hover:bg-blue-700'}`}
-          disabled={isSaved}
-        >
-          {isSaved ? 'Saved' : 'Save'}
-        </button>
-        
-        <button
-          onClick={createNewFile}
-          className={`px-2 py-1 text-xs rounded mr-2 ${theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`}
-        >
-          New
-        </button>
-        
-        {isFileSystemSupported && (
-          <>
-            <button
-              onClick={openFile}
-              className={`px-2 py-1 text-xs rounded mr-2 ${theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`}
-            >
-              Open
-            </button>
-            <button
-              onClick={openDirectory}
-              className={`px-2 py-1 text-xs rounded mr-2 ${theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`}
-            >
-              Open Dir
-            </button>
-            <button
-              onClick={saveAs}
-              className={`px-2 py-1 text-xs rounded mr-2 ${theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`}
-            >
-              Save As
-            </button>
-          </>
-        )}
-      </div>
-      
-      <div className="flex flex-1">
-        <div className={`w-48 overflow-y-auto ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-gray-100 border-gray-300'} border-r`}>
-          <div className="p-2 font-bold text-sm flex justify-between items-center">
-            <span>{currentDirectory || 'Files'}</span>
-            {currentDirectory && (
-              <button 
-                onClick={() => loadFilesFromDirectory(directoryHandle)}
-                className="text-xs px-1 rounded hover:bg-gray-700"
-                title="Refresh"
-              >
-                üîÑ
-              </button>
-            )}
-          </div>
-          <ul>
-            {savedFiles.map((file, index) => (
-              <li 
-                key={index}
-                className={`px-3 py-1 text-sm flex justify-between items-center ${fileName === file ? 
-                  (theme === 'dark' ? 'bg-blue-800' : 'bg-blue-100') : 
-                  'hover:bg-opacity-20 hover:bg-blue-500'}`}
-              >
-                <span 
-                  className="flex-grow cursor-pointer truncate mr-2"
-                  onClick={() => loadContent(file, fileHandles[file])}
-                >
-                  {file}
-                </span>
-                <button
-                  onClick={(e) => {
-                    e.stopPropagation();
-                    deleteFile(file);
-                  }}
-                  className={`px-1 text-xs rounded opacity-60 hover:opacity-100 ${
-                    theme === 'dark' ? 'hover:bg-red-900' : 'hover:bg-red-200'
-                  }`}
-                  title="Delete file"
-                >
-                  üóëÔ∏è
-                </button>
-              </li>
-            ))}
-          </ul>
-        </div>
-        
-        <textarea
-          ref={editorRef}
-          value={content}
-          onChange={handleContentChange}
-          onKeyUp={handleCursorChange}
-          onClick={handleCursorChange}
-          onMouseUp={handleCursorChange}
-          className={`flex-1 p-4 font-mono text-sm resize-none outline-none ${theme === 'dark' ? 'bg-gray-900 text-gray-200' : 'bg-white text-gray-800'}`}
-          spellCheck="false"
-        />
-      </div>
-      
-      <div className={`p-1 ${theme === 'dark' ? 'bg-gray-800 text-gray-500' : 'bg-gray-200 text-gray-600'} text-xs flex justify-between`}>
-        <span>Ln {cursorPosition.line}, Col {cursorPosition.column} | {content.split('\n').length} lines</span>
-        <span>
-          {!isSaved && '‚Ä¢'} 
-          {currentDirectory ? `${currentDirectory}/` : ''}{fileName}
-          {!isFileSystemSupported && ' (Local Storage)'}
-        </span>
-      </div>
+    <div className="font-bold text-center">
+      MCard
     </div>
   );
 };

commit a62570a5cac9328280a9e2867de79a294ffb8ccb
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 16:49:32 2025 +0800

    MQTT Dashboard Panel Redux

diff --git a/src/components/MQTTDebugPanel.jsx b/src/components/MQTTDebugPanel.jsx
new file mode 100644
index 0000000..91b05fc
--- /dev/null
+++ b/src/components/MQTTDebugPanel.jsx
@@ -0,0 +1,20 @@
+import React from 'react';
+import { useSelector } from 'react-redux';
+
+const MQTTDebugPanel = () => {
+  const mqttState = useSelector(state => state.mqtt) || {};
+  
+  return (
+    <div className="bg-[#1f1f1f] p-4 rounded-lg mt-4">
+      <h3 className="text-[#bb86fc] mb-2 font-semibold">MQTT Debug Info</h3>
+      <div className="text-xs font-mono overflow-auto max-h-40">
+        <p>Connection: {mqttState.connectionStatus}</p>
+        <p>Temperature: {mqttState.currentTemp}</p>
+        <p>Last Message: {mqttState.lastMessage} (Topic: {mqttState.lastMessageTopic})</p>
+        <p>Temperature History Points: {mqttState.temperatureHistory?.data?.length || 0}</p>
+      </div>
+    </div>
+  );
+};
+
+export default MQTTDebugPanel;
\ No newline at end of file
diff --git a/src/components/MQTTStateTest.jsx b/src/components/MQTTStateTest.jsx
new file mode 100644
index 0000000..2376580
--- /dev/null
+++ b/src/components/MQTTStateTest.jsx
@@ -0,0 +1,32 @@
+import React from 'react';
+import { useSelector, useDispatch } from 'react-redux';
+import { setCurrentTemp } from '../store/mqttSlice';
+
+const MQTTStateTest = () => {
+  const dispatch = useDispatch();
+  const mqttState = useSelector(state => state.mqtt);
+  
+  const testRedux = () => {
+    // Test dispatching an action to update temperature
+    dispatch(setCurrentTemp(Math.floor(Math.random() * 30) + 20)); // Random temp between 20-50
+    console.log('MQTT state updated via Redux');
+  };
+  
+  return (
+    <div className="bg-gray-800 p-4 rounded-lg mb-4">
+      <h3 className="text-white font-medium mb-2">MQTT Redux State Test</h3>
+      <div className="mb-2">
+        <p className="text-gray-300">Current Temperature: <span className="font-bold text-white">{mqttState?.currentTemp || '--'}</span></p>
+        <p className="text-gray-300">Connection Status: <span className="font-bold text-white">{mqttState?.connectionStatus || '--'}</span></p>
+      </div>
+      <button 
+        onClick={testRedux}
+        className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded"
+      >
+        Test Redux Update
+      </button>
+    </div>
+  );
+};
+
+export default MQTTStateTest;
\ No newline at end of file
diff --git a/src/components/PublishedMessages.jsx b/src/components/PublishedMessages.jsx
new file mode 100644
index 0000000..b2ce1df
--- /dev/null
+++ b/src/components/PublishedMessages.jsx
@@ -0,0 +1,37 @@
+import React from 'react';
+import { useSelector } from 'react-redux';
+import { createSelector } from '@reduxjs/toolkit';
+
+// Create a memoized selector
+const selectPublishedMessages = createSelector(
+  state => state.mqtt,
+  mqtt => mqtt?.publishedMessages || []
+);
+
+const PublishedMessages = () => {
+  // Use the memoized selector
+  const publishedMessages = useSelector(selectPublishedMessages);
+  
+  return (
+    <div className="bg-[#1f1f1f] rounded-lg p-4 mt-4">
+      <h3 className="text-[#bb86fc] font-medium mb-2">Published Messages</h3>
+      {publishedMessages.length === 0 ? (
+        <p className="text-gray-400 italic">No messages published yet</p>
+      ) : (
+        <div className="max-h-40 overflow-y-auto">
+          <ul className="space-y-1">
+            {publishedMessages.map((msg, index) => (
+              <li key={index} className="text-sm border-b border-gray-700 pb-1">
+                <span className="text-gray-400">{new Date(msg.timestamp).toLocaleTimeString()}</span>
+                <span className="text-[#03dac6] mx-2">{msg.topic}:</span>
+                <span className="text-white">{msg.message}</span>
+              </li>
+            ))}
+          </ul>
+        </div>
+      )}
+    </div>
+  );
+};
+
+export default PublishedMessages;
\ No newline at end of file
diff --git a/src/components/panels/SimpleMQTTDashboardPanel.jsx b/src/components/panels/SimpleMQTTDashboardPanel.jsx
index 65e6f81..78d01b6 100644
--- a/src/components/panels/SimpleMQTTDashboardPanel.jsx
+++ b/src/components/panels/SimpleMQTTDashboardPanel.jsx
@@ -1,22 +1,49 @@
 'use client';
 
 import React, { useState, useEffect, useRef } from 'react';
+import { useSelector, useDispatch } from 'react-redux';
+import {
+  setConnectionStatus,
+  setCurrentTemp,
+  setVoltage,
+  setCurrent,
+  setPower,
+  setKwh,
+  setPowerFactor,
+  addTemperatureDataPoint,
+  setLedStatus,
+  setLastMessage,
+  addPublishedMessage
+} from '../../store/mqttSlice';
+
+// Import components
+import PublishedMessages from '../PublishedMessages';
 
 /**
  * Simple MQTT Dashboard Panel that uses the browser's window object to load MQTT
  * and avoids issues with server-side rendering
  */
 const SimpleMQTTDashboardPanel = () => {
-  // State hooks for all dashboard values
-  const [connectionStatus, setConnectionStatus] = useState('Waiting for MQTT library...');
-  const [currentTemp, setCurrentTemp] = useState('--');
-  const [voltage, setVoltage] = useState('--');
-  const [current, setCurrent] = useState('--');
-  const [power, setPower] = useState('--');
-  const [kwh, setKwh] = useState('--');
-  const [powerFactor, setPowerFactor] = useState('--');
+  // Local state for input field
   const [customText, setCustomText] = useState('');
   
+  // Get Redux dispatch function
+  const dispatch = useDispatch();
+  
+  // Get MQTT state from Redux with fallback values
+  const mqttState = useSelector(state => state.mqtt) || {};
+  const {
+    connectionStatus = 'Waiting for MQTT library...',
+    currentTemp = '--',
+    voltage = '--',
+    current = '--',
+    power = '--',
+    kwh = '--',
+    powerFactor = '--',
+    temperatureHistory = { labels: [], data: [] },
+    ledStatus = 'off'
+  } = mqttState;
+  
   // References for Chart.js canvas and MQTT client
   const chartCanvasRef = useRef(null);
   const mqttClientRef = useRef(null);
@@ -38,26 +65,16 @@ const SimpleMQTTDashboardPanel = () => {
   useEffect(() => {
     let mqttClient = null;
     let chartInstance = null;
-    const tempData = {
-      labels: [],
-      datasets: [{
-        label: 'Temperature (¬∞C)',
-        data: [],
-        fill: false,
-        borderColor: '#03dac5',
-        tension: 0.3
-      }]
-    };
     
     const initializeDashboard = async () => {
       try {
         // Load required scripts
-        setConnectionStatus('Loading required libraries...');
+        dispatch(setConnectionStatus('Loading required libraries...'));
         await Promise.all([
           loadScript('https://unpkg.com/mqtt/dist/mqtt.min.js'),
           loadScript('https://cdn.jsdelivr.net/npm/chart.js')
         ]);
-        setConnectionStatus('Libraries loaded, connecting to broker...');
+        dispatch(setConnectionStatus('Libraries loaded, connecting to broker...'));
         
         // Connect to MQTT broker when scripts are loaded
         if (window.mqtt) {
@@ -76,7 +93,7 @@ const SimpleMQTTDashboardPanel = () => {
           
           mqttClient.on('connect', () => {
             console.log("Connected to MQTT broker!");
-            setConnectionStatus('‚úÖ Connected to MQTT Broker');
+            dispatch(setConnectionStatus('‚úÖ Connected to MQTT Broker'));
             
             // Subscribe to topics
             mqttClient.subscribe('sensor/temperature');
@@ -93,7 +110,7 @@ const SimpleMQTTDashboardPanel = () => {
           
           mqttClient.on('error', (err) => {
             console.error('MQTT Connection Error:', err);
-            setConnectionStatus('‚ùå MQTT Connection Error: ' + err.message);
+            dispatch(setConnectionStatus('‚ùå MQTT Connection Error: ' + err.message));
           });
           
           mqttClient.on('message', (topic, message) => {
@@ -101,34 +118,40 @@ const SimpleMQTTDashboardPanel = () => {
             const now = new Date().toLocaleTimeString();
             console.log(`MQTT message received on topic ${topic}: ${msg}`);
             
+            // Store last message in Redux
+            dispatch(setLastMessage({ topic, message: msg }));
+            
             // Handle different topics
             if (topic === 'sensor/temperature') {
-              const suhu = parseFloat(msg);
-              setCurrentTemp(suhu);
-              
-              // Update chart
-              if (chartInstanceRef.current) {
-                tempData.labels.push(now);
-                tempData.datasets[0].data.push(suhu);
-                
-                // Keep only last 20 data points
-                if (tempData.labels.length > 20) {
-                  tempData.labels.shift();
-                  tempData.datasets[0].data.shift();
+              try {
+                const suhu = parseFloat(msg);
+                if (!isNaN(suhu)) {
+                  console.log(`Updating temperature to: ${suhu}¬∞C`);
+                  dispatch(setCurrentTemp(suhu));
+                  
+                  // Add temperature data point to history
+                  dispatch(addTemperatureDataPoint({ label: now, value: suhu }));
+                  
+                  // Update chart
+                  if (chartInstanceRef.current) {
+                    chartInstanceRef.current.update();
+                  }
+                } else {
+                  console.error('Received invalid temperature value:', msg);
                 }
-                
-                chartInstanceRef.current.update();
+              } catch (error) {
+                console.error('Error processing temperature data:', error);
               }
             }
             
-            if (topic === 'sensor/tegangan') setVoltage(msg);
-            if (topic === 'sensor/arus') setCurrent(msg);
-            if (topic === 'sensor/daya') setPower(msg);
-            if (topic === 'sensor/kwh') setKwh(msg);
-            if (topic === 'sensor/pf') setPowerFactor(msg);
+            if (topic === 'sensor/tegangan') dispatch(setVoltage(msg));
+            if (topic === 'sensor/arus') dispatch(setCurrent(msg));
+            if (topic === 'sensor/daya') dispatch(setPower(msg));
+            if (topic === 'sensor/kwh') dispatch(setKwh(msg));
+            if (topic === 'sensor/pf') dispatch(setPowerFactor(msg));
           });
         } else {
-          setConnectionStatus('‚ùå MQTT library not found');
+          dispatch(setConnectionStatus('‚ùå MQTT library not found'));
           console.error('MQTT library not loaded properly');
         }
         
@@ -138,7 +161,16 @@ const SimpleMQTTDashboardPanel = () => {
           
           chartInstance = new window.Chart(ctx, {
             type: 'line',
-            data: tempData,
+            data: {
+              labels: temperatureHistory.labels,
+              datasets: [{
+                label: 'Temperature (¬∞C)',
+                data: temperatureHistory.data,
+                fill: false,
+                borderColor: '#03dac5',
+                tension: 0.3
+              }]
+            },
             options: {
               responsive: true,
               maintainAspectRatio: false,
@@ -169,7 +201,7 @@ const SimpleMQTTDashboardPanel = () => {
         }
       } catch (error) {
         console.error('Error initializing dashboard:', error);
-        setConnectionStatus('‚ùå Error initializing dashboard: ' + error.message);
+        dispatch(setConnectionStatus('‚ùå Error initializing dashboard: ' + error.message));
       }
     };
     
@@ -188,16 +220,34 @@ const SimpleMQTTDashboardPanel = () => {
         chartInstanceRef.current.destroy();
       }
     };
-  }, []);
+  }, [dispatch]);
+  
+  // Update chart when temperature history changes
+  useEffect(() => {
+    if (chartInstanceRef.current) {
+      chartInstanceRef.current.data.labels = temperatureHistory.labels;
+      chartInstanceRef.current.data.datasets[0].data = temperatureHistory.data;
+      chartInstanceRef.current.update();
+    }
+  }, [temperatureHistory]);
   
   // MQTT control functions
   const toggleLED = (state) => {
     if (mqttClientRef.current) {
       console.log(`Publishing LED state: ${state}`);
       mqttClientRef.current.publish('control/led', state);
+      
+      // Record the published message in Redux
+      dispatch(addPublishedMessage({
+        topic: 'control/led',
+        message: state,
+        timestamp: new Date().toISOString()
+      }));
+      
+      dispatch(setLedStatus(state === '1' ? 'on' : 'off'));
     } else {
       console.warn('MQTT client not initialized yet');
-      setConnectionStatus('‚ö†Ô∏è MQTT client not ready, try again in a moment');
+      dispatch(setConnectionStatus('‚ö†Ô∏è MQTT client not ready, try again in a moment'));
     }
   };
   
@@ -205,10 +255,18 @@ const SimpleMQTTDashboardPanel = () => {
     if (mqttClientRef.current && customText.trim() !== '') {
       console.log(`Publishing text: ${customText}`);
       mqttClientRef.current.publish('control/tulisan', customText);
+      
+      // Record the published message in Redux
+      dispatch(addPublishedMessage({
+        topic: 'control/tulisan',
+        message: customText,
+        timestamp: new Date().toISOString()
+      }));
+      
       setCustomText('');
     } else if (!mqttClientRef.current) {
       console.warn('MQTT client not initialized yet');
-      setConnectionStatus('‚ö†Ô∏è MQTT client not ready, try again in a moment');
+      dispatch(setConnectionStatus('‚ö†Ô∏è MQTT client not ready, try again in a moment'));
     }
   };
   
@@ -230,7 +288,10 @@ const SimpleMQTTDashboardPanel = () => {
       </div>
       
       <p className="text-center mb-4">
-        Current Temperature: <span className="font-bold">{currentTemp}</span> ¬∞C
+        Current Temperature: 
+        <span className="font-bold text-2xl ml-2 text-[#03dac6]">
+          {currentTemp !== '--' ? `${currentTemp}¬∞C` : '--'}
+        </span>
       </p>
       
       <h3 className="text-center text-lg font-semibold text-[#03dac6] mb-4">Data Energy Meter</h3>
@@ -249,47 +310,58 @@ const SimpleMQTTDashboardPanel = () => {
         >
           Matikan LED
         </button>
-        <input 
-          type="text" 
-          placeholder="Tulis pesan..." 
-          className="px-3 py-2 rounded-md bg-[#1e1e1e] text-white border-none flex-1 min-w-[150px]"
+      </div>
+      
+      {/* Energy Meter Data */}
+      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
+        <div className="bg-[#1f1f1f] p-4 rounded-lg text-center">
+          <h4 className="text-[#bb86fc] mb-2">Voltage</h4>
+          <p className="text-2xl font-bold">{voltage} <span className="text-sm">V</span></p>
+        </div>
+        <div className="bg-[#1f1f1f] p-4 rounded-lg text-center">
+          <h4 className="text-[#bb86fc] mb-2">Current</h4>
+          <p className="text-2xl font-bold">{current} <span className="text-sm">A</span></p>
+        </div>
+        <div className="bg-[#1f1f1f] p-4 rounded-lg text-center">
+          <h4 className="text-[#bb86fc] mb-2">Power</h4>
+          <p className="text-2xl font-bold">{power} <span className="text-sm">W</span></p>
+        </div>
+        <div className="bg-[#1f1f1f] p-4 rounded-lg text-center">
+          <h4 className="text-[#bb86fc] mb-2">Energy</h4>
+          <p className="text-2xl font-bold">{kwh} <span className="text-sm">kWh</span></p>
+        </div>
+        <div className="bg-[#1f1f1f] p-4 rounded-lg text-center">
+          <h4 className="text-[#bb86fc] mb-2">Power Factor</h4>
+          <p className="text-2xl font-bold">{powerFactor}</p>
+        </div>
+      </div>
+      
+      <h3 className="text-center text-lg font-semibold text-[#03dac6] mb-4">Send Message</h3>
+      
+      {/* Text Input */}
+      <div className="flex flex-col md:flex-row gap-2 mb-4">
+        <input
+          type="text"
           value={customText}
           onChange={(e) => setCustomText(e.target.value)}
           onKeyPress={handleKeyPress}
+          placeholder="Tulis pesan..."
+          className="flex-grow bg-[#2d2d2d] text-white px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-[#03dac6]"
         />
-        <button 
-          className="bg-[#2196f3] hover:bg-[#1976d2] text-white px-5 py-2 rounded-md transition-colors"
+        <button
           onClick={sendText}
+          className="bg-[#03dac6] hover:bg-[#018786] text-black font-medium px-6 py-2 rounded-md transition-colors"
         >
           Kirim
         </button>
       </div>
       
-      {/* Energy Tiles */}
-      <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6">
-        <div className="bg-[#2196f3] p-4 rounded-lg shadow-lg text-center">
-          <h4 className="mb-2 font-medium">Tegangan</h4>
-          <div className="text-2xl font-bold">{voltage} V</div>
-        </div>
-        <div className="bg-[#4caf50] p-4 rounded-lg shadow-lg text-center">
-          <h4 className="mb-2 font-medium">Arus</h4>
-          <div className="text-2xl font-bold">{current} A</div>
-        </div>
-        <div className="bg-[#ffeb3b] p-4 rounded-lg shadow-lg text-center text-black">
-          <h4 className="mb-2 font-medium">Daya</h4>
-          <div className="text-2xl font-bold">{power} W</div>
-        </div>
-        <div className="bg-[#ff9800] p-4 rounded-lg shadow-lg text-center">
-          <h4 className="mb-2 font-medium">KWH</h4>
-          <div className="text-2xl font-bold">{kwh} kWh</div>
-        </div>
-        <div className="bg-[#9c27b0] p-4 rounded-lg shadow-lg text-center">
-          <h4 className="mb-2 font-medium">Power Factor</h4>
-          <div className="text-2xl font-bold">{powerFactor}</div>
-        </div>
-      </div>
+      {/* Published Messages */}
+      <PublishedMessages />
       
-      <h3 className="text-center text-lg font-semibold text-[#03dac6] mb-4">Kirim Pesan Manual</h3>
+      <div className="text-center text-sm text-gray-400 mt-auto pt-4">
+        LED Status: {ledStatus === 'on' ? 'üü¢ On' : 'üî¥ Off'}
+      </div>
     </div>
   );
 };
diff --git a/src/layouts/ReduxProvider.jsx b/src/layouts/ReduxProvider.jsx
new file mode 100644
index 0000000..30883ba
--- /dev/null
+++ b/src/layouts/ReduxProvider.jsx
@@ -0,0 +1,7 @@
+import React from 'react';
+import { Provider } from 'react-redux';
+import store from '../store';
+
+export default function ReduxProvider({ children }) {
+  return <Provider store={store}>{children}</Provider>;
+}
\ No newline at end of file
diff --git a/src/store/index.js b/src/store/index.js
new file mode 100644
index 0000000..e50ed66
--- /dev/null
+++ b/src/store/index.js
@@ -0,0 +1,12 @@
+import { configureStore } from '@reduxjs/toolkit';
+import todoReducer from './todoSlice';
+import mqttReducer from './mqttSlice';
+
+const store = configureStore({
+  reducer: {
+    todos: todoReducer,
+    mqtt: mqttReducer,
+  },
+});
+
+export default store;
\ No newline at end of file
diff --git a/src/store/mqttSlice.js b/src/store/mqttSlice.js
new file mode 100644
index 0000000..33577f4
--- /dev/null
+++ b/src/store/mqttSlice.js
@@ -0,0 +1,98 @@
+// Make sure your mqttSlice has all the necessary actions for the MQTT Dashboard Panel
+import { createSlice } from '@reduxjs/toolkit';
+
+const initialState = {
+  connectionStatus: 'Disconnected',
+  currentTemp: '--',
+  voltage: '--',
+  current: '--',
+  power: '--',
+  kwh: '--',
+  powerFactor: '--',
+  temperatureHistory: {
+    labels: [],
+    data: []
+  },
+  ledStatus: 'off',
+  lastMessage: '',
+  lastMessageTopic: '',
+  publishedMessages: [] // Add this line to include publishedMessages in initial state
+};
+
+const mqttSlice = createSlice({
+  name: 'mqtt',
+  initialState,
+  reducers: {
+    setConnectionStatus: (state, action) => {
+      state.connectionStatus = action.payload;
+    },
+    setCurrentTemp: (state, action) => {
+      state.currentTemp = action.payload;
+    },
+    // Make sure all other reducers are defined here
+    setVoltage: (state, action) => {
+      state.voltage = action.payload;
+    },
+    setCurrent: (state, action) => {
+      state.current = action.payload;
+    },
+    setPower: (state, action) => {
+      state.power = action.payload;
+    },
+    setKwh: (state, action) => {
+      state.kwh = action.payload;
+    },
+    setPowerFactor: (state, action) => {
+      state.powerFactor = action.payload;
+    },
+    addTemperatureDataPoint: (state, action) => {
+      const { label, value } = action.payload;
+      state.temperatureHistory.labels.push(label);
+      state.temperatureHistory.data.push(value);
+      
+      // Keep only last 20 data points
+      if (state.temperatureHistory.labels.length > 20) {
+        state.temperatureHistory.labels.shift();
+        state.temperatureHistory.data.shift();
+      }
+    },
+    setLedStatus: (state, action) => {
+      state.ledStatus = action.payload;
+    },
+    setLastMessage: (state, action) => {
+      state.lastMessage = action.payload.message;
+      state.lastMessageTopic = action.payload.topic;
+    },
+    // Make sure this reducer exists
+    addPublishedMessage: (state, action) => {
+      const { topic, message, timestamp } = action.payload;
+      state.publishedMessages.push({ topic, message, timestamp });
+      
+      // Keep only the last 20 published messages
+      if (state.publishedMessages.length > 20) {
+        state.publishedMessages.shift();
+      }
+    },
+    resetMqttState: (state) => {
+      return initialState;
+    }
+  }
+});
+
+export const {
+  setConnectionStatus,
+  setCurrentTemp,
+  // Export all other actions
+  setVoltage,
+  setCurrent,
+  setPower,
+  setKwh,
+  setPowerFactor,
+  addTemperatureDataPoint,
+  setLedStatus,
+  setLastMessage,
+  addPublishedMessage, // Make sure this is exported
+  resetMqttState
+} = mqttSlice.actions;
+
+export default mqttSlice.reducer;
\ No newline at end of file

commit d43e1b51bec70b698123ca481c4d3a9edec896af
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 14:34:41 2025 +0800

    update

diff --git a/tests/run-lazygit.ts b/tests/run-lazygit.ts
index e005128..2fac19f 100644
--- a/tests/run-lazygit.ts
+++ b/tests/run-lazygit.ts
@@ -43,6 +43,8 @@ import fs from 'fs';
   await page.screenshot({ path: beforeScreenshot });
   console.log(`Screenshot before command saved to: ${beforeScreenshot}`);
   
+  await page.waitForTimeout(1000);
+
   // Focus the terminal by clicking on it
   await page.click('.xterm-screen');
   
@@ -60,6 +62,8 @@ import fs from 'fs';
   await page.screenshot({ path: typedScreenshot });
   console.log(`Screenshot after typing command saved to: ${typedScreenshot}`);
   
+  await page.waitForTimeout(1000);
+
   // Step 3: Press Enter to execute the command
   console.log('Executing lazygit command...');
   await page.waitForTimeout(500); // Pause before pressing Enter
@@ -76,7 +80,7 @@ import fs from 'fs';
   console.log('Lazygit should now be running in the terminal');
   
   // Keep the browser open for a moment to see the results
-  await page.waitForTimeout(5000);
+  await page.waitForTimeout(3000);
   
   // Press 'q' to exit lazygit
   await page.keyboard.press('q');

commit 03be47125d0432478cbd4caa33834d3d9425926b
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 14:32:28 2025 +0800

    update

diff --git a/tests/create-read-delete-file.ts b/tests/create-read-delete-file.ts
index d6f079e..22f0141 100644
--- a/tests/create-read-delete-file.ts
+++ b/tests/create-read-delete-file.ts
@@ -15,6 +15,16 @@ import fs from 'fs';
   
   // Navigate to your app
   await page.goto('http://localhost:4321');
+
+  // Wait for the page to load
+  await page.waitForTimeout(2000);
+  
+  // Step 1: Click on the code editor button in the sidebar
+  console.log('Clicking on code editor button...');
+  await page.click('#todoLayoutBtn');
+
+  // Wait for the page to load
+  await page.waitForTimeout(2000);
   
   // Wait for the chatbot to be fully loaded
   await page.waitForSelector('textarea[placeholder="Type your message here..."]', { timeout: 10000 });
@@ -27,10 +37,17 @@ import fs from 'fs';
   // Focus the input field
   await page.click('textarea[placeholder="Type your message here..."]');
   
-  // Type the first command to create testing.txt
-  await page.keyboard.type('$echo "testing" >> testing.txt');
+  // Type the first command to create testing.txt character by character
+  const createCommand = '$echo "testing" >> testing.txt';
+  console.log('Typing create file command slowly...');
+  
+  for (const char of createCommand) {
+    await page.keyboard.type(char);
+    await page.waitForTimeout(150); // 150ms delay between each character
+  }
   
   // Send the command
+  await page.waitForTimeout(500); // Pause before pressing Enter
   await page.keyboard.press('Enter');
   
   // Wait for the command to execute
@@ -46,11 +63,20 @@ import fs from 'fs';
   await page.screenshot({ path: screenshot1Path });
   console.log(`Screenshot after creating file saved to: ${screenshot1Path}`);
   
-  // Type the second command to read testing.txt
+  await page.waitForTimeout(1000);
+
+  // Type the second command to read testing.txt character by character
   await page.click('textarea[placeholder="Type your message here..."]');
-  await page.keyboard.type('$cat testing.txt');
+  const readCommand = '$cat testing.txt';
+  console.log('Typing read file command slowly...');
+  
+  for (const char of readCommand) {
+    await page.keyboard.type(char);
+    await page.waitForTimeout(150); // 150ms delay between each character
+  }
   
   // Send the command
+  await page.waitForTimeout(500); // Pause before pressing Enter
   await page.keyboard.press('Enter');
   
   // Wait for the command to execute
@@ -61,11 +87,20 @@ import fs from 'fs';
   await page.screenshot({ path: screenshot2Path });
   console.log(`Screenshot after reading file saved to: ${screenshot2Path}`);
   
-  // Type the third command to delete testing.txt
+  await page.waitForTimeout(1000);
+
+  // Type the third command to delete testing.txt character by character
   await page.click('textarea[placeholder="Type your message here..."]');
-  await page.keyboard.type('$rm testing.txt');
+  const deleteCommand = '$rm testing.txt';
+  console.log('Typing delete file command slowly...');
+  
+  for (const char of deleteCommand) {
+    await page.keyboard.type(char);
+    await page.waitForTimeout(150); // 150ms delay between each character
+  }
   
   // Send the command
+  await page.waitForTimeout(500); // Pause before pressing Enter
   await page.keyboard.press('Enter');
   
   // Wait for the command to execute
@@ -76,6 +111,8 @@ import fs from 'fs';
   await page.screenshot({ path: screenshot3Path });
   console.log(`Screenshot after deleting file saved to: ${screenshot3Path}`);
   
+  await page.waitForTimeout(1000);
+
   console.log('Commands executed successfully');
   
   // Keep the browser open for a moment to see the results
diff --git a/tests/run-lazygit.ts b/tests/run-lazygit.ts
index 4307202..e005128 100644
--- a/tests/run-lazygit.ts
+++ b/tests/run-lazygit.ts
@@ -7,7 +7,7 @@ import fs from 'fs';
   // Launch the browser
   const browser: Browser = await chromium.launch({
     headless: false,
-    slowMo: 50 // Slow down operations for better visibility
+    slowMo: 100 // Slow down operations for better visibility
   });
   
   // Create a new page
@@ -16,51 +16,80 @@ import fs from 'fs';
   // Navigate to your app
   await page.goto('http://localhost:4321');
   
+  console.log('Page loaded, navigating to code editor...');
+  
+  // Wait for the page to load
+  await page.waitForTimeout(3000);
+  
+  // Step 1: Click on the code editor button in the sidebar
+  console.log('Clicking on code editor button...');
+  await page.click('#todoLayoutBtn');
+  
   // Wait for the terminal to be fully loaded
   await page.waitForSelector('.xterm-screen', { timeout: 10000 });
-  
-  console.log('Terminal loaded, preparing to run lazygit...');
+  console.log('Terminal loaded successfully');
   
   // Wait a moment for the terminal to be fully initialized
-  await page.waitForTimeout(1000);
+  await page.waitForTimeout(2000);
+  
+  // Create screenshots directory if it doesn't exist
+  const screenshotsDir: string = path.join(process.cwd(), 'tests', 'data');
+  if (!fs.existsSync(screenshotsDir)) {
+    fs.mkdirSync(screenshotsDir, { recursive: true });
+  }
+  
+  // Take a screenshot before typing command
+  const beforeScreenshot: string = path.join(screenshotsDir, `terminal-before-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: beforeScreenshot });
+  console.log(`Screenshot before command saved to: ${beforeScreenshot}`);
   
   // Focus the terminal by clicking on it
   await page.click('.xterm-screen');
   
-  // Type the lazygit command
-  await page.keyboard.type('lazygit');
-  await page.keyboard.press('Enter');
+  // Step 2: Type the lazygit command character by character with delay
+  console.log('Typing lazygit command slowly...');
+  const command = 'lazygit';
+  
+  for (const char of command) {
+    await page.keyboard.type(char);
+    await page.waitForTimeout(200); // 200ms delay between each character
+  }
+  
+  // Take a screenshot after typing the command
+  const typedScreenshot: string = path.join(screenshotsDir, `terminal-typed-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: typedScreenshot });
+  console.log(`Screenshot after typing command saved to: ${typedScreenshot}`);
   
-  console.log('Lazygit command sent to terminal');
+  // Step 3: Press Enter to execute the command
+  console.log('Executing lazygit command...');
+  await page.waitForTimeout(500); // Pause before pressing Enter
+  await page.keyboard.press('Enter');
   
-  // Wait for Lazygit to load
+  // Wait for lazygit to load
   await page.waitForTimeout(5000);
   
-  console.log('Lazygit should now be running in the terminal');
+  // Take a screenshot of lazygit running
+  const lazygitScreenshot: string = path.join(screenshotsDir, `lazygit-running-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: lazygitScreenshot });
+  console.log(`Screenshot of lazygit running saved to: ${lazygitScreenshot}`);
   
-  // Create screenshots directory if it doesn't exist
-  const screenshotsDir: string = path.join(process.cwd(), 'screenshots');
-  if (!fs.existsSync(screenshotsDir)) {
-    fs.mkdirSync(screenshotsDir);
-  }
+  console.log('Lazygit should now be running in the terminal');
   
-  // Take a screenshot of Lazygit
-  const screenshotPath: string = path.join(screenshotsDir, `lazygit-${new Date().toISOString().replace(/:/g, '-')}.png`);
-  await page.screenshot({ path: screenshotPath });
-  console.log(`Screenshot saved to: ${screenshotPath}`);
+  // Keep the browser open for a moment to see the results
+  await page.waitForTimeout(5000);
   
-  console.log('Keeping browser open for interaction...');
+  // Press 'q' to exit lazygit
+  await page.keyboard.press('q');
   
-  // Keep the browser open for interaction
+  // Wait a moment for lazygit to close
   await page.waitForTimeout(2000);
   
-  // Press 'q' to exit Lazygit
-  await page.keyboard.press('q');
-  
-  // Wait a moment for Lazygit to close
-  await page.waitForTimeout(1000);
+  // Take a final screenshot after exiting lazygit
+  const afterScreenshot: string = path.join(screenshotsDir, `terminal-after-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: afterScreenshot });
+  console.log(`Screenshot after exiting lazygit saved to: ${afterScreenshot}`);
   
-  console.log('Exiting Lazygit and closing browser');
+  console.log('All actions completed successfully');
   
   // Close the browser
   await browser.close();

commit f4b59997b0eecdf77d44c2080605ab18e0279636
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 12:14:21 2025 +0800

    Update time

diff --git a/tests/mqtt-automation.ts b/tests/mqtt-automation.ts
index 4a35158..b4aaae8 100644
--- a/tests/mqtt-automation.ts
+++ b/tests/mqtt-automation.ts
@@ -52,9 +52,22 @@ import fs from 'fs';
   await page.screenshot({ path: ledOnScreenshot });
   console.log(`LED on screenshot saved to: ${ledOnScreenshot}`);
   
-  // Step 3: Type "Testing" in the input field
-  console.log('Typing message...');
-  await page.fill('input[placeholder="Tulis pesan..."]', 'Testing12345');
+  // Step 3: Type "Testing" in the input field with current time character by character
+  console.log('Typing message with current time...');
+  const currentTime = new Date().toLocaleTimeString();
+  const messageToType = `time: ${currentTime}`;
+  
+  // Focus on the input field first
+  await page.click('input[placeholder="Tulis pesan..."]');
+  
+  // Clear any existing text
+  await page.fill('input[placeholder="Tulis pesan..."]', '');
+  
+  // Type each character with a small delay to make it visible
+  for (const char of messageToType) {
+    await page.keyboard.type(char);
+    await page.waitForTimeout(100); // Add a small delay between each character
+  }
   
   // Take a screenshot after typing the message
   const messageTypedScreenshot: string = path.join(screenshotsDir, `message-typed-${new Date().toISOString().replace(/:/g, '-')}.png`);

commit fd06cab0c359df3caddf607206287828a10815b5
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 11:54:59 2025 +0800

    add mqtt dashboard automation

diff --git a/tests/mqtt-automation.ts b/tests/mqtt-automation.ts
new file mode 100644
index 0000000..4a35158
--- /dev/null
+++ b/tests/mqtt-automation.ts
@@ -0,0 +1,98 @@
+import { chromium } from '@playwright/test';
+import type { Browser, Page } from 'playwright';
+import path from 'path';
+import fs from 'fs';
+
+(async (): Promise<void> => {
+  // Launch the browser
+  const browser: Browser = await chromium.launch({
+    headless: false,
+    slowMo: 100 // Slow down operations for better visibility
+  });
+  
+  // Create a new page
+  const page: Page = await browser.newPage();
+  
+  // Navigate to your app's main page
+  await page.goto('http://localhost:4321');
+  
+  console.log('Main page loaded, navigating to MQTT Dashboard...');
+  
+  // Wait for the page to load
+  await page.waitForTimeout(2000);
+  
+  // Step 1: Click on the MQTT Dashboard button in the sidebar using its ID
+  console.log('Clicking on MQTT Dashboard button...');
+  await page.click('#mqttDashboardLayoutBtn');
+  
+  // Wait for the MQTT Dashboard to be fully loaded
+  await page.waitForSelector('text=MQTT Dashboard - Dark Mode', { timeout: 10000 });
+  console.log('MQTT Dashboard loaded successfully');
+  
+  // Create screenshots directory if it doesn't exist
+  const screenshotsDir: string = path.join(process.cwd(), 'tests', 'data');
+  if (!fs.existsSync(screenshotsDir)) {
+    fs.mkdirSync(screenshotsDir, { recursive: true });
+  }
+  
+  // Take a screenshot of the dashboard
+  const dashboardScreenshot: string = path.join(screenshotsDir, `mqtt-dashboard-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: dashboardScreenshot });
+  console.log(`Dashboard screenshot saved to: ${dashboardScreenshot}`);
+  
+  // Step 2: Click on the "Nyalakan LED" button
+  console.log('Turning on the LED...');
+  await page.click('button:has-text("Nyalakan LED")');
+  
+  // Wait for the action to take effect
+  await page.waitForTimeout(2000);
+  
+  // Take a screenshot after turning on the LED
+  const ledOnScreenshot: string = path.join(screenshotsDir, `led-on-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: ledOnScreenshot });
+  console.log(`LED on screenshot saved to: ${ledOnScreenshot}`);
+  
+  // Step 3: Type "Testing" in the input field
+  console.log('Typing message...');
+  await page.fill('input[placeholder="Tulis pesan..."]', 'Testing12345');
+  
+  // Take a screenshot after typing the message
+  const messageTypedScreenshot: string = path.join(screenshotsDir, `message-typed-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: messageTypedScreenshot });
+  console.log(`Message typed screenshot saved to: ${messageTypedScreenshot}`);
+  
+  // Step 4: Click the send button
+  console.log('Sending message...');
+  await page.click('button:has-text("Kirim")');
+  
+  // Wait for the action to take effect
+  await page.waitForTimeout(2000);
+  
+  // Take a screenshot after sending the message
+  const messageSentScreenshot: string = path.join(screenshotsDir, `message-sent-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: messageSentScreenshot });
+  console.log(`Message sent screenshot saved to: ${messageSentScreenshot}`);
+  
+  // Step 5: Turn off the LED (assuming there's a "Matikan LED" button)
+  console.log('Turning off the LED...');
+  await page.click('button:has-text("Matikan LED")');
+  
+  // Wait for the action to take effect
+  await page.waitForTimeout(2000);
+  
+  // Take a screenshot after turning off the LED
+  const ledOffScreenshot: string = path.join(screenshotsDir, `led-off-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: ledOffScreenshot });
+  console.log(`LED off screenshot saved to: ${ledOffScreenshot}`);
+  
+  console.log('All actions completed successfully');
+  
+  // Keep the browser open for a moment to see the results
+  await page.waitForTimeout(3000);
+  
+  // Close the browser
+  await browser.close();
+})().catch((err: Error) => {
+  console.error('Error running Playwright script:', err);
+  process.exit(1);
+});
\ No newline at end of file

commit 03488786a3f8cdde6d23978769dd6b5b15b035dc
Author: Alessandro Rumampuk <christaevo2g@gmail.com>
Date:   Wed Apr 2 11:27:27 2025 +0800

    Add

diff --git a/tests/create-read-delete-file.ts b/tests/create-read-delete-file.ts
new file mode 100644
index 0000000..d6f079e
--- /dev/null
+++ b/tests/create-read-delete-file.ts
@@ -0,0 +1,89 @@
+import { chromium } from '@playwright/test';
+import type { Browser, Page } from 'playwright';
+import path from 'path';
+import fs from 'fs';
+
+(async (): Promise<void> => {
+  // Launch the browser
+  const browser: Browser = await chromium.launch({
+    headless: false,
+    slowMo: 50 // Slow down operations for better visibility
+  });
+  
+  // Create a new page
+  const page: Page = await browser.newPage();
+  
+  // Navigate to your app
+  await page.goto('http://localhost:4321');
+  
+  // Wait for the chatbot to be fully loaded
+  await page.waitForSelector('textarea[placeholder="Type your message here..."]', { timeout: 10000 });
+  
+  console.log('Chatbot loaded, preparing to run commands...');
+  
+  // Wait a moment for the chatbot to be fully initialized
+  await page.waitForTimeout(1000);
+  
+  // Focus the input field
+  await page.click('textarea[placeholder="Type your message here..."]');
+  
+  // Type the first command to create testing.txt
+  await page.keyboard.type('$echo "testing" >> testing.txt');
+  
+  // Send the command
+  await page.keyboard.press('Enter');
+  
+  // Wait for the command to execute
+  await page.waitForTimeout(2000);
+  
+  // Take a screenshot after creating the file
+  const screenshotsDir: string = path.join(process.cwd(), 'tests', 'data');
+  if (!fs.existsSync(screenshotsDir)) {
+    fs.mkdirSync(screenshotsDir, { recursive: true });
+  }
+  
+  const screenshot1Path: string = path.join(screenshotsDir, `create-file-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: screenshot1Path });
+  console.log(`Screenshot after creating file saved to: ${screenshot1Path}`);
+  
+  // Type the second command to read testing.txt
+  await page.click('textarea[placeholder="Type your message here..."]');
+  await page.keyboard.type('$cat testing.txt');
+  
+  // Send the command
+  await page.keyboard.press('Enter');
+  
+  // Wait for the command to execute
+  await page.waitForTimeout(2000);
+  
+  // Take a screenshot after reading the file
+  const screenshot2Path: string = path.join(screenshotsDir, `read-file-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: screenshot2Path });
+  console.log(`Screenshot after reading file saved to: ${screenshot2Path}`);
+  
+  // Type the third command to delete testing.txt
+  await page.click('textarea[placeholder="Type your message here..."]');
+  await page.keyboard.type('$rm testing.txt');
+  
+  // Send the command
+  await page.keyboard.press('Enter');
+  
+  // Wait for the command to execute
+  await page.waitForTimeout(2000);
+  
+  // Take a screenshot after deleting the file
+  const screenshot3Path: string = path.join(screenshotsDir, `delete-file-${new Date().toISOString().replace(/:/g, '-')}.png`);
+  await page.screenshot({ path: screenshot3Path });
+  console.log(`Screenshot after deleting file saved to: ${screenshot3Path}`);
+  
+  console.log('Commands executed successfully');
+  
+  // Keep the browser open for a moment to see the results
+  await page.waitForTimeout(1000);
+  
+  // Close the browser
+  await browser.close();
+})().catch((err: Error) => {
+  console.error('Error running Playwright script:', err);
+  process.exit(1);
+});
\ No newline at end of file
```
