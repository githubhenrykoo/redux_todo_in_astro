# Git Activity Log - Henry Koo
Generated at: Tue Apr  8 00:42:47 UTC 2025
## Changes by Henry Koo
```diff
commit 3119707e0fb4fef858b8beb7d772317fae34a7c4
Author: Henry Koo <lckoo1230@gmail.com>
Date:   Mon Apr 7 18:08:48 2025 +0800

    better catalog

diff --git a/src/styles/CatalogPanel.css b/src/styles/CatalogPanel.css
index 4868a00..83c163f 100644
--- a/src/styles/CatalogPanel.css
+++ b/src/styles/CatalogPanel.css
@@ -121,7 +121,7 @@
   display: grid;
   grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
   gap: 20px;
-  padding: 10px;
+  padding: 15px;
   width: 100%;
   min-height: 300px;
 }
@@ -347,6 +347,7 @@
   transition: transform 0.2s, box-shadow 0.2s;
   background-color: var(--card-bg, #2c2c2c);
   cursor: pointer;
+  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
 }
 
 .list-card-inner:hover {
@@ -415,6 +416,95 @@
   border-left: 1px solid var(--border-color, #3e3e3e);
 }
 
+.grid-item {
+  width: 100%;
+  height: 100%;
+}
+
+.grid-item-card {
+  display: flex;
+  flex-direction: column;
+  border: 1px solid var(--border-color, #3e3e3e);
+  border-radius: 8px;
+  overflow: hidden;
+  transition: transform 0.2s, box-shadow 0.2s;
+  height: 100%;
+  cursor: pointer;
+  background-color: var(--card-bg, #2c2c2c);
+  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
+}
+
+.grid-item-card:hover {
+  transform: translateY(-5px);
+  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
+}
+
+.grid-item-thumbnail {
+  height: 160px;
+  overflow: hidden;
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  background-color: var(--card-image-bg, #333);
+  border-bottom: 1px solid var(--border-color, #3e3e3e);
+}
+
+.grid-item-thumbnail img {
+  width: 100%;
+  height: 100%;
+  object-fit: cover;
+}
+
+.grid-item-thumbnail .file-icon {
+  font-size: 3rem;
+  color: var(--text-secondary, #a0aec0);
+}
+
+.grid-item-info {
+  padding: 15px;
+  flex: 1;
+  display: flex;
+  flex-direction: column;
+}
+
+.grid-item-title {
+  margin: 0 0 10px 0;
+  font-size: 1.1rem;
+  white-space: nowrap;
+  overflow: hidden;
+  text-overflow: ellipsis;
+  font-weight: 500;
+}
+
+.grid-item-meta {
+  display: flex;
+  justify-content: space-between;
+  margin-bottom: 10px;
+  font-size: 0.85rem;
+  color: var(--text-secondary, #a0aec0);
+}
+
+.grid-item-description {
+  font-size: 0.9rem;
+  color: var(--text-color, #e0e0e0);
+  margin: 0;
+  overflow: hidden;
+  display: -webkit-box;
+  -webkit-line-clamp: 3;
+  line-clamp: 3;
+  -webkit-box-orient: vertical;
+  max-height: 4.5em; /* Fallback for non-WebKit browsers: 3 lines √ó 1.5 line height */
+  flex: 1;
+}
+
+.grid-item-actions {
+  padding: 10px 15px;
+  border-top: 1px solid var(--border-color, #3e3e3e);
+  display: flex;
+  justify-content: flex-end;
+  gap: 8px;
+}
+
 @media (max-width: 768px) {
   .catalog-controls {
     flex-direction: column;

commit 3281effa700051aff91369db9c6262d3d0637834
Author: Henry Koo <lckoo1230@gmail.com>
Date:   Mon Apr 7 17:44:35 2025 +0800

    better calalog

diff --git a/src/components/panels/CatalogPanel.jsx b/src/components/panels/CatalogPanel.jsx
index e2a1fd6..bb65280 100644
--- a/src/components/panels/CatalogPanel.jsx
+++ b/src/components/panels/CatalogPanel.jsx
@@ -110,23 +110,42 @@ const CatalogPanel = () => {
       .then(data => {
         if (data.success) {
           console.log('Fetched items:', data);
-          // Transform cards into catalog items
-          const transformedItems = data.cards.map(card => ({
-            id: card.hash,
-            name: card.hash.substring(0, 8), // Use first 8 chars of hash as name
-            category: card.contentType?.mimeType || 'Unknown',
-            description: 'Card content hash: ' + card.hash,
-            timestamp: card.timestamp || new Date().toISOString(),
-            hash: card.hash,
-            contentType: card.contentType,
-            metaData: card.metaData || {}
-          }));
+          // Check response format and transform accordingly
+          let transformedItems = [];
+          
+          if (data.cards && Array.isArray(data.cards)) {
+            // Format from getPage endpoint
+            transformedItems = data.cards.map(card => ({
+              id: card.hash,
+              name: card.hash.substring(0, 8), // Use first 8 chars of hash as name
+              category: card.contentType?.mimeType || 'Unknown',
+              description: 'Card content hash: ' + card.hash,
+              timestamp: card.timestamp || new Date().toISOString(),
+              hash: card.hash,
+              contentType: card.contentType,
+              metaData: card.metaData || {}
+            }));
+          } else if (data.items && Array.isArray(data.items)) {
+            // Alternative format from list endpoint
+            transformedItems = data.items.map(item => ({
+              id: item.id || item.hash,
+              name: item.name || (item.hash ? item.hash.substring(0, 8) : 'Unknown'),
+              category: item.category || item.contentType?.mimeType || 'Unknown',
+              description: item.description || 'No description available',
+              timestamp: item.timestamp || new Date().toISOString(),
+              hash: item.hash || item.id,
+              contentType: item.contentType || { mimeType: 'text/plain' },
+              metaData: item.metaData || {}
+            }));
+          } else {
+            console.warn('Unexpected API response format:', data);
+          }
           
           setItems(transformedItems);
           setPagination({
-            currentPage: data.currentPage,
-            totalPages: data.totalPages,
-            totalItems: data.totalCards,
+            currentPage: data.currentPage || 1,
+            totalPages: data.totalPages || Math.ceil((data.totalCards || data.totalItems || transformedItems.length) / pagination.pageSize),
+            totalItems: data.totalCards || data.totalItems || transformedItems.length,
             pageSize: pagination.pageSize
           });
         } else {
@@ -175,21 +194,37 @@ const CatalogPanel = () => {
         .then(data => {
           if (data.success) {
             // Transform cards into catalog items
-            const transformedItems = data.cards.map(card => ({
-              id: card.hash,
-              name: card.hash.substring(0, 8),
-              category: card.contentType?.mimeType || 'Unknown',
-              description: 'Matching content: ' + (card.matchContext || ''),
-              hash: card.hash,
-              timestamp: card.timestamp || new Date().toISOString(),
-              contentType: card.contentType
-            }));
+            let transformedItems = [];
+            
+            if (data.cards && Array.isArray(data.cards)) {
+              transformedItems = data.cards.map(card => ({
+                id: card.hash,
+                name: card.hash.substring(0, 8),
+                category: card.contentType?.mimeType || 'Unknown',
+                description: 'Matching content: ' + (card.matchContext || ''),
+                hash: card.hash,
+                timestamp: card.timestamp || new Date().toISOString(),
+                contentType: card.contentType
+              }));
+            } else if (data.items && Array.isArray(data.items)) {
+              transformedItems = data.items.map(item => ({
+                id: item.id || item.hash,
+                name: item.name || (item.hash ? item.hash.substring(0, 8) : 'Unknown'),
+                category: item.category || item.contentType?.mimeType || 'Unknown',
+                description: item.description || 'No description available',
+                timestamp: item.timestamp || new Date().toISOString(),
+                hash: item.hash || item.id,
+                contentType: item.contentType || { mimeType: 'text/plain' }
+              }));
+            } else {
+              console.warn('Unexpected API search response format:', data);
+            }
             
             setSearchResults({
               items: transformedItems,
-              currentPage: data.currentPage,
-              totalPages: data.totalPages,
-              totalItems: data.totalResults,
+              currentPage: data.currentPage || newPage,
+              totalPages: data.totalPages || Math.ceil((data.totalResults || data.totalItems || transformedItems.length) / pagination.pageSize),
+              totalItems: data.totalResults || data.totalItems || transformedItems.length,
               searchTerm: searchResults.searchTerm
             });
           } else {
@@ -212,22 +247,39 @@ const CatalogPanel = () => {
         .then(data => {
           if (data.success) {
             // Transform cards into catalog items
-            const transformedItems = data.cards.map(card => ({
-              id: card.hash,
-              name: card.hash.substring(0, 8),
-              category: card.contentType?.mimeType || 'Unknown',
-              description: 'Card content hash: ' + card.hash,
-              timestamp: card.timestamp || new Date().toISOString(),
-              hash: card.hash,
-              contentType: card.contentType,
-              metaData: card.metaData || {}
-            }));
+            let transformedItems = [];
+            
+            if (data.cards && Array.isArray(data.cards)) {
+              transformedItems = data.cards.map(card => ({
+                id: card.hash,
+                name: card.hash.substring(0, 8),
+                category: card.contentType?.mimeType || 'Unknown',
+                description: 'Card content hash: ' + card.hash,
+                timestamp: card.timestamp || new Date().toISOString(),
+                hash: card.hash,
+                contentType: card.contentType,
+                metaData: card.metaData || {}
+              }));
+            } else if (data.items && Array.isArray(data.items)) {
+              transformedItems = data.items.map(item => ({
+                id: item.id || item.hash,
+                name: item.name || (item.hash ? item.hash.substring(0, 8) : 'Unknown'),
+                category: item.category || item.contentType?.mimeType || 'Unknown',
+                description: item.description || 'No description available',
+                timestamp: item.timestamp || new Date().toISOString(),
+                hash: item.hash || item.id,
+                contentType: item.contentType || { mimeType: 'text/plain' },
+                metaData: item.metaData || {}
+              }));
+            } else {
+              console.warn('Unexpected API response format:', data);
+            }
             
             setItems(transformedItems);
             setPagination({
-              currentPage: data.currentPage,
-              totalPages: data.totalPages,
-              totalItems: data.totalCards,
+              currentPage: data.currentPage || newPage,
+              totalPages: data.totalPages || Math.ceil((data.totalCards || data.totalItems || transformedItems.length) / pagination.pageSize),
+              totalItems: data.totalCards || data.totalItems || transformedItems.length,
               pageSize: pagination.pageSize
             });
           } else {
@@ -383,21 +435,37 @@ const CatalogPanel = () => {
       .then(data => {
         if (data.success) {
           // Transform cards into catalog items
-          const transformedItems = (data.cards || []).map(card => ({
-            id: card.hash,
-            name: card.hash.substring(0, 8),
-            category: card.contentType?.mimeType || 'Unknown',
-            description: 'Matching content: ' + (card.matchContext || ''),
-            hash: card.hash,
-            timestamp: card.timestamp || new Date().toISOString(),
-            contentType: card.contentType
-          }));
+          let transformedItems = [];
+          
+          if (data.cards && Array.isArray(data.cards)) {
+            transformedItems = data.cards.map(card => ({
+              id: card.hash,
+              name: card.hash.substring(0, 8),
+              category: card.contentType?.mimeType || 'Unknown',
+              description: 'Matching content: ' + (card.matchContext || ''),
+              hash: card.hash,
+              timestamp: card.timestamp || new Date().toISOString(),
+              contentType: card.contentType
+            }));
+          } else if (data.items && Array.isArray(data.items)) {
+            transformedItems = data.items.map(item => ({
+              id: item.id || item.hash,
+              name: item.name || (item.hash ? item.hash.substring(0, 8) : 'Unknown'),
+              category: item.category || item.contentType?.mimeType || 'Unknown',
+              description: item.description || 'No description available',
+              timestamp: item.timestamp || new Date().toISOString(),
+              hash: item.hash || item.id,
+              contentType: item.contentType || { mimeType: 'text/plain' }
+            }));
+          } else {
+            console.warn('Unexpected API search response format:', data);
+          }
           
           setSearchResults({
             items: transformedItems,
             currentPage: data.currentPage || 1,
-            totalPages: data.totalPages || 1,
-            totalItems: data.totalResults || transformedItems.length,
+            totalPages: data.totalPages || Math.ceil((data.totalResults || data.totalItems || transformedItems.length) / pagination.pageSize),
+            totalItems: data.totalResults || data.totalItems || transformedItems.length,
             searchTerm: searchTerm
           });
         } else {
@@ -613,7 +681,7 @@ const CatalogPanel = () => {
     );
   };
 
-  // Render list view
+  // Render list view with card-based layout
   const renderListView = () => {
     if (loading || searchLoading) {
       return <div className="loading-indicator">Loading items...</div>;
@@ -640,50 +708,50 @@ const CatalogPanel = () => {
 
     return (
       <>
-        <div className="catalog-list-view">
-          <table className="catalog-table">
-            <thead>
-              <tr>
-                <th onClick={() => setSortBy('name')}>
-                  Name {sortBy === 'name' && '‚Üì'}
-                </th>
-                <th>Type</th>
-                <th onClick={() => setSortBy('timestamp')}>
-                  Timestamp {sortBy === 'timestamp' && '‚Üì'}
-                </th>
-                <th>Actions</th>
-              </tr>
-            </thead>
-            <tbody>
-              {sortedItems.map(item => (
-                <tr key={item.id}>
-                  <td onClick={() => handleSelectItem(item)} className="item-name">
-                    {item.name}
-                  </td>
-                  <td>
-                    {item.contentType?.mimeType 
-                      ? getSimpleContentType(item.contentType.mimeType) || item.contentType.mimeType 
-                      : 'Unknown'}
-                  </td>
-                  <td>{new Date(item.timestamp).toLocaleString()}</td>
-                  <td className="item-actions">
-                    <button 
-                      className="btn btn-small btn-info"
-                      onClick={() => handleSelectItem(item)}
-                    >
-                      View
-                    </button>
-                    <button 
-                      className="btn btn-small btn-danger"
-                      onClick={() => handleDeleteItem(item.id)}
-                    >
-                      Delete
-                    </button>
-                  </td>
-                </tr>
-              ))}
-            </tbody>
-          </table>
+        <div className="catalog-list-cards">
+          {sortedItems.map(item => (
+            <div key={item.id} className="list-card">
+              <div className="list-card-inner" onClick={() => handleSelectItem(item)}>
+                <div className="list-card-thumbnail">
+                  {getCardThumbnail(item)}
+                </div>
+                <div className="list-card-content">
+                  <h3 className="list-card-title">{item.name}</h3>
+                  <div className="list-card-meta">
+                    <span className="list-card-type">
+                      {item.contentType?.mimeType 
+                        ? getSimpleContentType(item.contentType.mimeType) || item.contentType.mimeType 
+                        : 'Unknown'}
+                    </span>
+                    <span className="list-card-date">
+                      {new Date(item.timestamp).toLocaleString()}
+                    </span>
+                  </div>
+                  <p className="list-card-description">{item.description}</p>
+                </div>
+                <div className="list-card-actions">
+                  <button 
+                    className="btn btn-small btn-info"
+                    onClick={(e) => {
+                      e.stopPropagation();
+                      handleSelectItem(item);
+                    }}
+                  >
+                    View
+                  </button>
+                  <button 
+                    className="btn btn-small btn-danger"
+                    onClick={(e) => {
+                      e.stopPropagation();
+                      handleDeleteItem(item.id);
+                    }}
+                  >
+                    Delete
+                  </button>
+                </div>
+              </div>
+            </div>
+          ))}
         </div>
         
         {/* Pagination */}
@@ -742,22 +810,39 @@ const CatalogPanel = () => {
       <>
         <div className="catalog-grid-view">
           {sortedItems.map(item => (
-            <div 
-              key={item.id} 
-              className="catalog-card"
-              onClick={() => handleSelectItem(item)}
-            >
-              <div className="catalog-card-image">
-                {getCardThumbnail(item)}
-              </div>
-              <div className="catalog-card-content">
-                <h3>{item.name}</h3>
-                <p className="catalog-card-category">
-                  {item.contentType?.mimeType 
-                    ? getSimpleContentType(item.contentType.mimeType) || item.contentType.mimeType 
-                    : 'Unknown'}
-                </p>
-                <p className="catalog-timestamp">{new Date(item.timestamp).toLocaleString()}</p>
+            <div key={item.id} className="grid-item">
+              <div 
+                className="grid-item-card" 
+                onClick={() => handleSelectItem(item)}
+              >
+                <div className="grid-item-thumbnail">
+                  {getCardThumbnail(item)}
+                </div>
+                <div className="grid-item-info">
+                  <h3 className="grid-item-title">{item.name}</h3>
+                  <div className="grid-item-meta">
+                    <span className="grid-item-type">
+                      {item.contentType?.mimeType 
+                        ? getSimpleContentType(item.contentType.mimeType) || item.contentType.mimeType 
+                        : 'Unknown'}
+                    </span>
+                    <span className="grid-item-date">
+                      {new Date(item.timestamp).toLocaleDateString()}
+                    </span>
+                  </div>
+                  <p className="grid-item-description">{item.description}</p>
+                </div>
+                <div className="grid-item-actions">
+                  <button 
+                    className="btn btn-small btn-danger"
+                    onClick={(e) => {
+                      e.stopPropagation();
+                      handleDeleteItem(item.id);
+                    }}
+                  >
+                    Delete
+                  </button>
+                </div>
               </div>
             </div>
           ))}
@@ -1130,13 +1215,15 @@ const CatalogPanel = () => {
   };
 
   return (
-    <div className="catalog-panel">
+    <div className="catalog-panel" style={{ height: '100%', width: '100%', display: 'flex', flexDirection: 'column' }}>
       {renderHeader()}
       
-      {viewMode === 'list' && renderListView()}
-      {viewMode === 'grid' && renderGridView()}
-      {viewMode === 'detail' && renderDetailView()}
-      {viewMode === 'add' && renderAddForm()}
+      <div className="catalog-content" style={{ flex: 1, overflow: 'auto', position: 'relative' }}>
+        {viewMode === 'list' && renderListView()}
+        {viewMode === 'grid' && renderGridView()}
+        {viewMode === 'detail' && renderDetailView()}
+        {viewMode === 'add' && renderAddForm()}
+      </div>
     </div>
   );
 };
diff --git a/src/styles/CatalogPanel.css b/src/styles/CatalogPanel.css
index 6f1dcad..4868a00 100644
--- a/src/styles/CatalogPanel.css
+++ b/src/styles/CatalogPanel.css
@@ -2,10 +2,12 @@
   display: flex;
   flex-direction: column;
   height: 100%;
+  width: 100%;
   background-color: var(--bg-color, #1e1e1e);
   color: var(--text-color, #e0e0e0);
   border-radius: 8px;
   overflow: hidden;
+  position: relative;
 }
 
 .panel-header {
@@ -15,6 +17,8 @@
   padding: 12px 16px;
   background-color: var(--panel-header-bg, #2c2c2c);
   border-bottom: 1px solid var(--border-color, #3e3e3e);
+  z-index: 2;
+  flex-shrink: 0;
 }
 
 .panel-header h2 {
@@ -96,200 +100,38 @@
   font-size: 0.9rem;
 }
 
-.btn {
-  padding: 8px 16px;
-  border: none;
-  border-radius: 4px;
-  cursor: pointer;
-  transition: background-color 0.2s;
-}
-
-.btn-primary {
-  background-color: var(--primary-color, #4a7bab);
-  color: white;
-}
-
-.btn-primary:hover {
-  background-color: var(--primary-color-hover, #5a8bbb);
-}
-
-.btn-secondary {
-  background-color: var(--secondary-color, #555);
-  color: white;
-}
-
-.btn-secondary:hover {
-  background-color: var(--secondary-color-hover, #666);
-}
-
-.btn-danger {
-  background-color: var(--danger-color, #c53030);
-  color: white;
-}
-
-.btn-danger:hover {
-  background-color: var(--danger-color-hover, #d54040);
-}
-
-.btn-info {
-  background-color: var(--info-color, #2b6cb0);
-  color: white;
-}
-
-.btn-info:hover {
-  background-color: var(--info-color-hover, #3b7cc0);
-}
-
-.btn-back {
-  padding: 4px 8px;
-  background-color: transparent;
-  border: 1px solid var(--border-color, #3e3e3e);
-  color: var(--text-color, #e0e0e0);
-}
-
-.btn-small {
-  padding: 4px 8px;
-  font-size: 0.8rem;
-}
-
-.btn-pagination {
-  padding: 4px 10px;
-  background-color: var(--secondary-color, #555);
-  color: white;
-}
-
-.btn-pagination:disabled {
-  background-color: var(--disabled-bg, #444);
-  color: var(--disabled-color, #888);
-  cursor: not-allowed;
-}
-
-.catalog-list-view {
+.catalog-content {
   flex: 1;
   overflow-y: auto;
-  padding: 12px 16px;
-}
-
-.catalog-table {
+  padding: 15px;
   width: 100%;
-  border-collapse: collapse;
-}
-
-.catalog-table th {
-  text-align: left;
-  padding: 10px;
-  background-color: var(--table-header-bg, #2c2c2c);
-  cursor: pointer;
-}
-
-.catalog-table th:hover {
-  background-color: var(--table-header-hover, #3c3c3c);
-}
-
-.catalog-table td {
-  padding: 10px;
-  border-bottom: 1px solid var(--border-color, #3e3e3e);
-}
-
-.catalog-table tr:hover {
-  background-color: var(--table-row-hover, #2a2a2a);
-}
-
-.item-name {
-  color: var(--link-color, #63b3ed);
-  cursor: pointer;
+  position: relative;
+  display: flex;
+  flex-direction: column;
+  min-height: 300px; /* Ensure minimum height */
 }
 
-.item-actions {
-  display: flex;
-  gap: 8px;
+.catalog-list-view {
+  width: 100%;
+  overflow-x: auto;
+  min-height: 300px;
 }
 
 .catalog-grid-view {
-  flex: 1;
   display: grid;
-  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
-  gap: 16px;
-  padding: 16px;
-  overflow-y: auto;
-}
-
-.catalog-card {
-  background-color: var(--card-bg, #2c2c2c);
-  border-radius: 8px;
-  overflow: hidden;
-  transition: transform 0.2s, box-shadow 0.2s;
-  cursor: pointer;
-  border: 1px solid var(--border-color, #3e3e3e);
-}
-
-.catalog-card:hover {
-  transform: translateY(-2px);
-  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
-}
-
-.catalog-card-image {
-  height: 150px;
-  background-color: var(--card-image-bg, #333);
-  display: flex;
-  align-items: center;
-  justify-content: center;
+  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
+  gap: 20px;
+  padding: 10px;
+  width: 100%;
+  min-height: 300px;
 }
 
-.catalog-card-image img {
+.catalog-detail-view {
   width: 100%;
+  min-height: 300px;
   height: 100%;
-  object-fit: cover;
-}
-
-.image-placeholder {
-  color: var(--placeholder-color, #666);
-  text-align: center;
-  word-break: break-word;
-  padding: 10px;
-  font-size: 0.8rem;
-}
-
-.image-placeholder.large {
-  height: 300px;
   display: flex;
-  align-items: center;
-  justify-content: center;
-  background-color: var(--card-image-bg, #333);
-  border-radius: 4px;
-}
-
-.catalog-card-content {
-  padding: 12px;
-}
-
-.catalog-card-content h3 {
-  margin: 0 0 8px 0;
-  font-size: 1rem;
-  white-space: nowrap;
-  overflow: hidden;
-  text-overflow: ellipsis;
-}
-
-.catalog-card-category {
-  color: var(--text-secondary, #a0aec0);
-  font-size: 0.8rem;
-  margin: 0 0 8px 0;
-  white-space: nowrap;
-  overflow: hidden;
-  text-overflow: ellipsis;
-}
-
-.catalog-timestamp {
-  font-size: 0.75rem;
-  color: var(--text-muted, #888);
-  margin: 0;
-}
-
-.catalog-detail-view {
-  flex: 1;
-  overflow-y: auto;
-  padding: 16px;
+  flex-direction: column;
 }
 
 .catalog-detail-header {
@@ -402,16 +244,12 @@
   margin-top: 8px;
 }
 
-.content-placeholder {
-  padding: 32px;
-  text-align: center;
-  color: var(--text-muted, #888);
-}
-
-.content-unknown {
-  padding: 32px;
-  text-align: center;
-  color: var(--text-muted, #888);
+.loading-indicator, .error-message, .empty-state {
+  min-height: 300px;
+  width: 100%;
+  display: flex;
+  justify-content: center;
+  align-items: center;
 }
 
 .pagination-controls {
@@ -428,28 +266,6 @@
   font-size: 0.9rem;
 }
 
-.empty-state {
-  padding: 32px;
-  text-align: center;
-  color: var(--text-muted, #888);
-  font-style: italic;
-}
-
-.loading-indicator {
-  text-align: center;
-  padding: 24px;
-  color: var(--text-secondary, #a0aec0);
-}
-
-.error-message {
-  padding: 16px;
-  background-color: var(--error-bg, rgba(197, 48, 48, 0.1));
-  border: 1px solid var(--error-border, rgba(197, 48, 48, 0.3));
-  color: var(--error-text, #f56565);
-  border-radius: 4px;
-  margin: 16px;
-}
-
 .catalog-form {
   display: flex;
   flex-direction: column;
@@ -510,6 +326,95 @@
   margin-top: 16px;
 }
 
+.catalog-list-cards {
+  display: flex;
+  flex-direction: column;
+  gap: 15px;
+  width: 100%;
+  min-height: 300px;
+  padding: 10px;
+}
+
+.list-card {
+  width: 100%;
+}
+
+.list-card-inner {
+  display: flex;
+  border: 1px solid var(--border-color, #3e3e3e);
+  border-radius: 8px;
+  overflow: hidden;
+  transition: transform 0.2s, box-shadow 0.2s;
+  background-color: var(--card-bg, #2c2c2c);
+  cursor: pointer;
+}
+
+.list-card-inner:hover {
+  transform: translateY(-3px);
+  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
+}
+
+.list-card-thumbnail {
+  width: 120px;
+  min-width: 120px;
+  overflow: hidden;
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  background-color: var(--card-image-bg, #333);
+}
+
+.list-card-thumbnail img {
+  width: 100%;
+  height: 100%;
+  object-fit: cover;
+}
+
+.list-card-content {
+  flex: 1;
+  padding: 15px;
+  display: flex;
+  flex-direction: column;
+  overflow: hidden;
+}
+
+.list-card-title {
+  margin: 0 0 8px 0;
+  font-size: 1.1rem;
+  white-space: nowrap;
+  overflow: hidden;
+  text-overflow: ellipsis;
+}
+
+.list-card-meta {
+  display: flex;
+  justify-content: space-between;
+  margin-bottom: 8px;
+  font-size: 0.85rem;
+  color: var(--text-secondary, #a0aec0);
+}
+
+.list-card-description {
+  font-size: 0.9rem;
+  color: var(--text-color, #e0e0e0);
+  margin: 0;
+  overflow: hidden;
+  display: -webkit-box;
+  -webkit-line-clamp: 2;
+  line-clamp: 2;
+  -webkit-box-orient: vertical;
+  max-height: 3em;
+}
+
+.list-card-actions {
+  display: flex;
+  flex-direction: column;
+  justify-content: center;
+  gap: 8px;
+  padding: 0 15px;
+  border-left: 1px solid var(--border-color, #3e3e3e);
+}
+
 @media (max-width: 768px) {
   .catalog-controls {
     flex-direction: column;

commit 52949e95ed0c2d89c6a2d1d9e68b00ac4ec0d66c
Author: Henry Koo <lckoo1230@gmail.com>
Date:   Mon Apr 7 15:28:22 2025 +0800

    new catalog

diff --git a/src/components/panels/CatalogPanel.jsx b/src/components/panels/CatalogPanel.jsx
new file mode 100644
index 0000000..e2a1fd6
--- /dev/null
+++ b/src/components/panels/CatalogPanel.jsx
@@ -0,0 +1,1144 @@
+import React, { useState, useEffect } from 'react';
+import { useDispatch } from 'react-redux';
+import { importCardFromDatabase, selectContent } from '../../features/contentSlice';
+import { selectItem } from '../../features/selectedItemSlice';
+import '../../styles/CatalogPanel.css';
+
+/**
+ * CatalogPanel - A component for displaying and managing catalog items
+ * 
+ * Features:
+ * - List view with search/filter capabilities
+ * - Grid view with thumbnail support
+ * - Item categorization
+ * - Add/edit/remove operations
+ * - Detail view for individual items
+ * - Integration with card-collection API
+ */
+const CatalogPanel = () => {
+  const dispatch = useDispatch();
+  
+  // Component state (previously from Redux store)
+  const [items, setItems] = useState([]);
+  const [selectedItem, setSelectedItem] = useState(null);
+  const [loading, setLoading] = useState(false);
+  const [itemLoading, setItemLoading] = useState(false);
+  const [searchLoading, setSearchLoading] = useState(false);
+  const [error, setError] = useState(null);
+  const [itemError, setItemError] = useState(null);
+  const [searchError, setSearchError] = useState(null);
+  const [pagination, setPagination] = useState({
+    currentPage: 1,
+    totalPages: 1,
+    totalItems: 0,
+    pageSize: 20
+  });
+  const [searchResults, setSearchResults] = useState({
+    items: [],
+    currentPage: 1,
+    totalPages: 1,
+    totalItems: 0,
+    searchTerm: ''
+  });
+  
+  const [viewMode, setViewMode] = useState('list'); // 'list', 'grid', 'detail', 'add'
+  const [searchTerm, setSearchTerm] = useState('');
+  const [isSearchMode, setIsSearchMode] = useState(false);
+  const [filter, setFilter] = useState('all');
+  const [sortBy, setSortBy] = useState('name');
+  const [fileInput, setFileInput] = useState(null);
+  const [newItem, setNewItem] = useState({
+    name: '',
+    description: '',
+    contentType: 'text/plain',
+    file: null
+  });
+  
+  // Category list derived from items
+  const [categories, setCategories] = useState(['all']);
+
+  // Determine which items to display based on search mode
+  const displayItems = isSearchMode ? searchResults.items : items;
+  
+  // Pagination info based on mode
+  const paginationInfo = isSearchMode 
+    ? { 
+        currentPage: searchResults.currentPage, 
+        totalPages: searchResults.totalPages, 
+        totalItems: searchResults.totalItems,
+        pageSize: 20
+      } 
+    : pagination;
+
+  // Filter and sort items for the current view
+  const filteredItems = displayItems.filter(item => {
+    // Skip filtering in search mode
+    if (isSearchMode) return true;
+    
+    const matchesFilter = filter === 'all' || item.category === filter;
+    return matchesFilter;
+  });
+
+  // Sort items
+  const sortedItems = [...filteredItems].sort((a, b) => {
+    switch(sortBy) {
+      case 'name':
+        return a.name.localeCompare(b.name);
+      case 'timestamp':
+        return new Date(b.timestamp) - new Date(a.timestamp);
+      default:
+        return 0;
+    }
+  });
+
+  // Update categories whenever items change
+  useEffect(() => {
+    if (items.length > 0) {
+      const catSet = new Set(items.map(item => item.category));
+      const categoryArray = ['all', ...Array.from(catSet)].filter(c => c);
+      setCategories(categoryArray);
+    }
+  }, [items]);
+
+  // Initial fetch on component mount
+  useEffect(() => {
+    setLoading(true);
+    setError(null);
+    
+    fetch(`/api/card-collection?action=getPage&pageNumber=1&pageSize=${pagination.pageSize}`)
+      .then(response => response.json())
+      .then(data => {
+        if (data.success) {
+          console.log('Fetched items:', data);
+          // Transform cards into catalog items
+          const transformedItems = data.cards.map(card => ({
+            id: card.hash,
+            name: card.hash.substring(0, 8), // Use first 8 chars of hash as name
+            category: card.contentType?.mimeType || 'Unknown',
+            description: 'Card content hash: ' + card.hash,
+            timestamp: card.timestamp || new Date().toISOString(),
+            hash: card.hash,
+            contentType: card.contentType,
+            metaData: card.metaData || {}
+          }));
+          
+          setItems(transformedItems);
+          setPagination({
+            currentPage: data.currentPage,
+            totalPages: data.totalPages,
+            totalItems: data.totalCards,
+            pageSize: pagination.pageSize
+          });
+        } else {
+          setError(data.error || 'Failed to fetch items');
+        }
+      })
+      .catch(error => {
+        console.error('Error fetching catalog items:', error);
+        setError('Failed to fetch catalog items. Please try again.');
+      })
+      .finally(() => {
+        setLoading(false);
+      });
+  }, []);
+
+  // Helper function to extract a simple content type from MIME type
+  const getSimpleContentType = (mimeType) => {
+    if (!mimeType) return null;
+    
+    // Extract the subtype from the MIME type
+    const parts = mimeType.split('/');
+    if (parts.length < 2) return null;
+    
+    const subtype = parts[1];
+    
+    // Handle special cases
+    if (subtype.includes('json')) return 'json';
+    if (subtype.includes('javascript')) return 'js';
+    if (subtype === 'plain') return 'txt';
+    if (subtype === 'html') return 'html';
+    if (subtype === 'css') return 'css';
+    if (subtype === 'svg+xml') return 'svg';
+    
+    // Return the subtype as-is for common formats (gif, png, jpg, etc.)
+    return subtype;
+  };
+
+  // Handle pagination change
+  const handlePageChange = (newPage) => {
+    if (isSearchMode) {
+      setSearchLoading(true);
+      setSearchError(null);
+      
+      fetch(`/api/card-collection?action=searchByContent&searchTerm=${encodeURIComponent(searchResults.searchTerm)}&pageNumber=${newPage}&pageSize=${pagination.pageSize}`)
+        .then(response => response.json())
+        .then(data => {
+          if (data.success) {
+            // Transform cards into catalog items
+            const transformedItems = data.cards.map(card => ({
+              id: card.hash,
+              name: card.hash.substring(0, 8),
+              category: card.contentType?.mimeType || 'Unknown',
+              description: 'Matching content: ' + (card.matchContext || ''),
+              hash: card.hash,
+              timestamp: card.timestamp || new Date().toISOString(),
+              contentType: card.contentType
+            }));
+            
+            setSearchResults({
+              items: transformedItems,
+              currentPage: data.currentPage,
+              totalPages: data.totalPages,
+              totalItems: data.totalResults,
+              searchTerm: searchResults.searchTerm
+            });
+          } else {
+            setSearchError(data.error || 'Search failed');
+          }
+        })
+        .catch(error => {
+          console.error('Error searching catalog items:', error);
+          setSearchError('Search failed. Please try again.');
+        })
+        .finally(() => {
+          setSearchLoading(false);
+        });
+    } else {
+      setLoading(true);
+      setError(null);
+      
+      fetch(`/api/card-collection?action=getPage&pageNumber=${newPage}&pageSize=${pagination.pageSize}`)
+        .then(response => response.json())
+        .then(data => {
+          if (data.success) {
+            // Transform cards into catalog items
+            const transformedItems = data.cards.map(card => ({
+              id: card.hash,
+              name: card.hash.substring(0, 8),
+              category: card.contentType?.mimeType || 'Unknown',
+              description: 'Card content hash: ' + card.hash,
+              timestamp: card.timestamp || new Date().toISOString(),
+              hash: card.hash,
+              contentType: card.contentType,
+              metaData: card.metaData || {}
+            }));
+            
+            setItems(transformedItems);
+            setPagination({
+              currentPage: data.currentPage,
+              totalPages: data.totalPages,
+              totalItems: data.totalCards,
+              pageSize: pagination.pageSize
+            });
+          } else {
+            setError(data.error || 'Failed to fetch items');
+          }
+        })
+        .catch(error => {
+          console.error('Error fetching catalog items:', error);
+          setError('Failed to fetch catalog items. Please try again.');
+        })
+        .finally(() => {
+          setLoading(false);
+        });
+    }
+  };
+
+  // Handle item selection
+  const handleSelectItem = (item) => {
+    setItemLoading(true);
+    setItemError(null);
+    setViewMode('detail');
+    
+    fetch(`/api/card-collection?action=get&hash=${item.id}`)
+      .then(response => response.json())
+      .then(data => {
+        if (data.success) {
+          const cardData = data.card;
+          
+          // Get content type from server response
+          const serverContentType = cardData.contentType;
+          console.log("Server-provided content type:", serverContentType);
+          
+          // Extract a simple content type string for the UI
+          const simpleType = serverContentType?.extension || 
+                         (serverContentType?.mimeType ? getSimpleContentType(serverContentType.mimeType) : null) || 
+                         "txt";
+          
+          console.log("Using content type:", simpleType);
+          
+          // Process the content based on its type
+          let description = 'Binary content';
+          const content = cardData.content;
+          
+          if (typeof content === 'string') {
+            description = content.substring(0, 200) + (content.length > 200 ? '...' : '');
+          } else if (content && typeof content === 'object') {
+            if (content.type === 'string') {
+              description = content.data.substring(0, 200) + (content.data.length > 200 ? '...' : '');
+            } else if (content.type === 'base64') {
+              description = `Binary content (${content.originalType || 'unknown type'})`;
+            }
+          }
+          
+          // Set the selected item with all details
+          setSelectedItem({
+            id: cardData.hash,
+            name: cardData.hash.substring(0, 8),
+            category: cardData.contentType?.mimeType || 'Unknown',
+            description: description,
+            hash: cardData.hash,
+            content: cardData.content,
+            timestamp: cardData.timestamp || new Date().toISOString(),
+            contentType: cardData.contentType
+          });
+          
+          // Import the card to contentSlice Redux store for cross-panel integration
+          dispatch(importCardFromDatabase({ 
+            hash: cardData.hash,
+            content: cardData.content,
+            metadata: {
+              contentType: serverContentType
+            },
+            relationships: {
+              parentHash: null,
+              childHashes: [],
+              relatedHashes: []
+            }
+          }));
+          
+          // Select the card in Redux
+          dispatch(selectContent(cardData.hash));
+          
+          // Update the selectedItem state with card details for selected item slice
+          dispatch(selectItem({
+            item: cardData.content,
+            hash: cardData.hash,
+            contentType: simpleType,
+            gtime: cardData.timestamp
+          }));
+        } else {
+          setItemError(data.error || 'Failed to fetch card');
+        }
+      })
+      .catch(error => {
+        console.error('Error fetching card by ID:', error);
+        setItemError('Failed to fetch card. Please try again.');
+      })
+      .finally(() => {
+        setItemLoading(false);
+      });
+  };
+
+  // Handle item deletion
+  const handleDeleteItem = (id) => {
+    if (window.confirm('Are you sure you want to delete this item?')) {
+      fetch(`/api/card-collection?action=delete&hash=${id}`, { 
+        method: 'DELETE' 
+      })
+        .then(response => response.json())
+        .then(data => {
+          if (data.success) {
+            // Remove item from state
+            setItems(prevItems => prevItems.filter(item => item.id !== id));
+            // If we're viewing the item that was deleted, go back to list view
+            if (selectedItem && selectedItem.id === id) {
+              setSelectedItem(null);
+              setViewMode('list');
+            }
+          } else {
+            setError(data.error || 'Failed to delete item');
+          }
+        })
+        .catch(error => {
+          console.error('Error deleting catalog item:', error);
+          setError('Failed to delete item. Please try again.');
+        });
+    }
+  };
+
+  // Handle search submission
+  const handleSearchSubmit = (e) => {
+    e.preventDefault();
+    
+    if (!searchTerm.trim()) {
+      // Clear search if empty
+      setIsSearchMode(false);
+      setSearchResults({
+        items: [],
+        currentPage: 1,
+        totalPages: 1,
+        totalItems: 0,
+        searchTerm: ''
+      });
+      return;
+    }
+    
+    setIsSearchMode(true);
+    setSearchLoading(true);
+    setSearchError(null);
+    
+    fetch(`/api/card-collection?action=searchByContent&searchTerm=${encodeURIComponent(searchTerm)}&pageNumber=1&pageSize=${pagination.pageSize}`)
+      .then(response => response.json())
+      .then(data => {
+        if (data.success) {
+          // Transform cards into catalog items
+          const transformedItems = (data.cards || []).map(card => ({
+            id: card.hash,
+            name: card.hash.substring(0, 8),
+            category: card.contentType?.mimeType || 'Unknown',
+            description: 'Matching content: ' + (card.matchContext || ''),
+            hash: card.hash,
+            timestamp: card.timestamp || new Date().toISOString(),
+            contentType: card.contentType
+          }));
+          
+          setSearchResults({
+            items: transformedItems,
+            currentPage: data.currentPage || 1,
+            totalPages: data.totalPages || 1,
+            totalItems: data.totalResults || transformedItems.length,
+            searchTerm: searchTerm
+          });
+        } else {
+          setSearchError(data.error || 'Search failed');
+        }
+      })
+      .catch(error => {
+        console.error('Error searching catalog items:', error);
+        setSearchError('Search failed. Please try again.');
+      })
+      .finally(() => {
+        setSearchLoading(false);
+      });
+  };
+
+  // Handle new item submission
+  const handleAddItem = (e) => {
+    e.preventDefault();
+    
+    if (!newItem.name) {
+      alert('Please provide a name for the new item');
+      return;
+    }
+    
+    if (newItem.file) {
+      // File upload
+      const formData = new FormData();
+      formData.append('file', newItem.file);
+      formData.append('name', newItem.name);
+      formData.append('description', newItem.description || '');
+      
+      setLoading(true);
+      setError(null);
+      
+      fetch('/api/card-collection?action=add', {
+        method: 'POST',
+        body: formData
+      })
+        .then(response => response.json())
+        .then(data => {
+          if (data.success) {
+            // Add new item to the state
+            const newCardItem = {
+              id: data.hash,
+              name: newItem.name,
+              description: newItem.description || 'Added file',
+              category: newItem.contentType || 'application/octet-stream',
+              hash: data.hash,
+              timestamp: new Date().toISOString(),
+              contentType: { mimeType: newItem.contentType || 'application/octet-stream' }
+            };
+            
+            setItems(prevItems => [...prevItems, newCardItem]);
+            
+            // Reset form
+            setNewItem({
+              name: '',
+              description: '',
+              contentType: 'text/plain',
+              file: null
+            });
+            setFileInput(null);
+            setViewMode('list');
+          } else {
+            setError(data.error || 'Failed to add item');
+          }
+        })
+        .catch(error => {
+          console.error('Error adding catalog item:', error);
+          setError('Failed to add item. Please try again.');
+        })
+        .finally(() => {
+          setLoading(false);
+        });
+    } else if (newItem.description) {
+      // Text content
+      setLoading(true);
+      setError(null);
+      
+      fetch('/api/card-collection?action=add', {
+        method: 'POST',
+        headers: { 'Content-Type': 'application/json' },
+        body: JSON.stringify({
+          name: newItem.name,
+          content: newItem.description,
+          contentType: { mimeType: newItem.contentType || 'text/plain' }
+        })
+      })
+        .then(response => response.json())
+        .then(data => {
+          if (data.success) {
+            // Add new item to state
+            const newCardItem = {
+              id: data.hash,
+              name: newItem.name,
+              description: newItem.description.substring(0, 100) + (newItem.description.length > 100 ? '...' : ''),
+              category: newItem.contentType || 'text/plain',
+              hash: data.hash,
+              timestamp: new Date().toISOString(),
+              contentType: { mimeType: newItem.contentType || 'text/plain' }
+            };
+            
+            setItems(prevItems => [...prevItems, newCardItem]);
+            
+            // Reset form
+            setNewItem({
+              name: '',
+              description: '',
+              contentType: 'text/plain',
+              file: null
+            });
+            setViewMode('list');
+          } else {
+            setError(data.error || 'Failed to add item');
+          }
+        })
+        .catch(error => {
+          console.error('Error adding catalog item:', error);
+          setError('Failed to add item. Please try again.');
+        })
+        .finally(() => {
+          setLoading(false);
+        });
+    } else {
+      alert('Please provide content to add');
+    }
+  };
+
+  // Clear search and return to normal view
+  const handleClearSearch = () => {
+    setSearchTerm('');
+    setIsSearchMode(false);
+    setSearchResults({
+      items: [],
+      currentPage: 1,
+      totalPages: 1,
+      totalItems: 0,
+      searchTerm: ''
+    });
+  };
+
+  // Handle file input change
+  const handleFileChange = (e) => {
+    const file = e.target.files[0];
+    if (file) {
+      setFileInput(file);
+      setNewItem({
+        ...newItem,
+        name: file.name,
+        contentType: file.type || 'application/octet-stream',
+        file: file
+      });
+    }
+  };
+
+  // Handle form input changes
+  const handleInputChange = (e) => {
+    const { name, value } = e.target;
+    setNewItem({
+      ...newItem,
+      [name]: value
+    });
+  };
+
+  // Get thumbnail for different content types
+  const getCardThumbnail = (item) => {
+    const contentType = item.contentType?.mimeType || 'unknown';
+    const simpleType = getSimpleContentType(contentType);
+    
+    // Image thumbnails for image types
+    if (contentType.startsWith('image/')) {
+      return (
+        <img 
+          src={`/api/card-collection?action=get&hash=${item.id}`} 
+          alt={item.name} 
+          onError={(e) => {
+            e.target.onerror = null;
+            e.target.src = "https://placehold.co/300x300?text=No+Preview";
+          }}
+        />
+      );
+    }
+    
+    // Icons or placeholders for other content types
+    const contentTypeDisplay = {
+      'json': 'JSON',
+      'txt': 'TXT',
+      'csv': 'CSV',
+      'pdf': 'PDF',
+      'mp3': 'üéµ Audio',
+      'wav': 'üéµ Audio',
+      'mp4': 'üé¨ Video',
+      'png': 'üñºÔ∏è Image',
+      'jpg': 'üñºÔ∏è Image',
+      'jpeg': 'üñºÔ∏è Image',
+      'gif': 'üñºÔ∏è Image',
+      'js': 'JS',
+      'html': 'HTML',
+      'xml': 'XML',
+      'css': 'CSS',
+      'svg': 'SVG'
+    };
+    
+    // Use the simple type for display if available
+    const displayType = simpleType && contentTypeDisplay[simpleType] 
+      ? contentTypeDisplay[simpleType]
+      : contentType || 'Unknown';
+    
+    return (
+      <div className="image-placeholder">
+        {displayType}
+      </div>
+    );
+  };
+
+  // Render list view
+  const renderListView = () => {
+    if (loading || searchLoading) {
+      return <div className="loading-indicator">Loading items...</div>;
+    }
+
+    if (error) {
+      return <div className="error-message">Error: {error}</div>;
+    }
+
+    if (searchError) {
+      return <div className="error-message">Search error: {searchError}</div>;
+    }
+
+    if (sortedItems.length === 0) {
+      return (
+        <div className="empty-state">
+          {isSearchMode 
+            ? <p>No results found for "{searchResults.searchTerm}"</p>
+            : <p>No items available. Add your first item to get started.</p>
+          }
+        </div>
+      );
+    }
+
+    return (
+      <>
+        <div className="catalog-list-view">
+          <table className="catalog-table">
+            <thead>
+              <tr>
+                <th onClick={() => setSortBy('name')}>
+                  Name {sortBy === 'name' && '‚Üì'}
+                </th>
+                <th>Type</th>
+                <th onClick={() => setSortBy('timestamp')}>
+                  Timestamp {sortBy === 'timestamp' && '‚Üì'}
+                </th>
+                <th>Actions</th>
+              </tr>
+            </thead>
+            <tbody>
+              {sortedItems.map(item => (
+                <tr key={item.id}>
+                  <td onClick={() => handleSelectItem(item)} className="item-name">
+                    {item.name}
+                  </td>
+                  <td>
+                    {item.contentType?.mimeType 
+                      ? getSimpleContentType(item.contentType.mimeType) || item.contentType.mimeType 
+                      : 'Unknown'}
+                  </td>
+                  <td>{new Date(item.timestamp).toLocaleString()}</td>
+                  <td className="item-actions">
+                    <button 
+                      className="btn btn-small btn-info"
+                      onClick={() => handleSelectItem(item)}
+                    >
+                      View
+                    </button>
+                    <button 
+                      className="btn btn-small btn-danger"
+                      onClick={() => handleDeleteItem(item.id)}
+                    >
+                      Delete
+                    </button>
+                  </td>
+                </tr>
+              ))}
+            </tbody>
+          </table>
+        </div>
+        
+        {/* Pagination */}
+        {paginationInfo.totalPages > 1 && (
+          <div className="pagination-controls">
+            <button 
+              className="btn btn-pagination" 
+              disabled={paginationInfo.currentPage <= 1}
+              onClick={() => handlePageChange(paginationInfo.currentPage - 1)}
+            >
+              Previous
+            </button>
+            <span className="pagination-info">
+              Page {paginationInfo.currentPage} of {paginationInfo.totalPages}
+              {paginationInfo.totalItems && ` (${paginationInfo.totalItems} total items)`}
+            </span>
+            <button 
+              className="btn btn-pagination" 
+              disabled={paginationInfo.currentPage >= paginationInfo.totalPages}
+              onClick={() => handlePageChange(paginationInfo.currentPage + 1)}
+            >
+              Next
+            </button>
+          </div>
+        )}
+      </>
+    );
+  };
+
+  // Render grid view
+  const renderGridView = () => {
+    if (loading || searchLoading) {
+      return <div className="loading-indicator">Loading items...</div>;
+    }
+
+    if (error) {
+      return <div className="error-message">Error: {error}</div>;
+    }
+
+    if (searchError) {
+      return <div className="error-message">Search error: {searchError}</div>;
+    }
+
+    if (sortedItems.length === 0) {
+      return (
+        <div className="empty-state">
+          {isSearchMode 
+            ? <p>No results found for "{searchResults.searchTerm}"</p>
+            : <p>No items available. Add your first item to get started.</p>
+          }
+        </div>
+      );
+    }
+
+    return (
+      <>
+        <div className="catalog-grid-view">
+          {sortedItems.map(item => (
+            <div 
+              key={item.id} 
+              className="catalog-card"
+              onClick={() => handleSelectItem(item)}
+            >
+              <div className="catalog-card-image">
+                {getCardThumbnail(item)}
+              </div>
+              <div className="catalog-card-content">
+                <h3>{item.name}</h3>
+                <p className="catalog-card-category">
+                  {item.contentType?.mimeType 
+                    ? getSimpleContentType(item.contentType.mimeType) || item.contentType.mimeType 
+                    : 'Unknown'}
+                </p>
+                <p className="catalog-timestamp">{new Date(item.timestamp).toLocaleString()}</p>
+              </div>
+            </div>
+          ))}
+        </div>
+        
+        {/* Pagination */}
+        {paginationInfo.totalPages > 1 && (
+          <div className="pagination-controls">
+            <button 
+              className="btn btn-pagination" 
+              disabled={paginationInfo.currentPage <= 1}
+              onClick={() => handlePageChange(paginationInfo.currentPage - 1)}
+            >
+              Previous
+            </button>
+            <span className="pagination-info">
+              Page {paginationInfo.currentPage} of {paginationInfo.totalPages}
+              {paginationInfo.totalItems && ` (${paginationInfo.totalItems} total items)`}
+            </span>
+            <button 
+              className="btn btn-pagination" 
+              disabled={paginationInfo.currentPage >= paginationInfo.totalPages}
+              onClick={() => handlePageChange(paginationInfo.currentPage + 1)}
+            >
+              Next
+            </button>
+          </div>
+        )}
+      </>
+    );
+  };
+
+  // Render detail view
+  const renderDetailView = () => {
+    if (itemLoading) {
+      return <div className="loading-indicator">Loading item details...</div>;
+    }
+
+    if (itemError) {
+      return <div className="error-message">Error: {itemError}</div>;
+    }
+
+    if (!selectedItem) {
+      return <div className="error-message">Item not found</div>;
+    }
+    
+    // Determine content display method based on content type
+    const renderContent = () => {
+      // If content is not loaded yet
+      if (!selectedItem.content) {
+        return <div className="content-placeholder">Content not available</div>;
+      }
+      
+      const content = selectedItem.content;
+      const contentType = selectedItem.contentType?.mimeType || 'text/plain';
+      const simpleType = getSimpleContentType(contentType);
+      
+      // Handle string content directly
+      if (typeof content === 'string') {
+        // JSON formatting
+        if (simpleType === 'json') {
+          try {
+            const json = JSON.parse(content);
+            return (
+              <pre className="content-json">
+                {JSON.stringify(json, null, 2)}
+              </pre>
+            );
+          } catch (e) {
+            // If parsing fails, display as plain text
+            console.error("Failed to parse JSON:", e);
+          }
+        }
+        
+        // HTML content
+        if (simpleType === 'html') {
+          return (
+            <div className="html-content">
+              <div dangerouslySetInnerHTML={{ __html: content }} />
+            </div>
+          );
+        }
+        
+        // Default text display
+        return (
+          <pre className="content-text">
+            {content}
+          </pre>
+        );
+      }
+      
+      // Handle base64 object format from the API
+      if (typeof content === 'object' && content !== null) {
+        // String data inside an object wrapper
+        if (content.type === 'string' && content.data) {
+          return (
+            <pre className="content-text">
+              {content.data}
+            </pre>
+          );
+        }
+        
+        // Base64 encoded content
+        if (content.type === 'base64' && content.data) {
+          const mimeType = content.originalType || contentType;
+          const simpleMimeType = getSimpleContentType(mimeType);
+          
+          // Images
+          if (mimeType.startsWith('image/')) {
+            return (
+              <img 
+                src={`data:${mimeType};base64,${content.data}`} 
+                alt={selectedItem.name}
+                className="content-image"
+              />
+            );
+          }
+          
+          // Audio
+          if (mimeType.startsWith('audio/')) {
+            return (
+              <audio controls className="content-audio">
+                <source src={`data:${mimeType};base64,${content.data}`} type={mimeType} />
+                Your browser does not support the audio element.
+              </audio>
+            );
+          }
+          
+          // Video
+          if (mimeType.startsWith('video/')) {
+            return (
+              <video controls className="content-video">
+                <source src={`data:${mimeType};base64,${content.data}`} type={mimeType} />
+                Your browser does not support the video element.
+              </video>
+            );
+          }
+          
+          // PDF
+          if (mimeType === 'application/pdf') {
+            return (
+              <div className="pdf-container">
+                <iframe 
+                  src={`data:${mimeType};base64,${content.data}`} 
+                  className="pdf-frame"
+                  title="PDF Document"
+                />
+              </div>
+            );
+          }
+          
+          // Binary file (download link)
+          return (
+            <div className="binary-content">
+              <p>Binary content: {mimeType || 'unknown type'}</p>
+              <p>Detection method: {content.detectionMethod || 'unknown'}</p>
+              <a 
+                href={`data:${mimeType};base64,${content.data}`}
+                download={selectedItem.name || 'download'}
+                className="btn btn-primary"
+              >
+                Download File
+              </a>
+            </div>
+          );
+        }
+        
+        // Buffer format
+        if (content.type === 'Buffer' && Array.isArray(content.data)) {
+          return (
+            <div className="binary-content">
+              <p>Binary Buffer Data</p>
+              <p>Size: {content.data.length} bytes</p>
+              <p>(Buffer preview not available)</p>
+            </div>
+          );
+        }
+      }
+      
+      // Fallback for unknown content
+      return (
+        <div className="content-unknown">
+          <p>Content preview not available</p>
+          <p>Content type: {contentType || 'unknown'}</p>
+          <pre className="content-debug">
+            {JSON.stringify(content, null, 2)}
+          </pre>
+        </div>
+      );
+    };
+    
+    return (
+      <div className="catalog-detail-view">
+        <div className="catalog-detail-header">
+          <button 
+            className="btn btn-back"
+            onClick={() => setViewMode('list')}
+          >
+            Back
+          </button>
+          <h2>{selectedItem.name}</h2>
+        </div>
+        
+        <div className="catalog-detail-content">
+          <div className="catalog-detail-info">
+            <div className="info-section">
+              <p><strong>ID:</strong> {selectedItem.id}</p>
+              <p><strong>Type:</strong> {
+                selectedItem.contentType?.mimeType 
+                  ? `${getSimpleContentType(selectedItem.contentType.mimeType) || selectedItem.contentType.mimeType} (${selectedItem.contentType.mimeType})` 
+                  : 'Unknown'
+              }</p>
+              <p><strong>Created:</strong> {new Date(selectedItem.timestamp).toLocaleString()}</p>
+              <p><strong>Description:</strong></p>
+              <div className="catalog-description">{selectedItem.description}</div>
+            </div>
+            
+            <div className="content-section">
+              <h3>Content</h3>
+              <div className="content-container">
+                {renderContent()}
+              </div>
+            </div>
+            
+            <div className="catalog-detail-actions">
+              <button 
+                className="btn btn-danger"
+                onClick={() => handleDeleteItem(selectedItem.id)}
+              >
+                Delete
+              </button>
+            </div>
+          </div>
+        </div>
+      </div>
+    );
+  };
+
+  // Panel header with search and controls
+  const renderHeader = () => (
+    <>
+      <div className="panel-header">
+        <h2>Card Catalog</h2>
+        <div className="panel-controls">
+          <div className="view-toggles">
+            <button
+              className={`btn-toggle ${viewMode === 'list' ? 'active' : ''}`}
+              onClick={() => setViewMode('list')}
+            >
+              List
+            </button>
+            <button
+              className={`btn-toggle ${viewMode === 'grid' ? 'active' : ''}`}
+              onClick={() => setViewMode('grid')}
+            >
+              Grid
+            </button>
+          </div>
+          {['list', 'grid'].includes(viewMode) && (
+            <button
+              className="btn btn-primary"
+              onClick={() => setViewMode('add')}
+            >
+              Add New Item
+            </button>
+          )}
+        </div>
+      </div>
+      
+      {['list', 'grid'].includes(viewMode) && (
+        <div className="catalog-controls">
+          <form className="search-container" onSubmit={handleSearchSubmit}>
+            <input
+              type="text"
+              className="search-input"
+              placeholder="Search content..."
+              value={searchTerm}
+              onChange={(e) => setSearchTerm(e.target.value)}
+            />
+            <button type="submit" className="btn btn-info search-button">
+              Search
+            </button>
+            {isSearchMode && (
+              <button
+                type="button"
+                className="btn btn-secondary search-button"
+                onClick={handleClearSearch}
+              >
+                Clear
+              </button>
+            )}
+          </form>
+          
+          {!isSearchMode && (
+            <select 
+              className="filter-select"
+              value={filter}
+              onChange={(e) => setFilter(e.target.value)}
+            >
+              {categories.map(category => (
+                <option key={category} value={category}>
+                  {category === 'all' ? 'All Types' : category}
+                </option>
+              ))}
+            </select>
+          )}
+        </div>
+      )}
+      
+      {isSearchMode && searchResults.searchTerm && (
+        <div className="search-status">
+          Showing results for "{searchResults.searchTerm}" ({searchResults.totalItems || 0} items found)
+        </div>
+      )}
+    </>
+  );
+
+  // Render form for adding new content
+  const renderAddForm = () => {
+    return (
+      <form onSubmit={handleAddItem} className="catalog-form">
+        <div className="form-group">
+          <label htmlFor="name">Name</label>
+          <input
+            type="text"
+            id="name"
+            name="name"
+            value={newItem.name}
+            onChange={handleInputChange}
+            placeholder="Item name (optional for text content)"
+          />
+        </div>
+        
+        <div className="form-group">
+          <label htmlFor="file">Upload File (optional)</label>
+          <input
+            type="file"
+            id="file"
+            onChange={handleFileChange}
+          />
+        </div>
+        
+        <div className="form-group">
+          <label htmlFor="description">Text Content (if not uploading a file)</label>
+          <textarea
+            id="description"
+            name="description"
+            value={newItem.description}
+            onChange={handleInputChange}
+            rows="6"
+            placeholder="Enter text content here"
+            disabled={!!newItem.file}
+          />
+        </div>
+        
+        <div className="form-actions">
+          <button type="submit" className="btn btn-primary">
+            Add Item
+          </button>
+          <button 
+            type="button" 
+            className="btn btn-secondary" 
+            onClick={() => setViewMode('list')}
+          >
+            Cancel
+          </button>
+        </div>
+      </form>
+    );
+  };
+
+  return (
+    <div className="catalog-panel">
+      {renderHeader()}
+      
+      {viewMode === 'list' && renderListView()}
+      {viewMode === 'grid' && renderGridView()}
+      {viewMode === 'detail' && renderDetailView()}
+      {viewMode === 'add' && renderAddForm()}
+    </div>
+  );
+};
+
+export default CatalogPanel;
diff --git a/src/components/panels/Sidebar.astro b/src/components/panels/Sidebar.astro
index 27f77d3..036a1cc 100644
--- a/src/components/panels/Sidebar.astro
+++ b/src/components/panels/Sidebar.astro
@@ -1,6 +1,6 @@
 ---
 import { cn } from '../../lib/utils';
-import { FaCode, FaTerminal, FaCog, FaCube, FaFile, FaMicrophone, FaBrain, FaYoutube, FaCamera } from 'react-icons/fa';
+import { FaCode, FaTerminal, FaCog, FaCube, FaFile, FaMicrophone, FaBrain, FaYoutube, FaCamera, FaBook } from 'react-icons/fa';
 import { store } from '../../store';
 import { changeLayout } from '../../features/panellayoutSlice';
 
@@ -85,6 +85,16 @@ const { class: className, ...props } = Astro.props;
           Camera
         </span>
       </button>
+      <button
+        id="catalogLayoutBtn"
+        title="Catalog Manager"
+        class="flex items-center justify-center w-12 h-12 hover:bg-muted-foreground/10 transition-colors group relative"
+      >
+        <FaBook className="text-lg text-muted-foreground group-hover:text-primary transition-colors" />
+        <span class="absolute left-full ml-2 bg-neutral-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
+          Catalog Manager
+        </span>
+      </button>
       <button
         id="transcriptionLayoutBtn"
         title="AI Training Data"
@@ -116,6 +126,7 @@ const { class: className, ...props } = Astro.props;
   const mqttDashboardLayoutBtn = document.getElementById('mqttDashboardLayoutBtn');
   const youtubeLayoutBtn = document.getElementById('youtubeLayoutBtn');
   const cameraLayoutBtn = document.getElementById('cameraLayoutBtn');
+  const catalogLayoutBtn = document.getElementById('catalogLayoutBtn');
   const transcriptionLayoutBtn = document.getElementById('transcriptionLayoutBtn');
 
   // Add click handlers
@@ -147,6 +158,10 @@ const { class: className, ...props } = Astro.props;
     store.dispatch(changeLayout('camera_layout'));
   });
 
+  catalogLayoutBtn?.addEventListener('click', () => {
+    store.dispatch(changeLayout('catalog_layout'));
+  });
+
   transcriptionLayoutBtn?.addEventListener('click', () => {
     store.dispatch(changeLayout('transcription_layout'));
   });
@@ -161,6 +176,7 @@ const { class: className, ...props } = Astro.props;
     mqttDashboardLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
     youtubeLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
     cameraLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
+    catalogLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
     transcriptionLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
 
     // Reset icon colors
@@ -171,6 +187,7 @@ const { class: className, ...props } = Astro.props;
     mqttDashboardLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
     youtubeLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
     cameraLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
+    catalogLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
     transcriptionLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
 
     // Add active styles to the selected button
@@ -195,30 +212,26 @@ const { class: className, ...props } = Astro.props;
     } else if (layout === 'camera_layout') {
       cameraLayoutBtn?.classList.add('border-l-2', 'border-primary', 'bg-muted');
       cameraLayoutBtn?.querySelector('.text-muted-foreground')?.classList.replace('text-muted-foreground', 'text-primary');
+    } else if (layout === 'catalog_layout') {
+      catalogLayoutBtn?.classList.add('border-l-2', 'border-primary', 'bg-muted');
+      catalogLayoutBtn?.querySelector('.text-muted-foreground')?.classList.replace('text-muted-foreground', 'text-primary');
     } else if (layout === 'transcription_layout') {
       transcriptionLayoutBtn?.classList.add('border-l-2', 'border-primary', 'bg-muted');
       transcriptionLayoutBtn?.querySelector('.text-muted-foreground')?.classList.replace('text-muted-foreground', 'text-primary');
     }
   }
 
-  // Function to determine current layout from state
-  const updateLayoutFromState = (state: any) => {
-    const panels = state.panellayout.panels || { right: { type: 'TodoPanel' } };
-    if (panels.right.type === 'GeneratePanel') return 'generate_layout';
-    if (panels.right.type === 'CLMInputPanel') return 'clm_layout';
-    if (panels.middle?.type === 'CLMInputPanel' && panels.right?.type === 'ContentDetailPanel') return 'file_table_layout';
-    if (panels.middle?.type === 'SimpleMQTTDashboardPanel') return 'mqtt_dashboard_layout';
-    if (panels.middle?.type === 'YouTubePanel') return 'youtube_layout';
-    if (panels.right.type === 'TranscriptionPanel') return 'transcription_layout';
-    if (panels.right.type === 'CameraPanel') return 'camera_layout';
-    return 'todo_layout';
-  };
-
-  // Initialize button state based on current layout
-  updateActiveButton(updateLayoutFromState(store.getState()));
-
-  // Subscribe to store changes to update button states
+  // Listen for store changes to update active button
   store.subscribe(() => {
-    updateActiveButton(updateLayoutFromState(store.getState()));
+    const state = store.getState();
+    if (state.panellayout) {
+      updateActiveButton(state.panellayout.selectedLayout);
+    }
   });
+
+  // Initialize with current state
+  const initialState = store.getState();
+  if (initialState.panellayout) {
+    updateActiveButton(initialState.panellayout.selectedLayout);
+  }
 </script>
diff --git a/src/components/panels/WeatherPanel.jsx b/src/components/panels/WeatherPanel.jsx
new file mode 100644
index 0000000..ee9ba84
--- /dev/null
+++ b/src/components/panels/WeatherPanel.jsx
@@ -0,0 +1,548 @@
+import React, { useState, useEffect } from 'react';
+
+const WeatherPanel = () => {
+  const [weather, setWeather] = useState(null);
+  const [forecast, setForecast] = useState(null);
+  const [isLoading, setIsLoading] = useState(false);
+  const [error, setError] = useState(null);
+  const [locationInput, setLocationInput] = useState('');
+  const [location, setLocation] = useState(null);
+  const [units, setUnits] = useState('metric'); // metric or imperial
+  
+  // Weather icons mapping
+  const weatherIcons = {
+    'clear-day': '‚òÄÔ∏è',
+    'clear-night': 'üåô',
+    'partly-cloudy-day': '‚õÖ',
+    'partly-cloudy-night': '‚òÅÔ∏è',
+    'cloudy': '‚òÅÔ∏è',
+    'rain': 'üåßÔ∏è',
+    'showers-day': 'üå¶Ô∏è',
+    'showers-night': 'üåßÔ∏è',
+    'thunder-rain': '‚õàÔ∏è',
+    'thunder-showers-day': '‚õàÔ∏è',
+    'thunder-showers-night': '‚õàÔ∏è',
+    'snow': '‚ùÑÔ∏è',
+    'fog': 'üå´Ô∏è',
+    'wind': 'üí®',
+    'default': 'üå°Ô∏è'
+  };
+  
+  const unitSymbols = {
+    'metric': {
+      temp: '¬∞C',
+      speed: 'km/h'
+    },
+    'imperial': {
+      temp: '¬∞F',
+      speed: 'mph'
+    }
+  };
+  
+  // Simulated weather data for cities
+  const simulatedCityData = {
+    'New York': {
+      name: 'New York',
+      country: 'USA',
+      current: {
+        temp: units === 'metric' ? 18 : 64,
+        feelslike: units === 'metric' ? 16 : 61,
+        humidity: 65,
+        windspeed: units === 'metric' ? 15 : 9.3,
+        conditions: 'Partly cloudy',
+        icon: 'partly-cloudy-day',
+        pressure: 1012,
+        visibility: 10,
+        uvindex: 4,
+        sunrise: new Date().setHours(6, 30),
+        sunset: new Date().setHours(19, 45),
+        tempmin: units === 'metric' ? 12 : 54,
+        tempmax: units === 'metric' ? 21 : 70
+      },
+      forecast: [
+        {
+          datetime: new Date(Date.now() + 86400000),
+          temp: units === 'metric' ? 19 : 66,
+          tempmin: units === 'metric' ? 13 : 55,
+          tempmax: units === 'metric' ? 22 : 72,
+          conditions: 'Sunny',
+          icon: 'clear-day',
+          precipprob: 10
+        },
+        {
+          datetime: new Date(Date.now() + 172800000),
+          temp: units === 'metric' ? 17 : 63,
+          tempmin: units === 'metric' ? 12 : 54,
+          tempmax: units === 'metric' ? 20 : 68,
+          conditions: 'Partly cloudy',
+          icon: 'partly-cloudy-day',
+          precipprob: 20
+        },
+        {
+          datetime: new Date(Date.now() + 259200000),
+          temp: units === 'metric' ? 15 : 59,
+          tempmin: units === 'metric' ? 11 : 52,
+          tempmax: units === 'metric' ? 18 : 64,
+          conditions: 'Rain',
+          icon: 'rain',
+          precipprob: 80
+        },
+        {
+          datetime: new Date(Date.now() + 345600000),
+          temp: units === 'metric' ? 14 : 57,
+          tempmin: units === 'metric' ? 10 : 50,
+          tempmax: units === 'metric' ? 16 : 61,
+          conditions: 'Showers',
+          icon: 'showers-day',
+          precipprob: 60
+        },
+        {
+          datetime: new Date(Date.now() + 432000000),
+          temp: units === 'metric' ? 16 : 61,
+          tempmin: units === 'metric' ? 12 : 54,
+          tempmax: units === 'metric' ? 19 : 66,
+          conditions: 'Partly cloudy',
+          icon: 'partly-cloudy-day',
+          precipprob: 30
+        }
+      ]
+    },
+    'London': {
+      name: 'London',
+      country: 'UK',
+      current: {
+        temp: units === 'metric' ? 14 : 57,
+        feelslike: units === 'metric' ? 12 : 54,
+        humidity: 78,
+        windspeed: units === 'metric' ? 18 : 11.2,
+        conditions: 'Rain',
+        icon: 'rain',
+        pressure: 1008,
+        visibility: 8,
+        uvindex: 2,
+        sunrise: new Date().setHours(6, 15),
+        sunset: new Date().setHours(19, 30),
+        tempmin: units === 'metric' ? 10 : 50,
+        tempmax: units === 'metric' ? 16 : 61
+      },
+      forecast: [
+        {
+          datetime: new Date(Date.now() + 86400000),
+          temp: units === 'metric' ? 13 : 55,
+          tempmin: units === 'metric' ? 9 : 48,
+          tempmax: units === 'metric' ? 15 : 59,
+          conditions: 'Showers',
+          icon: 'showers-day',
+          precipprob: 70
+        },
+        {
+          datetime: new Date(Date.now() + 172800000),
+          temp: units === 'metric' ? 15 : 59,
+          tempmin: units === 'metric' ? 11 : 52,
+          tempmax: units === 'metric' ? 17 : 63,
+          conditions: 'Partly cloudy',
+          icon: 'partly-cloudy-day',
+          precipprob: 30
+        },
+        {
+          datetime: new Date(Date.now() + 259200000),
+          temp: units === 'metric' ? 16 : 61,
+          tempmin: units === 'metric' ? 12 : 54,
+          tempmax: units === 'metric' ? 18 : 64,
+          conditions: 'Cloudy',
+          icon: 'cloudy',
+          precipprob: 20
+        },
+        {
+          datetime: new Date(Date.now() + 345600000),
+          temp: units === 'metric' ? 14 : 57,
+          tempmin: units === 'metric' ? 10 : 50,
+          tempmax: units === 'metric' ? 16 : 61,
+          conditions: 'Rain',
+          icon: 'rain',
+          precipprob: 80
+        },
+        {
+          datetime: new Date(Date.now() + 432000000),
+          temp: units === 'metric' ? 13 : 55,
+          tempmin: units === 'metric' ? 9 : 48,
+          tempmax: units === 'metric' ? 15 : 59,
+          conditions: 'Showers',
+          icon: 'showers-day',
+          precipprob: 60
+        }
+      ]
+    },
+    'Tokyo': {
+      name: 'Tokyo',
+      country: 'Japan',
+      current: {
+        temp: units === 'metric' ? 22 : 72,
+        feelslike: units === 'metric' ? 23 : 73,
+        humidity: 60,
+        windspeed: units === 'metric' ? 12 : 7.5,
+        conditions: 'Clear',
+        icon: 'clear-day',
+        pressure: 1015,
+        visibility: 10,
+        uvindex: 7,
+        sunrise: new Date().setHours(5, 45),
+        sunset: new Date().setHours(18, 15),
+        tempmin: units === 'metric' ? 18 : 64,
+        tempmax: units === 'metric' ? 25 : 77
+      },
+      forecast: [
+        {
+          datetime: new Date(Date.now() + 86400000),
+          temp: units === 'metric' ? 24 : 75,
+          tempmin: units === 'metric' ? 19 : 66,
+          tempmax: units === 'metric' ? 26 : 79,
+          conditions: 'Sunny',
+          icon: 'clear-day',
+          precipprob: 0
+        },
+        {
+          datetime: new Date(Date.now() + 172800000),
+          temp: units === 'metric' ? 25 : 77,
+          tempmin: units === 'metric' ? 20 : 68,
+          tempmax: units === 'metric' ? 27 : 81,
+          conditions: 'Partly cloudy',
+          icon: 'partly-cloudy-day',
+          precipprob: 10
+        },
+        {
+          datetime: new Date(Date.now() + 259200000),
+          temp: units === 'metric' ? 23 : 73,
+          tempmin: units === 'metric' ? 18 : 64,
+          tempmax: units === 'metric' ? 25 : 77,
+          conditions: 'Rain',
+          icon: 'rain',
+          precipprob: 60
+        },
+        {
+          datetime: new Date(Date.now() + 345600000),
+          temp: units === 'metric' ? 21 : 70,
+          tempmin: units === 'metric' ? 17 : 63,
+          tempmax: units === 'metric' ? 23 : 73,
+          conditions: 'Cloudy',
+          icon: 'cloudy',
+          precipprob: 30
+        },
+        {
+          datetime: new Date(Date.now() + 432000000),
+          temp: units === 'metric' ? 22 : 72,
+          tempmin: units === 'metric' ? 18 : 64,
+          tempmax: units === 'metric' ? 24 : 75,
+          conditions: 'Sunny',
+          icon: 'clear-day',
+          precipprob: 10
+        }
+      ]
+    }
+  };
+  
+  // Function to get weather data by city name
+  const getWeatherByCity = (city) => {
+    if (!city) return;
+    
+    setIsLoading(true);
+    setError(null);
+    
+    // Simulate API call with timeout
+    setTimeout(() => {
+      // Check if city exists in our simulated data
+      const cityData = simulatedCityData[city];
+      
+      if (cityData) {
+        setLocation({
+          name: cityData.name,
+          country: cityData.country
+        });
+        
+        setWeather(cityData.current);
+        setForecast(cityData.forecast);
+      } else {
+        // If city not found, show error and default to New York
+        setError(`City "${city}" not found. Try New York, London, or Tokyo.`);
+        
+        const defaultCity = simulatedCityData['New York'];
+        setLocation({
+          name: defaultCity.name,
+          country: defaultCity.country
+        });
+        
+        setWeather(defaultCity.current);
+        setForecast(defaultCity.forecast);
+      }
+      
+      setIsLoading(false);
+    }, 800); // Simulate network delay
+  };
+  
+  // Function to get weather by current location
+  const getWeatherByLocation = () => {
+    setIsLoading(true);
+    setError(null);
+    
+    // Simulate geolocation API with timeout
+    setTimeout(() => {
+      // Always return New York as the "detected" location
+      const cityData = simulatedCityData['New York'];
+      
+      setLocation({
+        name: cityData.name,
+        country: cityData.country
+      });
+      
+      setWeather(cityData.current);
+      setForecast(cityData.forecast);
+      
+      setIsLoading(false);
+    }, 1200); // Simulate geolocation + network delay
+  };
+  
+  // Handle form submit
+  const handleSubmit = (e) => {
+    e.preventDefault();
+    
+    if (!locationInput.trim()) return;
+    
+    // Check if city name is in our simulated data (case insensitive)
+    const cityKeys = Object.keys(simulatedCityData);
+    const matchedCity = cityKeys.find(city => 
+      city.toLowerCase() === locationInput.toLowerCase()
+    );
+    
+    if (matchedCity) {
+      getWeatherByCity(matchedCity);
+    } else {
+      // Handle partial matches
+      const partialMatch = cityKeys.find(city =>
+        city.toLowerCase().includes(locationInput.toLowerCase())
+      );
+      
+      if (partialMatch) {
+        getWeatherByCity(partialMatch);
+      } else {
+        // If no match, default to New York with error message
+        setError(`City "${locationInput}" not found. Try New York, London, or Tokyo.`);
+        getWeatherByCity('New York');
+      }
+    }
+  };
+  
+  // Toggle units between metric and imperial
+  const toggleUnits = () => {
+    const newUnits = units === 'metric' ? 'imperial' : 'metric';
+    setUnits(newUnits);
+    
+    // Refresh weather data with new units if we have location
+    if (location) {
+      getWeatherByCity(location.name);
+    }
+  };
+  
+  // Get day name from date
+  const getDayName = (date) => {
+    const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
+    return days[date.getDay()];
+  };
+  
+  // Format date to readable string
+  const formatDate = (date) => {
+    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
+  };
+  
+  // Format time to readable string
+  const formatTime = (date) => {
+    return new Date(date).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });
+  };
+  
+  // Get background color based on temperature
+  const getTemperatureColor = (temp) => {
+    if (units === 'metric') {
+      if (temp < 0) return 'bg-blue-800';
+      if (temp < 10) return 'bg-blue-600';
+      if (temp < 20) return 'bg-green-600';
+      if (temp < 30) return 'bg-yellow-600';
+      return 'bg-red-600';
+    } else {
+      if (temp < 32) return 'bg-blue-800';
+      if (temp < 50) return 'bg-blue-600';
+      if (temp < 68) return 'bg-green-600';
+      if (temp < 86) return 'bg-yellow-600';
+      return 'bg-red-600';
+    }
+  };
+
+  // Set default city on component mount
+  useEffect(() => {
+    getWeatherByCity('New York');
+  }, []);
+  
+  return (
+    <div className="h-full flex flex-col bg-gray-900 p-4 rounded-lg overflow-hidden text-white">
+      <div className="mb-4">
+        <h2 className="text-xl font-semibold mb-3">Weather Information</h2>
+        
+        <form onSubmit={handleSubmit} className="flex gap-2 mb-4">
+          <input
+            type="text"
+            placeholder="Try: New York, London, Tokyo"
+            className="flex-grow px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white"
+            value={locationInput}
+            onChange={(e) => setLocationInput(e.target.value)}
+          />
+          <button
+            type="submit"
+            className="px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-md"
+            disabled={isLoading}
+          >
+            Search
+          </button>
+          <button
+            type="button"
+            onClick={getWeatherByLocation}
+            className="px-3 py-2 bg-green-600 hover:bg-green-500 rounded-md text-white"
+            disabled={isLoading}
+          >
+            üìç Current
+          </button>
+        </form>
+        
+        <div className="flex justify-between items-center">
+          <div>
+            {location && (
+              <h3 className="text-lg font-medium">{location.name}, {location.country}</h3>
+            )}
+          </div>
+          <button
+            onClick={toggleUnits}
+            className="px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm"
+          >
+            {units === 'metric' ? 'Switch to ¬∞F' : 'Switch to ¬∞C'}
+          </button>
+        </div>
+      </div>
+      
+      {error && (
+        <div className="mb-4 p-3 bg-red-900/50 rounded-md">
+          <p>{error}</p>
+        </div>
+      )}
+      
+      {isLoading && (
+        <div className="flex-grow flex items-center justify-center">
+          <div className="text-center">
+            <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto mb-4"></div>
+            <p>Loading weather data...</p>
+          </div>
+        </div>
+      )}
+      
+      {!isLoading && weather && (
+        <div className="flex-grow flex flex-col">
+          {/* Current weather */}
+          <div className="bg-gray-800 rounded-lg p-4 mb-4">
+            <div className="flex items-center justify-between">
+              <div>
+                <div className="flex items-center">
+                  <span className="text-5xl mr-3">
+                    {weatherIcons[weather.icon] || weatherIcons.default}
+                  </span>
+                  <div>
+                    <h3 className="text-2xl font-bold">
+                      {Math.round(weather.temp)}{unitSymbols[units].temp}
+                    </h3>
+                    <p className="capitalize">{weather.conditions}</p>
+                  </div>
+                </div>
+              </div>
+              
+              <div className="text-right">
+                <p>Feels like: {Math.round(weather.feelslike)}{unitSymbols[units].temp}</p>
+                <p>Humidity: {Math.round(weather.humidity)}%</p>
+                <p>Wind: {Math.round(weather.windspeed)} {unitSymbols[units].speed}</p>
+              </div>
+            </div>
+            
+            <div className="mt-3 pt-3 border-t border-gray-700 grid grid-cols-3 gap-2 text-center">
+              <div>
+                <p className="text-gray-400">Min</p>
+                <p>{Math.round(weather.tempmin)}{unitSymbols[units].temp}</p>
+              </div>
+              <div>
+                <p className="text-gray-400">Max</p>
+                <p>{Math.round(weather.tempmax)}{unitSymbols[units].temp}</p>
+              </div>
+              <div>
+                <p className="text-gray-400">UV Index</p>
+                <p>{weather.uvindex}</p>
+              </div>
+            </div>
+            
+            <div className="mt-3 pt-3 border-t border-gray-700 grid grid-cols-2 gap-2 text-sm">
+              <div>
+                <p className="text-gray-400">Sunrise</p>
+                <p>{formatTime(weather.sunrise)}</p>
+              </div>
+              <div>
+                <p className="text-gray-400">Sunset</p>
+                <p>{formatTime(weather.sunset)}</p>
+              </div>
+            </div>
+          </div>
+          
+          {/* 5-day forecast */}
+          {forecast && (
+            <div className="bg-gray-800 rounded-lg p-4 overflow-auto">
+              <h3 className="font-medium mb-3">5-Day Forecast</h3>
+              <div className="grid grid-cols-5 gap-2">
+                {forecast.map((day, index) => (
+                  <div 
+                    key={index} 
+                    className="bg-gray-700 rounded-md p-2 text-center"
+                  >
+                    <p className="text-sm font-medium">{getDayName(day.datetime)}</p>
+                    <p className="text-xs text-gray-400">{formatDate(day.datetime)}</p>
+                    <div className="text-2xl my-1">
+                      {weatherIcons[day.icon] || weatherIcons.default}
+                    </div>
+                    <div 
+                      className={`text-sm font-bold rounded-full px-2 py-1 ${getTemperatureColor(day.temp)}`}
+                    >
+                      {Math.round(day.temp)}{unitSymbols[units].temp}
+                    </div>
+                    <p className="text-xs mt-1 capitalize">{day.conditions}</p>
+                    {day.precipprob > 0 && (
+                      <p className="text-xs text-blue-300">
+                        {Math.round(day.precipprob)}% üíß
+                      </p>
+                    )}
+                  </div>
+                ))}
+              </div>
+            </div>
+          )}
+        </div>
+      )}
+      
+      {!isLoading && !weather && !error && (
+        <div className="flex-grow flex items-center justify-center">
+          <div className="text-center">
+            <div className="text-5xl mb-4">üå§Ô∏è</div>
+            <p>Enter a city name or use your current location</p>
+            <p className="text-sm text-gray-400 mt-2">to get weather information</p>
+          </div>
+        </div>
+      )}
+      
+      <div className="mt-2 text-xs text-gray-400 text-center">
+        <p>‚ö†Ô∏è Simulated weather data - no API calls</p>
+        <p>Available cities: New York, London, Tokyo</p>
+      </div>
+    </div>
+  );
+};
+
+export default WeatherPanel;
diff --git a/src/config/panelRegistry.ts b/src/config/panelRegistry.ts
index b0cf225..79778ce 100644
--- a/src/config/panelRegistry.ts
+++ b/src/config/panelRegistry.ts
@@ -7,6 +7,7 @@ import YouTubePanel from '../components/panels/YouTubePanel.jsx';
 import CalculatorPanel from '../components/panels/CalculatorPanel';
 import CameraPanel from '../components/panels/CameraPanel';
 import LocationPanel from '../components/panels/LocationPanel';
+import WeatherPanel from '../components/panels/WeatherPanel';
 
 export interface PanelConfig {
   component: ComponentType;
@@ -47,3 +48,4 @@ registerPanel('YouTubePanel', YouTubePanel);
 registerPanel('CalculatorPanel', CalculatorPanel);
 registerPanel('CameraPanel', CameraPanel);
 registerPanel('LocationPanel', LocationPanel);
+registerPanel('WeatherPanel', WeatherPanel);
diff --git a/src/features/catalogSlice.js b/src/features/catalogSlice.js
new file mode 100644
index 0000000..425019c
--- /dev/null
+++ b/src/features/catalogSlice.js
@@ -0,0 +1,350 @@
+import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';
+
+// Async thunk for fetching catalog items (cards)
+export const fetchCatalogItems = createAsyncThunk(
+  'catalog/fetchItems',
+  async (pageParams = { pageNumber: 1, pageSize: 20 }, { rejectWithValue }) => {
+    try {
+      // Get page of cards from API
+      const url = `/api/card-collection?action=getPage&pageNumber=${pageParams.pageNumber}&pageSize=${pageParams.pageSize}`;
+      const response = await fetch(url);
+      const data = await response.json();
+      
+      if (!data.success) {
+        return rejectWithValue(data.error || 'Failed to fetch cards');
+      }
+      
+      // Transform cards into catalog items
+      return {
+        items: data.cards.map(card => ({
+          id: card.hash,
+          name: card.hash.substring(0, 8), // Use first 8 chars of hash as name
+          category: card.contentType?.mimeType || 'Unknown',
+          description: 'Card content hash: ' + card.hash,
+          timestamp: card.timestamp || new Date().toISOString(),
+          hash: card.hash,
+          contentType: card.contentType,
+          metaData: card.metaData || {}
+        })),
+        totalItems: data.totalCards,
+        totalPages: data.totalPages,
+        currentPage: data.currentPage
+      };
+    } catch (error) {
+      console.error('Error fetching catalog items:', error);
+      return rejectWithValue('Failed to fetch catalog items. Please try again.');
+    }
+  }
+);
+
+// Async thunk for fetching a single card
+export const fetchCardById = createAsyncThunk(
+  'catalog/fetchById',
+  async (hash, { rejectWithValue }) => {
+    try {
+      const response = await fetch(`/api/card-collection?action=get&hash=${hash}`);
+      const data = await response.json();
+      
+      if (!data.success) {
+        return rejectWithValue(data.error || 'Failed to fetch card');
+      }
+      
+      // Process the content based on its type
+      let description = 'Binary content';
+      const content = data.card.content;
+      
+      if (typeof content === 'string') {
+        description = content.substring(0, 200) + (content.length > 200 ? '...' : '');
+      } else if (content && typeof content === 'object') {
+        if (content.type === 'string') {
+          description = content.data.substring(0, 200) + (content.data.length > 200 ? '...' : '');
+        } else if (content.type === 'base64') {
+          description = `Binary content (${content.originalType || 'unknown type'})`;
+        }
+      }
+      
+      return {
+        id: data.card.hash,
+        name: data.card.hash.substring(0, 8),
+        category: data.card.contentType?.mimeType || 'Unknown',
+        description,
+        hash: data.card.hash,
+        content: data.card.content,
+        timestamp: data.card.timestamp || new Date().toISOString(),
+        contentType: data.card.contentType
+      };
+    } catch (error) {
+      console.error('Error fetching card by ID:', error);
+      return rejectWithValue('Failed to fetch card. Please try again.');
+    }
+  }
+);
+
+// Async thunk for searching cards by content
+export const searchCatalogItems = createAsyncThunk(
+  'catalog/searchItems',
+  async ({ searchTerm, pageNumber = 1, pageSize = 20 }, { rejectWithValue }) => {
+    try {
+      const response = await fetch(
+        `/api/card-collection?action=searchByContent&searchTerm=${encodeURIComponent(searchTerm)}&pageNumber=${pageNumber}&pageSize=${pageSize}`
+      );
+      const data = await response.json();
+      
+      if (!data.success) {
+        return rejectWithValue(data.error || 'Search failed');
+      }
+      
+      return {
+        items: data.cards.map(card => ({
+          id: card.hash,
+          name: card.hash.substring(0, 8),
+          category: card.contentType?.mimeType || 'Unknown',
+          description: 'Matching content: ' + (card.matchContext || ''),
+          hash: card.hash,
+          timestamp: card.timestamp || new Date().toISOString(),
+          contentType: card.contentType
+        })),
+        totalItems: data.totalResults,
+        totalPages: data.totalPages,
+        currentPage: data.currentPage,
+        searchTerm
+      };
+    } catch (error) {
+      console.error('Error searching catalog items:', error);
+      return rejectWithValue('Search failed. Please try again.');
+    }
+  }
+);
+
+// Async thunk for adding a card
+export const addCatalogItem = createAsyncThunk(
+  'catalog/addItem',
+  async (item, { rejectWithValue }) => {
+    try {
+      // If item is a file, use FormData
+      if (item.file) {
+        const formData = new FormData();
+        formData.append('action', 'add');
+        formData.append('file', item.file);
+        formData.append('metadata', JSON.stringify({
+          fileName: item.name,
+          mimeType: item.contentType || 'text/plain',
+          size: item.file.size
+        }));
+        
+        const response = await fetch('/api/card-collection', {
+          method: 'POST',
+          body: formData
+        });
+        
+        const data = await response.json();
+        
+        if (!data.success) {
+          return rejectWithValue(data.error || 'Failed to add item');
+        }
+        
+        return {
+          ...item,
+          id: data.hash,
+          hash: data.hash
+        };
+      } else {
+        // Plain text content
+        const response = await fetch('/api/card-collection', {
+          method: 'POST',
+          headers: {
+            'Content-Type': 'application/json'
+          },
+          body: JSON.stringify({
+            action: 'add',
+            card: {
+              content: item.content || item.description,
+              hash_algorithm: 'sha256'
+            }
+          })
+        });
+        
+        const data = await response.json();
+        
+        if (!data.success) {
+          return rejectWithValue(data.error || 'Failed to add item');
+        }
+        
+        return {
+          ...item,
+          id: data.hash,
+          hash: data.hash
+        };
+      }
+    } catch (error) {
+      console.error('Error adding catalog item:', error);
+      return rejectWithValue('Failed to add item. Please try again.');
+    }
+  }
+);
+
+// Async thunk for removing a card
+export const removeCatalogItem = createAsyncThunk(
+  'catalog/removeItem',
+  async (hash, { rejectWithValue }) => {
+    try {
+      const response = await fetch('/api/card-collection', {
+        method: 'DELETE',
+        headers: {
+          'Content-Type': 'application/json'
+        },
+        body: JSON.stringify({
+          action: 'delete',
+          hash
+        })
+      });
+      
+      const data = await response.json();
+      
+      if (!data.success) {
+        return rejectWithValue(data.error || 'Failed to delete item');
+      }
+      
+      return hash;
+    } catch (error) {
+      console.error('Error removing catalog item:', error);
+      return rejectWithValue('Failed to delete item. Please try again.');
+    }
+  }
+);
+
+// Slice definition
+const catalogSlice = createSlice({
+  name: 'catalog',
+  initialState: {
+    items: [],
+    selectedItem: null,
+    loading: false,
+    searchLoading: false,
+    itemLoading: false,
+    error: null,
+    searchError: null,
+    itemError: null,
+    pagination: {
+      currentPage: 1,
+      totalPages: 1,
+      totalItems: 0,
+      pageSize: 20
+    },
+    searchResults: {
+      items: [],
+      currentPage: 1,
+      totalPages: 1,
+      totalItems: 0,
+      searchTerm: ''
+    }
+  },
+  reducers: {
+    updateCatalogItem: (state, action) => {
+      const index = state.items.findIndex(item => item.id === action.payload.id);
+      if (index !== -1) {
+        state.items[index] = action.payload;
+      }
+      if (state.selectedItem && state.selectedItem.id === action.payload.id) {
+        state.selectedItem = action.payload;
+      }
+    },
+    clearSearchResults: (state) => {
+      state.searchResults = {
+        items: [],
+        currentPage: 1,
+        totalPages: 1,
+        totalItems: 0,
+        searchTerm: ''
+      };
+    },
+    setCurrentPage: (state, action) => {
+      state.pagination.currentPage = action.payload;
+    }
+  },
+  extraReducers: (builder) => {
+    builder
+      // fetchCatalogItems cases
+      .addCase(fetchCatalogItems.pending, (state) => {
+        state.loading = true;
+        state.error = null;
+      })
+      .addCase(fetchCatalogItems.fulfilled, (state, action) => {
+        state.loading = false;
+        state.items = action.payload.items;
+        state.pagination = {
+          currentPage: action.payload.currentPage,
+          totalPages: action.payload.totalPages,
+          totalItems: action.payload.totalItems,
+          pageSize: state.pagination.pageSize
+        };
+      })
+      .addCase(fetchCatalogItems.rejected, (state, action) => {
+        state.loading = false;
+        state.error = action.payload;
+      })
+      
+      // fetchCardById cases
+      .addCase(fetchCardById.pending, (state) => {
+        state.itemLoading = true;
+        state.itemError = null;
+      })
+      .addCase(fetchCardById.fulfilled, (state, action) => {
+        state.itemLoading = false;
+        state.selectedItem = action.payload;
+        // Update the item in the list if it exists
+        const index = state.items.findIndex(item => item.id === action.payload.id);
+        if (index !== -1) {
+          state.items[index] = { ...state.items[index], ...action.payload };
+        }
+      })
+      .addCase(fetchCardById.rejected, (state, action) => {
+        state.itemLoading = false;
+        state.itemError = action.payload;
+      })
+      
+      // searchCatalogItems cases
+      .addCase(searchCatalogItems.pending, (state) => {
+        state.searchLoading = true;
+        state.searchError = null;
+      })
+      .addCase(searchCatalogItems.fulfilled, (state, action) => {
+        state.searchLoading = false;
+        state.searchResults = {
+          items: action.payload.items,
+          currentPage: action.payload.currentPage,
+          totalPages: action.payload.totalPages,
+          totalItems: action.payload.totalItems,
+          searchTerm: action.payload.searchTerm
+        };
+      })
+      .addCase(searchCatalogItems.rejected, (state, action) => {
+        state.searchLoading = false;
+        state.searchError = action.payload;
+      })
+      
+      // addCatalogItem cases
+      .addCase(addCatalogItem.fulfilled, (state, action) => {
+        state.items.unshift(action.payload);
+        state.pagination.totalItems += 1;
+        if (state.pagination.totalItems % state.pagination.pageSize === 1) {
+          state.pagination.totalPages += 1;
+        }
+      })
+      
+      // removeCatalogItem cases
+      .addCase(removeCatalogItem.fulfilled, (state, action) => {
+        state.items = state.items.filter(item => item.id !== action.payload);
+        state.pagination.totalItems -= 1;
+        if (state.pagination.totalItems % state.pagination.pageSize === 0 && state.pagination.totalPages > 0) {
+          state.pagination.totalPages -= 1;
+        }
+        if (state.selectedItem && state.selectedItem.id === action.payload) {
+          state.selectedItem = null;
+        }
+      });
+  }
+});
+
+export const { updateCatalogItem, clearSearchResults, setCurrentPage } = catalogSlice.actions;
+export default catalogSlice.reducer;
diff --git a/src/features/panellayoutSlice.js b/src/features/panellayoutSlice.js
index 31115b5..223d126 100644
--- a/src/features/panellayoutSlice.js
+++ b/src/features/panellayoutSlice.js
@@ -2,7 +2,7 @@ import { createSlice } from "@reduxjs/toolkit";
 import layoutConfig from "./panellayoutSlice.json";
 
 const initialState = {
-  panels: layoutConfig["mqtt_dashboard_layout"],
+  panels: layoutConfig["catalog_layout"],
 };
 
 // Simplified function to trigger save
diff --git a/src/features/panellayoutSlice.json b/src/features/panellayoutSlice.json
index 144ca1e..ec80129 100644
--- a/src/features/panellayoutSlice.json
+++ b/src/features/panellayoutSlice.json
@@ -121,21 +121,21 @@
     },
     "camera_layout": {
         "left": {
-            "type": "FileTablePanel",
-            "size": 20,
-            "minSize": 0,
-            "visible": false
+            "type": "WeatherPanel",
+            "size": 30,
+            "minSize": 20,
+            "visible": true
         },
         "middle": {
             "type": "CameraPanel", 
-            "size": 70,
+            "size": 40,
             "minSize": 40,
             "visible": true
         },
         "right": {
             "type": "LocationPanel",
             "size": 30,
-            "minSize": 0,
+            "minSize": 20,
             "visible": true
         }
     },
@@ -158,5 +158,25 @@
             "minSize": 50,
             "visible": true
         }
+    },
+    "catalog_layout": {
+        "left": {
+            "type": "CatalogPanel",
+            "size": 100,
+            "minSize": 50,
+            "visible": true
+        },
+        "middle": {
+            "type": "ContentViewerPanel", 
+            "size": 0,
+            "minSize": 0,
+            "visible": false
+        },
+        "right": {
+            "type": "ContentDetailPanel",
+            "size": 0,
+            "minSize": 0,
+            "visible": false
+        }
     }
 }
diff --git a/src/styles/CatalogPanel.css b/src/styles/CatalogPanel.css
new file mode 100644
index 0000000..6f1dcad
--- /dev/null
+++ b/src/styles/CatalogPanel.css
@@ -0,0 +1,540 @@
+.catalog-panel {
+  display: flex;
+  flex-direction: column;
+  height: 100%;
+  background-color: var(--bg-color, #1e1e1e);
+  color: var(--text-color, #e0e0e0);
+  border-radius: 8px;
+  overflow: hidden;
+}
+
+.panel-header {
+  display: flex;
+  justify-content: space-between;
+  align-items: center;
+  padding: 12px 16px;
+  background-color: var(--panel-header-bg, #2c2c2c);
+  border-bottom: 1px solid var(--border-color, #3e3e3e);
+}
+
+.panel-header h2 {
+  margin: 0;
+  font-size: 1.2rem;
+  font-weight: 500;
+}
+
+.panel-controls {
+  display: flex;
+  gap: 12px;
+  align-items: center;
+}
+
+.view-toggles {
+  display: flex;
+  border-radius: 4px;
+  overflow: hidden;
+  border: 1px solid var(--border-color, #3e3e3e);
+}
+
+.btn-toggle {
+  padding: 6px 12px;
+  background-color: transparent;
+  border: none;
+  color: var(--text-color, #e0e0e0);
+  cursor: pointer;
+  transition: background-color 0.2s;
+}
+
+.btn-toggle.active {
+  background-color: var(--primary-color, #4a7bab);
+  color: white;
+}
+
+.catalog-controls {
+  display: flex;
+  padding: 12px 16px;
+  gap: 12px;
+  align-items: center;
+  background-color: var(--panel-subheader-bg, #262626);
+  border-bottom: 1px solid var(--border-color, #3e3e3e);
+  flex-wrap: wrap;
+}
+
+.search-container {
+  flex: 1;
+  display: flex;
+  gap: 8px;
+  min-width: 200px;
+}
+
+.search-input {
+  width: 100%;
+  padding: 8px 12px;
+  background-color: var(--input-bg, #333);
+  border: 1px solid var(--border-color, #3e3e3e);
+  border-radius: 4px;
+  color: var(--text-color, #e0e0e0);
+}
+
+.search-button {
+  white-space: nowrap;
+}
+
+.filter-select {
+  padding: 8px 12px;
+  background-color: var(--input-bg, #333);
+  border: 1px solid var(--border-color, #3e3e3e);
+  border-radius: 4px;
+  color: var(--text-color, #e0e0e0);
+}
+
+.search-status {
+  padding: 8px 16px;
+  background-color: var(--info-bg, rgba(43, 108, 176, 0.1));
+  border-bottom: 1px solid var(--info-border, rgba(43, 108, 176, 0.3));
+  color: var(--text-color, #e0e0e0);
+  font-size: 0.9rem;
+}
+
+.btn {
+  padding: 8px 16px;
+  border: none;
+  border-radius: 4px;
+  cursor: pointer;
+  transition: background-color 0.2s;
+}
+
+.btn-primary {
+  background-color: var(--primary-color, #4a7bab);
+  color: white;
+}
+
+.btn-primary:hover {
+  background-color: var(--primary-color-hover, #5a8bbb);
+}
+
+.btn-secondary {
+  background-color: var(--secondary-color, #555);
+  color: white;
+}
+
+.btn-secondary:hover {
+  background-color: var(--secondary-color-hover, #666);
+}
+
+.btn-danger {
+  background-color: var(--danger-color, #c53030);
+  color: white;
+}
+
+.btn-danger:hover {
+  background-color: var(--danger-color-hover, #d54040);
+}
+
+.btn-info {
+  background-color: var(--info-color, #2b6cb0);
+  color: white;
+}
+
+.btn-info:hover {
+  background-color: var(--info-color-hover, #3b7cc0);
+}
+
+.btn-back {
+  padding: 4px 8px;
+  background-color: transparent;
+  border: 1px solid var(--border-color, #3e3e3e);
+  color: var(--text-color, #e0e0e0);
+}
+
+.btn-small {
+  padding: 4px 8px;
+  font-size: 0.8rem;
+}
+
+.btn-pagination {
+  padding: 4px 10px;
+  background-color: var(--secondary-color, #555);
+  color: white;
+}
+
+.btn-pagination:disabled {
+  background-color: var(--disabled-bg, #444);
+  color: var(--disabled-color, #888);
+  cursor: not-allowed;
+}
+
+.catalog-list-view {
+  flex: 1;
+  overflow-y: auto;
+  padding: 12px 16px;
+}
+
+.catalog-table {
+  width: 100%;
+  border-collapse: collapse;
+}
+
+.catalog-table th {
+  text-align: left;
+  padding: 10px;
+  background-color: var(--table-header-bg, #2c2c2c);
+  cursor: pointer;
+}
+
+.catalog-table th:hover {
+  background-color: var(--table-header-hover, #3c3c3c);
+}
+
+.catalog-table td {
+  padding: 10px;
+  border-bottom: 1px solid var(--border-color, #3e3e3e);
+}
+
+.catalog-table tr:hover {
+  background-color: var(--table-row-hover, #2a2a2a);
+}
+
+.item-name {
+  color: var(--link-color, #63b3ed);
+  cursor: pointer;
+}
+
+.item-actions {
+  display: flex;
+  gap: 8px;
+}
+
+.catalog-grid-view {
+  flex: 1;
+  display: grid;
+  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
+  gap: 16px;
+  padding: 16px;
+  overflow-y: auto;
+}
+
+.catalog-card {
+  background-color: var(--card-bg, #2c2c2c);
+  border-radius: 8px;
+  overflow: hidden;
+  transition: transform 0.2s, box-shadow 0.2s;
+  cursor: pointer;
+  border: 1px solid var(--border-color, #3e3e3e);
+}
+
+.catalog-card:hover {
+  transform: translateY(-2px);
+  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
+}
+
+.catalog-card-image {
+  height: 150px;
+  background-color: var(--card-image-bg, #333);
+  display: flex;
+  align-items: center;
+  justify-content: center;
+}
+
+.catalog-card-image img {
+  width: 100%;
+  height: 100%;
+  object-fit: cover;
+}
+
+.image-placeholder {
+  color: var(--placeholder-color, #666);
+  text-align: center;
+  word-break: break-word;
+  padding: 10px;
+  font-size: 0.8rem;
+}
+
+.image-placeholder.large {
+  height: 300px;
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  background-color: var(--card-image-bg, #333);
+  border-radius: 4px;
+}
+
+.catalog-card-content {
+  padding: 12px;
+}
+
+.catalog-card-content h3 {
+  margin: 0 0 8px 0;
+  font-size: 1rem;
+  white-space: nowrap;
+  overflow: hidden;
+  text-overflow: ellipsis;
+}
+
+.catalog-card-category {
+  color: var(--text-secondary, #a0aec0);
+  font-size: 0.8rem;
+  margin: 0 0 8px 0;
+  white-space: nowrap;
+  overflow: hidden;
+  text-overflow: ellipsis;
+}
+
+.catalog-timestamp {
+  font-size: 0.75rem;
+  color: var(--text-muted, #888);
+  margin: 0;
+}
+
+.catalog-detail-view {
+  flex: 1;
+  overflow-y: auto;
+  padding: 16px;
+}
+
+.catalog-detail-header {
+  display: flex;
+  align-items: center;
+  gap: 12px;
+  margin-bottom: 16px;
+}
+
+.catalog-detail-header h2 {
+  margin: 0;
+  overflow: hidden;
+  text-overflow: ellipsis;
+}
+
+.catalog-detail-content {
+  display: flex;
+  flex-direction: column;
+  gap: 24px;
+}
+
+.catalog-detail-info {
+  display: flex;
+  flex-direction: column;
+  gap: 20px;
+}
+
+.info-section {
+  background-color: var(--card-bg, #2c2c2c);
+  padding: 16px;
+  border-radius: 8px;
+  border: 1px solid var(--border-color, #3e3e3e);
+}
+
+.content-section {
+  background-color: var(--card-bg, #2c2c2c);
+  padding: 16px;
+  border-radius: 8px;
+  border: 1px solid var(--border-color, #3e3e3e);
+}
+
+.content-section h3 {
+  margin-top: 0;
+  margin-bottom: 16px;
+  font-size: 1.1rem;
+  color: var(--text-secondary, #a0aec0);
+}
+
+.content-container {
+  overflow: auto;
+  max-height: 500px;
+  background-color: var(--content-bg, #252525);
+  border-radius: 4px;
+}
+
+.content-text, .content-json {
+  margin: 0;
+  padding: 12px;
+  white-space: pre-wrap;
+  word-break: break-word;
+  font-family: monospace;
+  font-size: 0.9rem;
+  line-height: 1.5;
+  overflow-x: auto;
+}
+
+.content-json {
+  color: var(--json-color, #e6e6e6);
+}
+
+.content-image {
+  max-width: 100%;
+  display: block;
+  margin: 0 auto;
+}
+
+.content-audio, .content-video {
+  width: 100%;
+}
+
+.pdf-container {
+  width: 100%;
+  height: 500px;
+}
+
+.pdf-frame {
+  width: 100%;
+  height: 100%;
+  border: none;
+}
+
+.html-content {
+  padding: 12px;
+}
+
+.binary-content {
+  padding: 16px;
+  text-align: center;
+}
+
+.catalog-description {
+  line-height: 1.5;
+  margin-top: 4px;
+  white-space: pre-line;
+}
+
+.catalog-detail-actions {
+  display: flex;
+  gap: 12px;
+  margin-top: 8px;
+}
+
+.content-placeholder {
+  padding: 32px;
+  text-align: center;
+  color: var(--text-muted, #888);
+}
+
+.content-unknown {
+  padding: 32px;
+  text-align: center;
+  color: var(--text-muted, #888);
+}
+
+.pagination-controls {
+  display: flex;
+  justify-content: center;
+  align-items: center;
+  gap: 16px;
+  padding: 16px;
+  border-top: 1px solid var(--border-color, #3e3e3e);
+}
+
+.pagination-info {
+  color: var(--text-muted, #888);
+  font-size: 0.9rem;
+}
+
+.empty-state {
+  padding: 32px;
+  text-align: center;
+  color: var(--text-muted, #888);
+  font-style: italic;
+}
+
+.loading-indicator {
+  text-align: center;
+  padding: 24px;
+  color: var(--text-secondary, #a0aec0);
+}
+
+.error-message {
+  padding: 16px;
+  background-color: var(--error-bg, rgba(197, 48, 48, 0.1));
+  border: 1px solid var(--error-border, rgba(197, 48, 48, 0.3));
+  color: var(--error-text, #f56565);
+  border-radius: 4px;
+  margin: 16px;
+}
+
+.catalog-form {
+  display: flex;
+  flex-direction: column;
+  gap: 16px;
+  padding: 16px;
+  background-color: var(--card-bg, #2c2c2c);
+  border-radius: 8px;
+  margin: 16px;
+  border: 1px solid var(--border-color, #3e3e3e);
+}
+
+.form-group {
+  display: flex;
+  flex-direction: column;
+  gap: 4px;
+}
+
+.form-row {
+  display: grid;
+  grid-template-columns: 1fr 1fr;
+  gap: 16px;
+}
+
+.form-group label {
+  font-size: 0.9rem;
+  color: var(--text-secondary, #a0aec0);
+}
+
+.form-group input,
+.form-group textarea,
+.form-group select {
+  padding: 8px 12px;
+  background-color: var(--input-bg, #333);
+  border: 1px solid var(--border-color, #3e3e3e);
+  border-radius: 4px;
+  color: var(--text-color, #e0e0e0);
+}
+
+.form-group input[type="file"] {
+  padding: 6px;
+}
+
+.form-group textarea {
+  resize: vertical;
+  min-height: 80px;
+}
+
+.form-group input:disabled,
+.form-group textarea:disabled {
+  background-color: var(--disabled-bg, #2a2a2a);
+  color: var(--disabled-color, #666);
+  cursor: not-allowed;
+}
+
+.form-actions {
+  display: flex;
+  gap: 12px;
+  margin-top: 16px;
+}
+
+@media (max-width: 768px) {
+  .catalog-controls {
+    flex-direction: column;
+    align-items: stretch;
+  }
+  
+  .search-container {
+    width: 100%;
+  }
+  
+  .catalog-detail-content {
+    grid-template-columns: 1fr;
+  }
+  
+  .form-row {
+    grid-template-columns: 1fr;
+  }
+}
+
+@media (max-width: 576px) {
+  .catalog-grid-view {
+    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
+  }
+  
+  .pagination-controls {
+    flex-wrap: wrap;
+  }
+}

commit ee3f22d1b91a488934194ed7a2fb1431ea811582
Author: Henry Koo <lckoo1230@gmail.com>
Date:   Fri Apr 4 14:55:54 2025 +0800

    back up

diff --git a/src/components/panels/LocationPanel.jsx b/src/components/panels/LocationPanel.jsx
new file mode 100644
index 0000000..d482747
--- /dev/null
+++ b/src/components/panels/LocationPanel.jsx
@@ -0,0 +1,427 @@
+import React, { useState, useEffect, useRef } from 'react';
+
+const LocationPanel = () => {
+  const [location, setLocation] = useState(null);
+  const [error, setError] = useState(null);
+  const [status, setStatus] = useState('waiting'); // waiting, loading, success, error
+  const [mapUrl, setMapUrl] = useState(null);
+  const [locationDetails, setLocationDetails] = useState(null);
+  const [watchId, setWatchId] = useState(null);
+  const [showSettings, setShowSettings] = useState(false);
+  const [accuracy, setAccuracy] = useState('high'); // high, balanced, low
+  
+  // Manual coordinate inputs
+  const [showManualEntry, setShowManualEntry] = useState(false);
+  const [manualLatitude, setManualLatitude] = useState('');
+  const [manualLongitude, setManualLongitude] = useState('');
+  
+  // Get Google Maps API key from environment variables
+  const googleMapsApiKey = import.meta.env.GOOGLE_MAPS_API_KEY || 'AIzaSyBX8_EcBiD1vRedpAEXiub4WIHbGDSDJk4';
+
+  // Function to get location
+  const getLocation = () => {
+    if (!navigator.geolocation) {
+      setError('Geolocation is not supported by your browser');
+      setStatus('error');
+      return;
+    }
+
+    setStatus('loading');
+    setError(null);
+
+    const options = {
+      enableHighAccuracy: accuracy === 'high',
+      timeout: 10000,
+      maximumAge: accuracy === 'low' ? 60000 : 0
+    };
+
+    try {
+      // Clear previous watch if exists
+      if (watchId !== null) {
+        navigator.geolocation.clearWatch(watchId);
+      }
+
+      // Watch position for real-time updates
+      const id = navigator.geolocation.watchPosition(
+        handleLocationSuccess,
+        handleLocationError,
+        options
+      );
+      
+      setWatchId(id);
+    } catch (err) {
+      setError(`Failed to access location: ${err.message}`);
+      setStatus('error');
+    }
+  };
+
+  // Handle successful location retrieval
+  const handleLocationSuccess = (position) => {
+    const { latitude, longitude, accuracy: locationAccuracy } = position.coords;
+    
+    setLocation({
+      latitude,
+      longitude,
+      accuracy: locationAccuracy,
+      timestamp: position.timestamp
+    });
+    
+    setStatus('success');
+    setError(null);
+    
+    // Generate Google Maps URL
+    const mapUrl = `https://www.google.com/maps?q=${latitude},${longitude}&z=15`;
+    setMapUrl(mapUrl);
+    
+    // Get location details using reverse geocoding
+    fetchLocationDetails(latitude, longitude);
+  };
+
+  // Handle location errors
+  const handleLocationError = (error) => {
+    setStatus('error');
+    
+    switch (error.code) {
+      case error.PERMISSION_DENIED:
+        setError('Location access denied. Please allow location access in your browser settings.');
+        break;
+      case error.POSITION_UNAVAILABLE:
+        setError('Location information is unavailable. You can try entering coordinates manually.');
+        setShowManualEntry(true);
+        break;
+      case error.TIMEOUT:
+        setError('The request to get location timed out. Please try again or enter coordinates manually.');
+        setShowManualEntry(true);
+        break;
+      default:
+        setError(`An unknown error occurred: ${error.message}`);
+        setShowManualEntry(true);
+    }
+  };
+
+  // Handle manual coordinate submission
+  const handleManualCoordinates = (e) => {
+    e.preventDefault();
+    
+    try {
+      const latitude = parseFloat(manualLatitude);
+      const longitude = parseFloat(manualLongitude);
+      
+      if (isNaN(latitude) || isNaN(longitude)) {
+        throw new Error('Invalid coordinates');
+      }
+      
+      if (latitude < -90 || latitude > 90 || longitude < -180 || longitude > 180) {
+        throw new Error('Coordinates out of range');
+      }
+      
+      setLocation({
+        latitude,
+        longitude,
+        accuracy: 1000, // Default accuracy for manual entry (1km)
+        timestamp: Date.now()
+      });
+      
+      setStatus('success');
+      setError(null);
+      
+      // Generate Google Maps URL
+      const mapUrl = `https://www.google.com/maps?q=${latitude},${longitude}&z=15`;
+      setMapUrl(mapUrl);
+      
+      // Get location details
+      fetchLocationDetails(latitude, longitude);
+      
+      // Hide manual entry after successful submission
+      setShowManualEntry(false);
+    } catch (err) {
+      setError(`Invalid coordinates: ${err.message}`);
+    }
+  };
+
+  // Fetch address details using reverse geocoding
+  const fetchLocationDetails = async (latitude, longitude) => {
+    try {
+      // Note: In a production app, you would use a proper geocoding API with an API key
+      // For demo purposes, we'll just show the coordinates and a basic description
+      setLocationDetails({
+        address: 'Location information available',
+        coordinates: `${latitude.toFixed(6)}, ${longitude.toFixed(6)}`,
+        accuracyMeters: `¬±${Math.round(location?.accuracy || 1000)}m`
+      });
+    } catch (error) {
+      console.error('Error fetching location details:', error);
+      setLocationDetails({
+        address: 'Address lookup failed',
+        coordinates: `${latitude.toFixed(6)}, ${longitude.toFixed(6)}`,
+        accuracyMeters: `¬±${Math.round(location?.accuracy || 1000)}m`
+      });
+    }
+  };
+
+  // Stop watching location
+  const stopWatchingLocation = () => {
+    if (watchId !== null) {
+      navigator.geolocation.clearWatch(watchId);
+      setWatchId(null);
+      setStatus('waiting');
+    }
+  };
+
+  // Change accuracy setting
+  const handleAccuracyChange = (newAccuracy) => {
+    setAccuracy(newAccuracy);
+    if (status === 'success' || status === 'loading') {
+      // Restart location tracking with new accuracy
+      stopWatchingLocation();
+      setTimeout(getLocation, 100);
+    }
+  };
+
+  // Clean up on unmount
+  useEffect(() => {
+    return () => {
+      if (watchId !== null) {
+        navigator.geolocation.clearWatch(watchId);
+      }
+    };
+  }, [watchId]);
+
+  // Format time from timestamp
+  const formatTime = (timestamp) => {
+    if (!timestamp) return 'Unknown';
+    const date = new Date(timestamp);
+    return date.toLocaleTimeString();
+  };
+
+  return (
+    <div className="h-full flex flex-col bg-gray-900 p-4 text-white rounded-lg">
+      <div className="flex justify-between items-center mb-4">
+        <h2 className="text-xl font-semibold">Location Panel</h2>
+        <div className="flex gap-2">
+          <button
+            onClick={() => setShowSettings(!showSettings)}
+            className="px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded-md text-sm"
+          >
+            Settings
+          </button>
+          {status === 'waiting' ? (
+            <button
+              onClick={getLocation}
+              className="px-4 py-1 bg-blue-600 hover:bg-blue-500 rounded-md"
+            >
+              Get Location
+            </button>
+          ) : status === 'loading' ? (
+            <button className="px-4 py-1 bg-yellow-600 rounded-md flex items-center">
+              <span className="animate-pulse mr-1">‚ü≥</span> Loading...
+            </button>
+          ) : (
+            <button
+              onClick={stopWatchingLocation}
+              className="px-4 py-1 bg-red-600 hover:bg-red-500 rounded-md"
+            >
+              Stop Tracking
+            </button>
+          )}
+        </div>
+      </div>
+
+      {showSettings && (
+        <div className="mb-4 p-3 bg-gray-800 rounded-md">
+          <h3 className="text-sm font-medium mb-2">Accuracy Settings</h3>
+          <div className="flex gap-2">
+            {['high', 'balanced', 'low'].map((level) => (
+              <button
+                key={level}
+                onClick={() => handleAccuracyChange(level)}
+                className={`px-3 py-1 text-sm rounded-md ${
+                  accuracy === level
+                    ? 'bg-blue-600 text-white'
+                    : 'bg-gray-700 text-gray-300 hover:bg-gray-600'
+                }`}
+              >
+                {level.charAt(0).toUpperCase() + level.slice(1)}
+              </button>
+            ))}
+          </div>
+          <p className="mt-2 text-xs text-gray-400">
+            High: Most accurate but uses more battery. Low: Saves battery but may be less accurate.
+          </p>
+        </div>
+      )}
+
+      {error && (
+        <div className="mb-4 p-3 bg-red-900/50 text-white rounded-md">
+          <p className="font-medium">Error</p>
+          <p className="text-sm">{error}</p>
+          <div className="flex gap-2 mt-2">
+            <button
+              onClick={getLocation}
+              className="px-3 py-1 bg-red-700 hover:bg-red-600 rounded-md text-sm"
+            >
+              Try Again
+            </button>
+            <button
+              onClick={() => setShowManualEntry(!showManualEntry)}
+              className="px-3 py-1 bg-blue-600 hover:bg-blue-500 rounded-md text-sm"
+            >
+              {showManualEntry ? 'Hide Manual Entry' : 'Enter Manually'}
+            </button>
+          </div>
+        </div>
+      )}
+
+      {showManualEntry && (
+        <div className="mb-4 p-3 bg-gray-800 rounded-md">
+          <h3 className="font-medium mb-2">Manual Coordinate Entry</h3>
+          <form onSubmit={handleManualCoordinates} className="flex flex-col gap-3">
+            <div className="grid grid-cols-2 gap-3">
+              <div>
+                <label htmlFor="latitude" className="block text-sm mb-1">Latitude (-90 to 90)</label>
+                <input
+                  id="latitude"
+                  type="text"
+                  className="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-1 text-white"
+                  placeholder="e.g. 37.7749"
+                  value={manualLatitude}
+                  onChange={(e) => setManualLatitude(e.target.value)}
+                  required
+                />
+              </div>
+              <div>
+                <label htmlFor="longitude" className="block text-sm mb-1">Longitude (-180 to 180)</label>
+                <input
+                  id="longitude"
+                  type="text"
+                  className="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-1 text-white"
+                  placeholder="e.g. -122.4194"
+                  value={manualLongitude}
+                  onChange={(e) => setManualLongitude(e.target.value)}
+                  required
+                />
+              </div>
+            </div>
+            <div className="flex gap-2">
+              <button
+                type="submit"
+                className="px-4 py-1 bg-blue-600 hover:bg-blue-500 rounded-md"
+              >
+                Use These Coordinates
+              </button>
+              <button
+                type="button"
+                onClick={() => {
+                  setManualLatitude('37.7749');
+                  setManualLongitude('-122.4194');
+                }}
+                className="px-4 py-1 bg-gray-700 hover:bg-gray-600 rounded-md text-sm"
+              >
+                Use San Francisco
+              </button>
+            </div>
+            <p className="text-xs text-gray-400">
+              You can use this to view any location on Earth. Try famous landmarks!
+            </p>
+          </form>
+        </div>
+      )}
+
+      {status === 'waiting' && !error && (
+        <div className="flex-grow flex items-center justify-center">
+          <div className="text-center p-6 bg-gray-800/50 rounded-lg max-w-md">
+            <div className="text-5xl mb-4">üìç</div>
+            <h3 className="text-xl mb-2">Your Location</h3>
+            <p className="text-gray-400 mb-4">
+              Click "Get Location" to see your current geographic position.
+            </p>
+            <div className="flex justify-center gap-2">
+              <button
+                onClick={getLocation}
+                className="px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-md"
+              >
+                Get Location
+              </button>
+              <button
+                onClick={() => setShowManualEntry(!showManualEntry)}
+                className="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md"
+              >
+                Enter Manually
+              </button>
+            </div>
+            <p className="text-xs text-gray-500 mt-4">
+              This feature requires location permissions from your browser.
+            </p>
+          </div>
+        </div>
+      )}
+
+      {status === 'loading' && (
+        <div className="flex-grow flex items-center justify-center">
+          <div className="text-center">
+            <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto mb-4"></div>
+            <p>Waiting for location data...</p>
+            <p className="text-sm text-gray-400 mt-2">
+              Make sure you've allowed location access
+            </p>
+          </div>
+        </div>
+      )}
+
+      {status === 'success' && location && (
+        <div className="flex-grow flex flex-col">
+          <div className="bg-gray-800 p-3 rounded-md mb-4">
+            <div className="flex justify-between items-start">
+              <div>
+                <h3 className="font-medium">Current Location</h3>
+                {locationDetails && (
+                  <>
+                    <p className="text-sm text-gray-300 mt-1">{locationDetails.address}</p>
+                    <p className="text-xs text-gray-400 mt-1">Coords: {locationDetails.coordinates}</p>
+                  </>
+                )}
+              </div>
+              <div className="text-right text-xs text-gray-400">
+                <p>Accuracy: {locationDetails?.accuracyMeters || 'Unknown'}</p>
+                <p>Updated: {formatTime(location.timestamp)}</p>
+              </div>
+            </div>
+          </div>
+          
+          <div className="flex-grow bg-gray-800 rounded-lg overflow-hidden relative">
+            {mapUrl ? (
+              <div className="absolute inset-0 flex items-center justify-center">
+                <iframe
+                  title="Map View"
+                  src={`https://www.google.com/maps/embed/v1/place?key=${googleMapsApiKey}&q=${location.latitude},${location.longitude}&zoom=15`}
+                  className="w-full h-full border-0"
+                  allowFullScreen
+                />
+                <div className="absolute bottom-4 left-0 right-0 mx-auto w-max bg-gray-800 px-4 py-2 rounded-md text-sm">
+                  <a 
+                    href={mapUrl} 
+                    target="_blank" 
+                    rel="noopener noreferrer"
+                    className="text-blue-400 hover:text-blue-300"
+                  >
+                    Open in Google Maps ‚Üí
+                  </a>
+                </div>
+              </div>
+            ) : (
+              <div className="absolute inset-0 flex items-center justify-center">
+                <p>Map view not available</p>
+              </div>
+            )}
+          </div>
+        </div>
+      )}
+      
+      <div className="mt-2 text-xs text-gray-500">
+        <p>Note: Location data is not stored or transmitted to any server.</p>
+      </div>
+    </div>
+  );
+};
+
+export default LocationPanel;
diff --git a/src/config/panelRegistry.ts b/src/config/panelRegistry.ts
index fbc7f8b..b0cf225 100644
--- a/src/config/panelRegistry.ts
+++ b/src/config/panelRegistry.ts
@@ -6,6 +6,7 @@ import ContentDetailPanel from '../components/panels/ContentDetailPanel.jsx';
 import YouTubePanel from '../components/panels/YouTubePanel.jsx';
 import CalculatorPanel from '../components/panels/CalculatorPanel';
 import CameraPanel from '../components/panels/CameraPanel';
+import LocationPanel from '../components/panels/LocationPanel';
 
 export interface PanelConfig {
   component: ComponentType;
@@ -45,3 +46,4 @@ registerPanel('ContentDetail', ContentDetailPanel);
 registerPanel('YouTubePanel', YouTubePanel);
 registerPanel('CalculatorPanel', CalculatorPanel);
 registerPanel('CameraPanel', CameraPanel);
+registerPanel('LocationPanel', LocationPanel);
diff --git a/src/features/panellayoutSlice.json b/src/features/panellayoutSlice.json
index a7e463f..144ca1e 100644
--- a/src/features/panellayoutSlice.json
+++ b/src/features/panellayoutSlice.json
@@ -133,10 +133,10 @@
             "visible": true
         },
         "right": {
-            "type": "ContentDetailPanel",
+            "type": "LocationPanel",
             "size": 30,
             "minSize": 0,
-            "visible": false
+            "visible": true
         }
     },
     "transcription_layout": {

commit 5f64f8c62ca8d7f51e70ca932d0844e3664e840f
Author: Henry Koo <lckoo1230@gmail.com>
Date:   Fri Apr 4 14:38:28 2025 +0800

    back up

diff --git a/src/components/panels/CameraPanel.jsx b/src/components/panels/CameraPanel.jsx
new file mode 100644
index 0000000..63c4cfa
--- /dev/null
+++ b/src/components/panels/CameraPanel.jsx
@@ -0,0 +1,289 @@
+import React, { useState, useEffect, useRef } from 'react';
+
+const CameraPanel = () => {
+  const videoRef = useRef(null);
+  const [isStreaming, setIsStreaming] = useState(false);
+  const [error, setError] = useState(null);
+  const [cameraPermission, setCameraPermission] = useState('pending');
+  const [availableCameras, setAvailableCameras] = useState([]);
+  const [selectedCameraId, setSelectedCameraId] = useState(null);
+  const mediaStreamRef = useRef(null);
+
+  const requestCameraPermission = async () => {
+    setCameraPermission('requesting');
+    setError(null);
+    
+    try {
+      // First request basic camera access without enumerating devices
+      const initialStream = await navigator.mediaDevices.getUserMedia({ 
+        video: true, 
+        audio: false 
+      });
+      
+      // Once we have permission, enumerate devices
+      const devices = await navigator.mediaDevices.enumerateDevices();
+      const videoDevices = devices.filter(device => device.kind === 'videoinput');
+      
+      // Stop the initial stream as we'll create a new one with the selected camera
+      initialStream.getTracks().forEach(track => track.stop());
+      
+      if (videoDevices.length === 0) {
+        throw new Error('No camera devices were detected on this device');
+      }
+      
+      setAvailableCameras(videoDevices);
+      
+      // Use the first camera by default
+      const defaultCameraId = videoDevices[0].deviceId;
+      setSelectedCameraId(defaultCameraId);
+
+      // Start the camera with the selected device
+      await startCamera(defaultCameraId);
+      setCameraPermission('granted');
+    } catch (err) {
+      console.error('Error accessing camera:', err);
+      
+      // Provide more helpful error messages
+      if (err.name === 'NotAllowedError' || err.name === 'PermissionDeniedError') {
+        setError('Camera permission was denied. Please allow camera access in your browser settings and try again.');
+      } else if (err.name === 'NotFoundError') {
+        setError('No camera was detected on this device. Please check if your camera is properly connected.');
+      } else if (err.name === 'NotReadableError' || err.name === 'TrackStartError') {
+        setError('Your camera is being used by another application. Please close other applications that might be using your camera.');
+      } else {
+        setError(err.message || 'Could not access camera. Please ensure your device has a working camera.');
+      }
+      
+      setCameraPermission('denied');
+    }
+  };
+
+  const startCamera = async (deviceId) => {
+    try {
+      // Stop any existing streams
+      if (mediaStreamRef.current) {
+        stopCamera();
+      }
+
+      // Get user media with selected camera
+      const constraints = {
+        video: deviceId ? { deviceId: { exact: deviceId } } : true,
+        audio: false
+      };
+      
+      console.log('Starting camera with constraints:', constraints);
+      const stream = await navigator.mediaDevices.getUserMedia(constraints);
+      mediaStreamRef.current = stream;
+      
+      if (videoRef.current) {
+        videoRef.current.srcObject = stream;
+        videoRef.current.onloadedmetadata = () => {
+          videoRef.current.play().catch(e => {
+            console.error('Error playing video:', e);
+          });
+        };
+      }
+      
+      setIsStreaming(true);
+      setError(null);
+    } catch (err) {
+      console.error('Error starting camera:', err);
+      setError(err.message || 'Could not start camera');
+      setIsStreaming(false);
+    }
+  };
+
+  const stopCamera = () => {
+    if (mediaStreamRef.current) {
+      mediaStreamRef.current.getTracks().forEach(track => track.stop());
+      mediaStreamRef.current = null;
+    }
+    
+    if (videoRef.current) {
+      videoRef.current.srcObject = null;
+    }
+    
+    setIsStreaming(false);
+  };
+
+  const toggleCamera = () => {
+    if (isStreaming) {
+      stopCamera();
+    } else if (selectedCameraId) {
+      startCamera(selectedCameraId);
+    } else {
+      requestCameraPermission();
+    }
+  };
+
+  const handleCameraChange = (e) => {
+    const newCameraId = e.target.value;
+    setSelectedCameraId(newCameraId);
+    if (isStreaming) {
+      startCamera(newCameraId);
+    }
+  };
+
+  // Request camera permission when component mounts
+  useEffect(() => {
+    // Wait for a moment before requesting camera permission to ensure DOM is ready
+    const timer = setTimeout(() => {
+      if (cameraPermission === 'pending' && typeof navigator !== 'undefined' && navigator.mediaDevices) {
+        console.log('Requesting camera permission...');
+        requestCameraPermission();
+      }
+    }, 1000);
+    
+    return () => {
+      clearTimeout(timer);
+      stopCamera();
+    };
+  }, []);
+
+  // Detect browser camera support on mount
+  useEffect(() => {
+    // Check if the browser supports getUserMedia
+    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
+      setError('Your browser does not support camera access. Please try using a modern browser like Chrome, Firefox, or Safari.');
+      setCameraPermission('denied');
+    }
+  }, []);
+
+  // Take a photo function
+  const takePhoto = () => {
+    if (!videoRef.current || !isStreaming) return;
+    
+    const canvas = document.createElement('canvas');
+    canvas.width = videoRef.current.videoWidth;
+    canvas.height = videoRef.current.videoHeight;
+    
+    const ctx = canvas.getContext('2d');
+    ctx.drawImage(videoRef.current, 0, 0);
+    
+    // Convert canvas to image data URL
+    try {
+      const imgData = canvas.toDataURL('image/png');
+      
+      // Create a download link
+      const link = document.createElement('a');
+      link.href = imgData;
+      link.download = `camera-snapshot-${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.png`;
+      document.body.appendChild(link);
+      link.click();
+      document.body.removeChild(link);
+    } catch (e) {
+      console.error('Error saving photo:', e);
+      setError('Could not save photo. This might be due to security restrictions.');
+    }
+  };
+
+  // Force request permission button
+  const requestPermissionManually = () => {
+    console.log('Manually requesting camera permission...');
+    setCameraPermission('pending');
+    requestCameraPermission();
+  };
+
+  return (
+    <div className="h-full flex flex-col bg-gray-900 p-4 rounded-lg shadow-lg">
+      <div className="flex justify-between items-center mb-4">
+        <h2 className="text-xl text-white font-semibold">Camera Panel</h2>
+        <div className="flex gap-2">
+          {availableCameras.length > 1 && (
+            <select 
+              className="bg-gray-700 text-white px-3 py-1 rounded-md"
+              value={selectedCameraId || ''}
+              onChange={handleCameraChange}
+              disabled={!isStreaming}
+            >
+              {availableCameras.map(camera => (
+                <option key={camera.deviceId} value={camera.deviceId}>
+                  {camera.label || `Camera ${availableCameras.indexOf(camera) + 1}`}
+                </option>
+              ))}
+            </select>
+          )}
+          <button 
+            onClick={toggleCamera}
+            className={`px-4 py-1 rounded-md transition-colors ${
+              isStreaming 
+                ? 'bg-red-600 hover:bg-red-700' 
+                : 'bg-green-600 hover:bg-green-700'
+            } text-white font-medium`}
+          >
+            {isStreaming ? 'Stop Camera' : 'Start Camera'}
+          </button>
+          {isStreaming && (
+            <button 
+              onClick={takePhoto}
+              className="px-4 py-1 rounded-md bg-blue-600 hover:bg-blue-700 text-white font-medium"
+            >
+              Take Photo
+            </button>
+          )}
+        </div>
+      </div>
+
+      <div className="flex-grow relative bg-black rounded-lg overflow-hidden flex items-center justify-center">
+        {cameraPermission === 'pending' && (
+          <div className="text-white text-center">
+            <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white mx-auto mb-2"></div>
+            <p>Initializing camera...</p>
+          </div>
+        )}
+        
+        {cameraPermission === 'requesting' && (
+          <div className="text-white text-center">
+            <div className="animate-pulse mb-4">
+              <div className="text-xl mb-2">üì∑ Camera Permission Required</div>
+              <p>Please allow access to your camera when prompted by your browser.</p>
+              <p className="text-sm text-gray-400 mt-2">If you don't see a prompt, check your browser's address bar or settings.</p>
+            </div>
+          </div>
+        )}
+        
+        {cameraPermission === 'denied' && (
+          <div className="text-white text-center p-4 max-w-md">
+            <p className="text-xl mb-2">‚ùå Camera access denied</p>
+            <p className="mb-4">{error || 'Please allow camera access in your browser settings.'}</p>
+            <button 
+              onClick={requestPermissionManually}
+              className="mt-4 px-6 py-2 bg-blue-600 rounded-md hover:bg-blue-700 font-medium"
+            >
+              Try Again
+            </button>
+            <div className="mt-6 text-sm text-gray-400 border border-gray-700 p-3 rounded">
+              <p className="font-medium mb-1">How to enable camera access:</p>
+              <ol className="list-decimal list-inside text-left">
+                <li>Click the padlock/info icon in your browser's address bar</li>
+                <li>Find "Camera" in the site permissions</li>
+                <li>Change the setting to "Allow"</li>
+                <li>Refresh the page and click "Try Again"</li>
+              </ol>
+            </div>
+          </div>
+        )}
+        
+        <video 
+          ref={videoRef}
+          className={`max-h-full max-w-full ${isStreaming ? 'opacity-100' : 'opacity-0'}`}
+          autoPlay 
+          playsInline 
+          muted
+        />
+        
+        {error && isStreaming && (
+          <div className="absolute bottom-4 left-0 right-0 bg-red-600 text-white p-2 mx-4 rounded-md">
+            {error}
+          </div>
+        )}
+      </div>
+      
+      <div className="mt-2 text-gray-300 text-sm">
+        <p>Note: Camera access requires permission from your browser.</p>
+      </div>
+    </div>
+  );
+};
+
+export default CameraPanel;
diff --git a/src/components/panels/Sidebar.astro b/src/components/panels/Sidebar.astro
index 9dc5102..27f77d3 100644
--- a/src/components/panels/Sidebar.astro
+++ b/src/components/panels/Sidebar.astro
@@ -1,6 +1,6 @@
 ---
 import { cn } from '../../lib/utils';
-import { FaCode, FaTerminal, FaCog, FaCube, FaFile, FaMicrophone, FaBrain, FaYoutube } from 'react-icons/fa';
+import { FaCode, FaTerminal, FaCog, FaCube, FaFile, FaMicrophone, FaBrain, FaYoutube, FaCamera } from 'react-icons/fa';
 import { store } from '../../store';
 import { changeLayout } from '../../features/panellayoutSlice';
 
@@ -75,6 +75,16 @@ const { class: className, ...props } = Astro.props;
           YouTube Player
         </span>
       </button>
+      <button
+        id="cameraLayoutBtn"
+        title="Camera"
+        class="flex items-center justify-center w-12 h-12 hover:bg-muted-foreground/10 transition-colors group relative"
+      >
+        <FaCamera className="text-lg text-muted-foreground group-hover:text-primary transition-colors" />
+        <span class="absolute left-full ml-2 bg-neutral-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
+          Camera
+        </span>
+      </button>
       <button
         id="transcriptionLayoutBtn"
         title="AI Training Data"
@@ -105,6 +115,7 @@ const { class: className, ...props } = Astro.props;
   const fileLayoutBtn = document.getElementById('fileLayoutBtn');
   const mqttDashboardLayoutBtn = document.getElementById('mqttDashboardLayoutBtn');
   const youtubeLayoutBtn = document.getElementById('youtubeLayoutBtn');
+  const cameraLayoutBtn = document.getElementById('cameraLayoutBtn');
   const transcriptionLayoutBtn = document.getElementById('transcriptionLayoutBtn');
 
   // Add click handlers
@@ -132,6 +143,10 @@ const { class: className, ...props } = Astro.props;
     store.dispatch(changeLayout('youtube_layout'));
   });
 
+  cameraLayoutBtn?.addEventListener('click', () => {
+    store.dispatch(changeLayout('camera_layout'));
+  });
+
   transcriptionLayoutBtn?.addEventListener('click', () => {
     store.dispatch(changeLayout('transcription_layout'));
   });
@@ -145,6 +160,7 @@ const { class: className, ...props } = Astro.props;
     fileLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
     mqttDashboardLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
     youtubeLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
+    cameraLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
     transcriptionLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
 
     // Reset icon colors
@@ -154,6 +170,7 @@ const { class: className, ...props } = Astro.props;
     fileLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
     mqttDashboardLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
     youtubeLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
+    cameraLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
     transcriptionLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
 
     // Add active styles to the selected button
@@ -175,6 +192,9 @@ const { class: className, ...props } = Astro.props;
     } else if (layout === 'youtube_layout') {
       youtubeLayoutBtn?.classList.add('border-l-2', 'border-primary', 'bg-muted');
       youtubeLayoutBtn?.querySelector('.text-muted-foreground')?.classList.replace('text-muted-foreground', 'text-primary');
+    } else if (layout === 'camera_layout') {
+      cameraLayoutBtn?.classList.add('border-l-2', 'border-primary', 'bg-muted');
+      cameraLayoutBtn?.querySelector('.text-muted-foreground')?.classList.replace('text-muted-foreground', 'text-primary');
     } else if (layout === 'transcription_layout') {
       transcriptionLayoutBtn?.classList.add('border-l-2', 'border-primary', 'bg-muted');
       transcriptionLayoutBtn?.querySelector('.text-muted-foreground')?.classList.replace('text-muted-foreground', 'text-primary');
@@ -190,6 +210,7 @@ const { class: className, ...props } = Astro.props;
     if (panels.middle?.type === 'SimpleMQTTDashboardPanel') return 'mqtt_dashboard_layout';
     if (panels.middle?.type === 'YouTubePanel') return 'youtube_layout';
     if (panels.right.type === 'TranscriptionPanel') return 'transcription_layout';
+    if (panels.right.type === 'CameraPanel') return 'camera_layout';
     return 'todo_layout';
   };
 
diff --git a/src/config/panelRegistry.ts b/src/config/panelRegistry.ts
index abcbf3e..fbc7f8b 100644
--- a/src/config/panelRegistry.ts
+++ b/src/config/panelRegistry.ts
@@ -5,6 +5,7 @@ import { DemoRightPanel } from '../components/panels/DemoRightPanel';
 import ContentDetailPanel from '../components/panels/ContentDetailPanel.jsx';
 import YouTubePanel from '../components/panels/YouTubePanel.jsx';
 import CalculatorPanel from '../components/panels/CalculatorPanel';
+import CameraPanel from '../components/panels/CameraPanel';
 
 export interface PanelConfig {
   component: ComponentType;
@@ -43,3 +44,4 @@ registerPanel('DemoRightPanel', DemoRightPanel);
 registerPanel('ContentDetail', ContentDetailPanel);
 registerPanel('YouTubePanel', YouTubePanel);
 registerPanel('CalculatorPanel', CalculatorPanel);
+registerPanel('CameraPanel', CameraPanel);
diff --git a/src/features/panellayoutSlice.json b/src/features/panellayoutSlice.json
index a99c57d..a7e463f 100644
--- a/src/features/panellayoutSlice.json
+++ b/src/features/panellayoutSlice.json
@@ -119,6 +119,26 @@
             "visible": true
         }
     },
+    "camera_layout": {
+        "left": {
+            "type": "FileTablePanel",
+            "size": 20,
+            "minSize": 0,
+            "visible": false
+        },
+        "middle": {
+            "type": "CameraPanel", 
+            "size": 70,
+            "minSize": 40,
+            "visible": true
+        },
+        "right": {
+            "type": "ContentDetailPanel",
+            "size": 30,
+            "minSize": 0,
+            "visible": false
+        }
+    },
     "transcription_layout": {
         "left": {
             "type": "FileTablePanel",

commit b7d0558f8302bb86654bcab6de50d46d030fc87f
Author: Henry Koo <lckoo1230@gmail.com>
Date:   Fri Apr 4 14:30:07 2025 +0800

    new panel

diff --git a/src/components/panels/CalculatorPanel.jsx b/src/components/panels/CalculatorPanel.jsx
new file mode 100644
index 0000000..b70485c
--- /dev/null
+++ b/src/components/panels/CalculatorPanel.jsx
@@ -0,0 +1,260 @@
+import React, { useState } from 'react';
+
+const CalculatorPanel = () => {
+  const [display, setDisplay] = useState('0');
+  const [history, setHistory] = useState('');
+  const [firstOperand, setFirstOperand] = useState(null);
+  const [operator, setOperator] = useState(null);
+  const [waitingForSecondOperand, setWaitingForSecondOperand] = useState(false);
+
+  const inputDigit = (digit) => {
+    if (waitingForSecondOperand) {
+      setDisplay(String(digit));
+      setWaitingForSecondOperand(false);
+    } else {
+      setDisplay(display === '0' ? String(digit) : display + digit);
+    }
+  };
+
+  const inputDecimal = () => {
+    if (waitingForSecondOperand) {
+      setDisplay('0.');
+      setWaitingForSecondOperand(false);
+      return;
+    }
+
+    if (!display.includes('.')) {
+      setDisplay(display + '.');
+    }
+  };
+
+  const clearDisplay = () => {
+    setDisplay('0');
+    setHistory('');
+    setFirstOperand(null);
+    setOperator(null);
+    setWaitingForSecondOperand(false);
+  };
+
+  const clearEntry = () => {
+    setDisplay('0');
+  };
+
+  const toggleSign = () => {
+    setDisplay(parseFloat(display) * -1 + '');
+  };
+
+  const performOperation = (nextOperator) => {
+    const inputValue = parseFloat(display);
+
+    if (firstOperand === null) {
+      setFirstOperand(inputValue);
+      setHistory(`${display} ${nextOperator} `);
+    } else if (operator) {
+      const result = calculate(firstOperand, inputValue, operator);
+      setDisplay(String(result));
+      setFirstOperand(result);
+      setHistory(`${result} ${nextOperator} `);
+    }
+
+    setWaitingForSecondOperand(true);
+    setOperator(nextOperator);
+  };
+
+  const calculate = (firstOperand, secondOperand, operator) => {
+    switch (operator) {
+      case '+':
+        return Math.round((firstOperand + secondOperand) * 1000000) / 1000000;
+      case '-':
+        return Math.round((firstOperand - secondOperand) * 1000000) / 1000000;
+      case '√ó':
+        return Math.round((firstOperand * secondOperand) * 1000000) / 1000000;
+      case '√∑':
+        if (secondOperand === 0) {
+          return 'Error';
+        }
+        return Math.round((firstOperand / secondOperand) * 1000000) / 1000000;
+      case '%':
+        return Math.round((firstOperand % secondOperand) * 1000000) / 1000000;
+      default:
+        return secondOperand;
+    }
+  };
+
+  const calculateResult = () => {
+    const inputValue = parseFloat(display);
+
+    if (firstOperand !== null && operator) {
+      const calculation = `${history}${display}`;
+      const result = calculate(firstOperand, inputValue, operator);
+      setDisplay(String(result));
+      setHistory(`${calculation} = ${result}`);
+      setFirstOperand(null);
+      setOperator(null);
+      setWaitingForSecondOperand(true);
+    }
+  };
+
+  const percentage = () => {
+    const inputValue = parseFloat(display);
+    const result = inputValue / 100;
+    setDisplay(String(result));
+  };
+
+  const backspace = () => {
+    if (display.length > 1) {
+      setDisplay(display.substring(0, display.length - 1));
+    } else {
+      setDisplay('0');
+    }
+  };
+
+  // Button component for consistent styling
+  const CalcButton = ({ onClick, className, children }) => (
+    <button
+      onClick={onClick}
+      className={`p-3 rounded-lg text-lg font-medium transition-all duration-150 ${className}`}
+    >
+      {children}
+    </button>
+  );
+
+  return (
+    <div className="h-full flex flex-col bg-gray-900 text-white p-4 rounded-lg shadow-2xl">
+      <div className="history text-gray-400 text-right text-sm h-6 mb-1 overflow-hidden">
+        {history}
+      </div>
+      <div className="display mb-4 bg-gray-800 p-3 text-right text-3xl font-bold rounded-lg overflow-x-auto">
+        {display}
+      </div>
+      <div className="grid grid-cols-4 gap-2 flex-1">
+        <CalcButton 
+          onClick={clearEntry} 
+          className="bg-gray-700 hover:bg-gray-600 active:bg-gray-500"
+        >
+          CE
+        </CalcButton>
+        <CalcButton 
+          onClick={clearDisplay} 
+          className="bg-gray-700 hover:bg-gray-600 active:bg-gray-500"
+        >
+          C
+        </CalcButton>
+        <CalcButton 
+          onClick={backspace} 
+          className="bg-gray-700 hover:bg-gray-600 active:bg-gray-500"
+        >
+          ‚å´
+        </CalcButton>
+        <CalcButton 
+          onClick={() => performOperation('√∑')} 
+          className="bg-amber-600 hover:bg-amber-500 active:bg-amber-400"
+        >
+          √∑
+        </CalcButton>
+
+        <CalcButton 
+          onClick={() => inputDigit(7)} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          7
+        </CalcButton>
+        <CalcButton 
+          onClick={() => inputDigit(8)} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          8
+        </CalcButton>
+        <CalcButton 
+          onClick={() => inputDigit(9)} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          9
+        </CalcButton>
+        <CalcButton 
+          onClick={() => performOperation('√ó')} 
+          className="bg-amber-600 hover:bg-amber-500 active:bg-amber-400"
+        >
+          √ó
+        </CalcButton>
+
+        <CalcButton 
+          onClick={() => inputDigit(4)} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          4
+        </CalcButton>
+        <CalcButton 
+          onClick={() => inputDigit(5)} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          5
+        </CalcButton>
+        <CalcButton 
+          onClick={() => inputDigit(6)} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          6
+        </CalcButton>
+        <CalcButton 
+          onClick={() => performOperation('-')} 
+          className="bg-amber-600 hover:bg-amber-500 active:bg-amber-400"
+        >
+          -
+        </CalcButton>
+
+        <CalcButton 
+          onClick={() => inputDigit(1)} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          1
+        </CalcButton>
+        <CalcButton 
+          onClick={() => inputDigit(2)} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          2
+        </CalcButton>
+        <CalcButton 
+          onClick={() => inputDigit(3)} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          3
+        </CalcButton>
+        <CalcButton 
+          onClick={() => performOperation('+')} 
+          className="bg-amber-600 hover:bg-amber-500 active:bg-amber-400"
+        >
+          +
+        </CalcButton>
+
+        <CalcButton 
+          onClick={toggleSign} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          ¬±
+        </CalcButton>
+        <CalcButton 
+          onClick={() => inputDigit(0)} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          0
+        </CalcButton>
+        <CalcButton 
+          onClick={inputDecimal} 
+          className="bg-gray-800 hover:bg-gray-700 active:bg-gray-600"
+        >
+          .
+        </CalcButton>
+        <CalcButton 
+          onClick={calculateResult} 
+          className="bg-green-600 hover:bg-green-500 active:bg-green-400"
+        >
+          =
+        </CalcButton>
+      </div>
+    </div>
+  );
+};
+
+export default CalculatorPanel;
diff --git a/src/components/panels/YouTubePanel.jsx b/src/components/panels/YouTubePanel.jsx
index 83eda8e..6a7a2e0 100644
--- a/src/components/panels/YouTubePanel.jsx
+++ b/src/components/panels/YouTubePanel.jsx
@@ -1,7 +1,9 @@
-import React, { useState } from 'react';
+import React, { useState, useEffect } from 'react';
+
+const DEFAULT_YOUTUBE_URL = 'https://www.youtube.com/watch?v=ogw7NK-uEus&ab_channel=gasingchannel';
 
 const YouTubePanel = () => {
-  const [inputUrl, setInputUrl] = useState('');
+  const [inputUrl, setInputUrl] = useState(DEFAULT_YOUTUBE_URL);
   const [embedUrl, setEmbedUrl] = useState('');
   const [error, setError] = useState('');
 
@@ -39,6 +41,14 @@ const YouTubePanel = () => {
     }
   };
 
+  // Pre-load the default video when component mounts
+  useEffect(() => {
+    const defaultEmbedUrl = convertToEmbedUrl(DEFAULT_YOUTUBE_URL);
+    if (defaultEmbedUrl) {
+      setEmbedUrl(defaultEmbedUrl);
+    }
+  }, []);
+
   // Handle form submission
   const handleSubmit = (e) => {
     e.preventDefault();
diff --git a/src/config/panelRegistry.ts b/src/config/panelRegistry.ts
index b177f14..abcbf3e 100644
--- a/src/config/panelRegistry.ts
+++ b/src/config/panelRegistry.ts
@@ -4,6 +4,7 @@ import { DemoMainPanel } from '../components/panels/DemoMainPanel';
 import { DemoRightPanel } from '../components/panels/DemoRightPanel';
 import ContentDetailPanel from '../components/panels/ContentDetailPanel.jsx';
 import YouTubePanel from '../components/panels/YouTubePanel.jsx';
+import CalculatorPanel from '../components/panels/CalculatorPanel';
 
 export interface PanelConfig {
   component: ComponentType;
@@ -41,3 +42,4 @@ registerPanel('DemoMainPanel', DemoMainPanel);
 registerPanel('DemoRightPanel', DemoRightPanel);
 registerPanel('ContentDetail', ContentDetailPanel);
 registerPanel('YouTubePanel', YouTubePanel);
+registerPanel('CalculatorPanel', CalculatorPanel);
diff --git a/src/features/panellayoutSlice.json b/src/features/panellayoutSlice.json
index f9f9513..a99c57d 100644
--- a/src/features/panellayoutSlice.json
+++ b/src/features/panellayoutSlice.json
@@ -113,10 +113,10 @@
             "visible": true
         },
         "right": {
-            "type": "ContentDetailPanel",
+            "type": "CalculatorPanel",
             "size": 30,
             "minSize": 0,
-            "visible": false
+            "visible": true
         }
     },
     "transcription_layout": {

commit fabd69b86d39e4e49ac5242af55dbb5ac09ba2b8
Author: Henry Koo <lckoo1230@gmail.com>
Date:   Fri Apr 4 14:17:20 2025 +0800

    back up

diff --git a/package.json b/package.json
index ece9ca8..ce4171b 100644
--- a/package.json
+++ b/package.json
@@ -6,6 +6,7 @@
     "dev": "astro dev --port 4321 --host",
     "start": "astro dev --port 4322 --host",
     "build": "astro check && astro build",
+    "build:nocheck": "astro build --no-check",
     "preview": "astro preview",
     "test:e2e": "playwright test",
     "test:e2e:report": "playwright show-report",
@@ -25,6 +26,7 @@
     "mqtt-test": "ts-node tests/mqtt-automation.ts"
   },
   "dependencies": {
+    "@astrojs/check": "^0.9.4",
     "@astrojs/react": "^4.2.1",
     "@astrojs/vercel": "^8.1.3",
     "@radix-ui/react-dialog": "^1.1.4",
@@ -56,6 +58,7 @@
     "sqlite3": "^5.1.7",
     "tailwind-merge": "^1.14.0",
     "tailwindcss-animate": "^1.0.7",
+    "typescript": "^5.8.2",
     "xterm": "^5.3.0",
     "xterm-addon-fit": "^0.8.0"
   },
@@ -79,6 +82,7 @@
     "jsdom": "^26.0.0",
     "tailwindcss": "^3.3.3",
     "tailwindcss-animate": "^1.0.7",
-    "ts-jest": "^29.3.0"
+    "ts-jest": "^29.3.0",
+    "ts-node": "^10.9.2"
   }
 }
diff --git a/src/components/panels/CLMDisplayPanel.jsx b/src/components/panels/CLMDisplayPanel.jsx
index 62fa84d..59ee3df 100644
--- a/src/components/panels/CLMDisplayPanel.jsx
+++ b/src/components/panels/CLMDisplayPanel.jsx
@@ -4,7 +4,7 @@ import React, { useState, useEffect, useMemo } from 'react';
 import { useDispatch, useSelector } from 'react-redux';
 import '../../styles/clm-display.css';
 
-const CLMDisplayPanel = () => {
+const CLMDisplayPanel = ({ initialHash = '' }) => {
     const [loading, setLoading] = useState(false);
     const [error, setError] = useState(null);
     const [dimensions, setDimensions] = useState({
@@ -16,7 +16,7 @@ const CLMDisplayPanel = () => {
     const dispatch = useDispatch();
     
     // Use Redux selectors to get the selected hash and cards
-    const selectedHash = useSelector(state => state?.content?.selectedHash);
+    const selectedHash = useSelector(state => state?.content?.selectedHash || initialHash);
     const cards = useSelector(state => state?.content?.cards || {});
     
     // Get the root CLM card from Redux store
diff --git a/src/components/panels/ContentDetailPanel.jsx b/src/components/panels/ContentDetailPanel.jsx
index 6ba86d5..c801a31 100644
--- a/src/components/panels/ContentDetailPanel.jsx
+++ b/src/components/panels/ContentDetailPanel.jsx
@@ -250,7 +250,7 @@ export default function ContentDetailPanel() {
     return new Promise((resolve, reject) => {
       const reader = new FileReader();
       reader.onload = (event) => resolve(event.target.result);
-      reader.onerror = (error) => reject(new Error('Error reading text file'));
+      reader.onerror = (_error) => reject(new Error('Error reading text file'));
       reader.readAsText(file);
     });
   };
@@ -260,7 +260,7 @@ export default function ContentDetailPanel() {
     return new Promise((resolve, reject) => {
       const reader = new FileReader();
       reader.onload = (event) => resolve(event.target.result);
-      reader.onerror = (error) => reject(new Error('Error reading media file'));
+      reader.onerror = (_error) => reject(new Error('Error reading media file'));
       reader.readAsDataURL(file);
     });
   };
@@ -270,7 +270,7 @@ export default function ContentDetailPanel() {
     return new Promise((resolve, reject) => {
       const reader = new FileReader();
       reader.onload = (event) => resolve(event.target.result);
-      reader.onerror = (error) => reject(new Error('Error reading binary file'));
+      reader.onerror = (_error) => reject(new Error('Error reading binary file'));
       reader.readAsArrayBuffer(file);
     });
   };
diff --git a/src/components/panels/MQTTDashboardPanel.jsx b/src/components/panels/MQTTDashboardPanel.jsx
index ff6ee2d..701633c 100644
--- a/src/components/panels/MQTTDashboardPanel.jsx
+++ b/src/components/panels/MQTTDashboardPanel.jsx
@@ -36,7 +36,7 @@ const MQTTDashboardPanel = () => {
         const broker = 'wss://1115a4b6fe5c40e588a3a85468f3c8be.s1.eu.hivemq.cloud:8884/mqtt';
         const options = {
           connectTimeout: 4000,
-          clientId: 'webClient_' + Math.random().toString(16).substr(2, 8),
+          clientId: 'webClient_' + Math.random().toString(16).substring(2, 8),
           username: 'testing',
           password: 'Testing123',
           clean: true,
@@ -231,7 +231,7 @@ const MQTTDashboardPanel = () => {
           className="px-3 py-2 rounded-md bg-[#1e1e1e] text-white border-none flex-1 min-w-[150px]"
           value={customText}
           onChange={(e) => setCustomText(e.target.value)}
-          onKeyPress={handleKeyPress}
+          onKeyDown={handleKeyPress}
         />
         <button 
           className="bg-[#2196f3] hover:bg-[#1976d2] text-white px-5 py-2 rounded-md transition-colors"
diff --git a/src/components/panels/Sidebar.astro b/src/components/panels/Sidebar.astro
index 999578d..9dc5102 100644
--- a/src/components/panels/Sidebar.astro
+++ b/src/components/panels/Sidebar.astro
@@ -1,6 +1,6 @@
 ---
 import { cn } from '../../lib/utils';
-import { FaCode, FaTerminal, FaCog, FaCube, FaFile, FaMicrophone, FaBrain } from 'react-icons/fa';
+import { FaCode, FaTerminal, FaCog, FaCube, FaFile, FaMicrophone, FaBrain, FaYoutube } from 'react-icons/fa';
 import { store } from '../../store';
 import { changeLayout } from '../../features/panellayoutSlice';
 
@@ -65,6 +65,16 @@ const { class: className, ...props } = Astro.props;
           MQTT Dashboard
         </span>
       </button>
+      <button
+        id="youtubeLayoutBtn"
+        title="YouTube Video Player"
+        class="flex items-center justify-center w-12 h-12 hover:bg-muted-foreground/10 transition-colors group relative"
+      >
+        <FaYoutube className="text-lg text-muted-foreground group-hover:text-primary transition-colors" />
+        <span class="absolute left-full ml-2 bg-neutral-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
+          YouTube Player
+        </span>
+      </button>
       <button
         id="transcriptionLayoutBtn"
         title="AI Training Data"
@@ -94,6 +104,7 @@ const { class: className, ...props } = Astro.props;
   const clmLayoutBtn = document.getElementById('clmLayoutBtn');
   const fileLayoutBtn = document.getElementById('fileLayoutBtn');
   const mqttDashboardLayoutBtn = document.getElementById('mqttDashboardLayoutBtn');
+  const youtubeLayoutBtn = document.getElementById('youtubeLayoutBtn');
   const transcriptionLayoutBtn = document.getElementById('transcriptionLayoutBtn');
 
   // Add click handlers
@@ -117,6 +128,10 @@ const { class: className, ...props } = Astro.props;
     store.dispatch(changeLayout('mqtt_dashboard_layout'));
   });
 
+  youtubeLayoutBtn?.addEventListener('click', () => {
+    store.dispatch(changeLayout('youtube_layout'));
+  });
+
   transcriptionLayoutBtn?.addEventListener('click', () => {
     store.dispatch(changeLayout('transcription_layout'));
   });
@@ -129,6 +144,7 @@ const { class: className, ...props } = Astro.props;
     clmLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
     fileLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
     mqttDashboardLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
+    youtubeLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
     transcriptionLayoutBtn?.classList.remove('border-l-2', 'border-primary', 'bg-muted');
 
     // Reset icon colors
@@ -137,6 +153,7 @@ const { class: className, ...props } = Astro.props;
     clmLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
     fileLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
     mqttDashboardLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
+    youtubeLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
     transcriptionLayoutBtn?.querySelector('.text-primary')?.classList.replace('text-primary', 'text-muted-foreground');
 
     // Add active styles to the selected button
@@ -155,6 +172,9 @@ const { class: className, ...props } = Astro.props;
     } else if (layout === 'mqtt_dashboard_layout') {
       mqttDashboardLayoutBtn?.classList.add('border-l-2', 'border-primary', 'bg-muted');
       mqttDashboardLayoutBtn?.querySelector('.text-muted-foreground')?.classList.replace('text-muted-foreground', 'text-primary');
+    } else if (layout === 'youtube_layout') {
+      youtubeLayoutBtn?.classList.add('border-l-2', 'border-primary', 'bg-muted');
+      youtubeLayoutBtn?.querySelector('.text-muted-foreground')?.classList.replace('text-muted-foreground', 'text-primary');
     } else if (layout === 'transcription_layout') {
       transcriptionLayoutBtn?.classList.add('border-l-2', 'border-primary', 'bg-muted');
       transcriptionLayoutBtn?.querySelector('.text-muted-foreground')?.classList.replace('text-muted-foreground', 'text-primary');
@@ -167,7 +187,8 @@ const { class: className, ...props } = Astro.props;
     if (panels.right.type === 'GeneratePanel') return 'generate_layout';
     if (panels.right.type === 'CLMInputPanel') return 'clm_layout';
     if (panels.middle?.type === 'CLMInputPanel' && panels.right?.type === 'ContentDetailPanel') return 'file_table_layout';
-    if (panels.right.type === 'MQTTDashboardPanel') return 'mqtt_dashboard_layout';
+    if (panels.middle?.type === 'SimpleMQTTDashboardPanel') return 'mqtt_dashboard_layout';
+    if (panels.middle?.type === 'YouTubePanel') return 'youtube_layout';
     if (panels.right.type === 'TranscriptionPanel') return 'transcription_layout';
     return 'todo_layout';
   };
diff --git a/src/components/panels/SimpleMQTTDashboardPanel.jsx b/src/components/panels/SimpleMQTTDashboardPanel.jsx
index 1c9fde8..cfd4f17 100644
--- a/src/components/panels/SimpleMQTTDashboardPanel.jsx
+++ b/src/components/panels/SimpleMQTTDashboardPanel.jsx
@@ -133,7 +133,7 @@ const SimpleMQTTDashboardPanel = () => {
         const broker = 'wss://1115a4b6fe5c40e588a3a85468f3c8be.s1.eu.hivemq.cloud:8884/mqtt';
         const options = {
           connectTimeout: 4000,
-          clientId: 'webClient_' + Math.random().toString(16).substr(2, 8),
+          clientId: 'webClient_' + Math.random().toString(16).substring(2, 10),
           username: 'duwiarsana',
           password: 'Duwiarsana1234!?',
           clean: true,
@@ -478,7 +478,7 @@ const SimpleMQTTDashboardPanel = () => {
           type="text"
           value={customText}
           onChange={(e) => setCustomText(e.target.value)}
-          onKeyPress={handleKeyPress}
+          onKeyDown={(e) => e.key === 'Enter' && handleKeyPress(e)}
           placeholder="Enter your message here..."
           className="flex-grow bg-[#2d2d2d] text-white px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-[#03dac6]"
         />
diff --git a/src/components/panels/YouTubePanel.jsx b/src/components/panels/YouTubePanel.jsx
new file mode 100644
index 0000000..83eda8e
--- /dev/null
+++ b/src/components/panels/YouTubePanel.jsx
@@ -0,0 +1,101 @@
+import React, { useState } from 'react';
+
+const YouTubePanel = () => {
+  const [inputUrl, setInputUrl] = useState('');
+  const [embedUrl, setEmbedUrl] = useState('');
+  const [error, setError] = useState('');
+
+  // Convert YouTube URL to embed URL
+  const convertToEmbedUrl = (url) => {
+    if (!url) return '';
+
+    try {
+      // Handle different YouTube URL formats
+      let videoId = '';
+      
+      // youtube.com/watch?v=VIDEO_ID
+      if (url.includes('youtube.com/watch')) {
+        const urlParams = new URLSearchParams(new URL(url).search);
+        videoId = urlParams.get('v');
+      } 
+      // youtu.be/VIDEO_ID
+      else if (url.includes('youtu.be/')) {
+        videoId = url.split('youtu.be/')[1].split('?')[0];
+      }
+      // youtube.com/embed/VIDEO_ID
+      else if (url.includes('youtube.com/embed/')) {
+        videoId = url.split('youtube.com/embed/')[1].split('?')[0];
+      }
+
+      if (!videoId) {
+        throw new Error('Invalid YouTube URL');
+      }
+
+      // Return the embed URL
+      return `https://www.youtube.com/embed/${videoId}`;
+    } catch (err) {
+      setError('Invalid YouTube URL. Please enter a valid YouTube link.');
+      return '';
+    }
+  };
+
+  // Handle form submission
+  const handleSubmit = (e) => {
+    e.preventDefault();
+    
+    setError('');
+    if (!inputUrl) {
+      setError('Please enter a YouTube URL');
+      return;
+    }
+
+    const newEmbedUrl = convertToEmbedUrl(inputUrl);
+    if (newEmbedUrl) {
+      setEmbedUrl(newEmbedUrl);
+    }
+  };
+
+  return (
+    <div className="flex flex-col h-full bg-background p-4 overflow-hidden">
+      <h2 className="text-2xl font-bold mb-4 text-foreground">YouTube Video Player</h2>
+      
+      <form onSubmit={handleSubmit} className="mb-4">
+        <div className="flex items-center space-x-2">
+          <input
+            type="text"
+            value={inputUrl}
+            onChange={(e) => setInputUrl(e.target.value)}
+            placeholder="Enter YouTube URL (e.g., https://www.youtube.com/watch?v=VIDEO_ID)"
+            className="flex-1 px-3 py-2 border rounded-md bg-background text-foreground"
+          />
+          <button 
+            type="submit"
+            className="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90"
+          >
+            Load
+          </button>
+        </div>
+        {error && <p className="text-red-500 mt-1">{error}</p>}
+      </form>
+      
+      <div className="flex-1 flex flex-col min-h-0 overflow-hidden rounded-md border">
+        {embedUrl ? (
+          <iframe
+            src={embedUrl}
+            title="YouTube Video Player"
+            frameBorder="0"
+            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
+            allowFullScreen
+            className="w-full h-full"
+          />
+        ) : (
+          <div className="flex items-center justify-center h-full bg-muted">
+            <p className="text-muted-foreground">Enter a YouTube URL above to watch a video</p>
+          </div>
+        )}
+      </div>
+    </div>
+  );
+};
+
+export default YouTubePanel;
diff --git a/src/config/panelRegistry.ts b/src/config/panelRegistry.ts
index 1232d25..b177f14 100644
--- a/src/config/panelRegistry.ts
+++ b/src/config/panelRegistry.ts
@@ -2,7 +2,8 @@ import type { ComponentType } from 'react';
 import { DemoLeftPanel } from '../components/panels/DemoLeftPanel';
 import { DemoMainPanel } from '../components/panels/DemoMainPanel';
 import { DemoRightPanel } from '../components/panels/DemoRightPanel';
-import { ContentDetail } from '../components/panels/ContentDetail';
+import ContentDetailPanel from '../components/panels/ContentDetailPanel.jsx';
+import YouTubePanel from '../components/panels/YouTubePanel.jsx';
 
 export interface PanelConfig {
   component: ComponentType;
@@ -38,4 +39,5 @@ console.log('[PanelRegistry] Initializing panel registry...');
 registerPanel('DemoLeftPanel', DemoLeftPanel);
 registerPanel('DemoMainPanel', DemoMainPanel);
 registerPanel('DemoRightPanel', DemoRightPanel);
-registerPanel('ContentDetail', ContentDetail);
+registerPanel('ContentDetail', ContentDetailPanel);
+registerPanel('YouTubePanel', YouTubePanel);
diff --git a/src/features/contentSlice.js b/src/features/contentSlice.js
index a645090..5c05e56 100644
--- a/src/features/contentSlice.js
+++ b/src/features/contentSlice.js
@@ -1,7 +1,7 @@
 import { createSlice, createSelector } from '@reduxjs/toolkit';
 
 // Simple hash generation function
-const generateHash = () => `content_${Math.random().toString(36).substr(2, 9)}`;
+const generateHash = () => `content_${Math.random().toString(36).substring(2, 11)}`;
 
 // Utility function to create content with relationships
 const createContentCard = (content, relationships = {}) => ({
diff --git a/src/features/panellayoutSlice.json b/src/features/panellayoutSlice.json
index c47898a..f9f9513 100644
--- a/src/features/panellayoutSlice.json
+++ b/src/features/panellayoutSlice.json
@@ -99,6 +99,26 @@
             "visible": false
         }
     },
+    "youtube_layout": {
+        "left": {
+            "type": "chatbot",
+            "size": 30,
+            "minSize": 0,
+            "visible": false
+        },
+        "middle": {
+            "type": "YouTubePanel", 
+            "size": 100,
+            "minSize": 0,
+            "visible": true
+        },
+        "right": {
+            "type": "ContentDetailPanel",
+            "size": 30,
+            "minSize": 0,
+            "visible": false
+        }
+    },
     "transcription_layout": {
         "left": {
             "type": "FileTablePanel",
diff --git a/src/layouts/ReduxProvider.jsx b/src/layouts/ReduxProvider.jsx
index 30883ba..a6ba843 100644
--- a/src/layouts/ReduxProvider.jsx
+++ b/src/layouts/ReduxProvider.jsx
@@ -1,6 +1,6 @@
 import React from 'react';
 import { Provider } from 'react-redux';
-import store from '../store';
+import { store } from '../store';
 
 export default function ReduxProvider({ children }) {
   return <Provider store={store}>{children}</Provider>;
diff --git a/src/pages/api/card-collection.ts b/src/pages/api/card-collection.ts
index 5f14204..25ae853 100644
--- a/src/pages/api/card-collection.ts
+++ b/src/pages/api/card-collection.ts
@@ -172,7 +172,15 @@ export function processCardContent(content: any, contentType: string | null): an
       try {
         // Convert to base64 - preserve binary data integrity
         const typedArray = array as Uint8Array;
-        const base64 = SafeBuffer.from([...typedArray]).toString('base64');
+        let base64;
+        if (typeof window !== 'undefined' && window.btoa) {
+          // Browser environment
+          const bytes = Array.from(typedArray).map(byte => String.fromCharCode(byte)).join('');
+          base64 = window.btoa(bytes);
+        } else {
+          // Node.js environment or with our polyfill
+          base64 = Buffer.from(typedArray).toString('base64');
+        }
         
         // Return with metadata
         return {
diff --git a/src/pages/auth-helper.astro b/src/pages/auth-helper.astro
index 918f14e..073c7b9 100644
--- a/src/pages/auth-helper.astro
+++ b/src/pages/auth-helper.astro
@@ -117,7 +117,9 @@
                   console.log("AUTH HELPER: Stored combined user info");
                   
                   // Dispatch to Redux store if available
-                  if (typeof window !== 'undefined' && window.store && window.store.dispatch) {
+                  if (typeof window !== 'undefined' && 
+                     window['store'] && 
+                     typeof window['store'].dispatch === 'function') {
                     console.log("AUTH HELPER: Dispatching to Redux store");
                     
                     const loginPayload = {
@@ -142,7 +144,7 @@
                       }
                     };
                     
-                    window.store.dispatch({ type: 'user/login', payload: loginPayload });
+                    window['store'].dispatch({ type: 'user/login', payload: loginPayload });
                   }
                 } else {
                   console.error("AUTH HELPER: Failed to fetch user info", await userInfoResponse.text());
diff --git a/src/store.js b/src/store.js
index 129a960..603c006 100644
--- a/src/store.js
+++ b/src/store.js
@@ -50,12 +50,13 @@ export { store };
 
 // Make store globally accessible in browser environments
 if (typeof window !== 'undefined') {
-  window.store = store;
+  // Using safer approach to avoid TypeScript errors
+  window['store'] = store;
   
   // Add development helpers
   if (import.meta.env.DEV) {
-    window.dispatch = store.dispatch;
-    window.getState = store.getState;
+    window['dispatch'] = store.dispatch;
+    window['getState'] = store.getState;
   }
   
   console.log('Redux store made globally accessible');
diff --git a/src/types/store.ts b/src/types/store.ts
new file mode 100644
index 0000000..d3aea8a
--- /dev/null
+++ b/src/types/store.ts
@@ -0,0 +1,7 @@
+import { store } from '../store';
+
+// Get the RootState type from the store
+export type RootState = ReturnType<typeof store.getState>;
+
+// Get the AppDispatch type from the store
+export type AppDispatch = typeof store.dispatch;
diff --git a/src/utils/dbInitializer.ts b/src/utils/dbInitializer.ts
new file mode 100644
index 0000000..09a110b
--- /dev/null
+++ b/src/utils/dbInitializer.ts
@@ -0,0 +1,27 @@
+import { store } from '../store';
+
+/**
+ * Initialize the database and required services
+ * This is a placeholder function that can be expanded as needed
+ */
+export function initializeDatabase() {
+  // This is a simple implementation that can be expanded
+  // with actual database initialization code
+  console.log('Database initialization started');
+  
+  // Return a promise to allow for async initialization
+  return new Promise<void>((resolve) => {
+    // Simulate database initialization
+    setTimeout(() => {
+      console.log('Database initialization completed');
+      
+      // Signal that the database is ready in the Redux store if needed
+      store.dispatch({
+        type: 'system/setDatabaseStatus',
+        payload: { status: 'ready' }
+      });
+      
+      resolve();
+    }, 100);
+  });
+}
diff --git a/src/utils/environmentDetector.js b/src/utils/environmentDetector.js
new file mode 100644
index 0000000..9a4aa43
--- /dev/null
+++ b/src/utils/environmentDetector.js
@@ -0,0 +1,92 @@
+/**
+ * Environment detection utility for cross-environment compatibility
+ */
+
+// Check if running in a browser environment
+export const isBrowser = typeof window !== 'undefined';
+
+// Check if running in a Node.js environment
+export const isNode = typeof process !== 'undefined' && 
+                     process.versions != null && 
+                     process.versions.node != null;
+
+// Check for service worker environment
+export const isServiceWorker = typeof self === 'object' && 
+                              self.constructor && 
+                              self.constructor.name === 'ServiceWorkerGlobalScope';
+
+/**
+ * Get a safe reference to global scope that works across environments
+ * @returns The global scope object (window, global, self)
+ */
+export const getGlobalScope = () => {
+  if (typeof window !== 'undefined') return window;
+  if (typeof global !== 'undefined') return global;
+  if (typeof self !== 'undefined') return self;
+  return {};
+};
+
+/**
+ * Safely access a property on the global scope
+ * @param {string} propertyName - The name of the property to access
+ * @returns The property value or undefined if not available
+ */
+export const getGlobalProperty = (propertyName) => {
+  const globalScope = getGlobalScope();
+  return globalScope[propertyName];
+};
+
+/**
+ * Safely set a property on the global scope
+ * @param {string} propertyName - The name of the property to set
+ * @param {any} value - The value to set
+ */
+export const setGlobalProperty = (propertyName, value) => {
+  const globalScope = getGlobalScope();
+  globalScope[propertyName] = value;
+};
+
+/**
+ * Get an environment-appropriate text encoder
+ * @returns A TextEncoder instance or polyfill
+ */
+export const getTextEncoder = () => {
+  // Browser environment
+  if (typeof window !== 'undefined' && window.TextEncoder) {
+    return new window.TextEncoder();
+  }
+  
+  // Node.js environment
+  if (typeof TextEncoder !== 'undefined') {
+    return new TextEncoder();
+  }
+  
+  // Fallback implementation
+  return {
+    encode: (str) => {
+      const utf8 = [];
+      for (let i = 0; i < str.length; i++) {
+        let charCode = str.charCodeAt(i);
+        if (charCode < 0x80) {
+          utf8.push(charCode);
+        } else if (charCode < 0x800) {
+          utf8.push(0xc0 | (charCode >> 6), 
+                   0x80 | (charCode & 0x3f));
+        } else if (charCode < 0xd800 || charCode >= 0xe000) {
+          utf8.push(0xe0 | (charCode >> 12), 
+                   0x80 | ((charCode >> 6) & 0x3f), 
+                   0x80 | (charCode & 0x3f));
+        } else {
+          // Handle surrogate pairs
+          i++;
+          charCode = 0x10000 + (((charCode & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));
+          utf8.push(0xf0 | (charCode >> 18), 
+                   0x80 | ((charCode >> 12) & 0x3f), 
+                   0x80 | ((charCode >> 6) & 0x3f), 
+                   0x80 | (charCode & 0x3f));
+        }
+      }
+      return new Uint8Array(utf8);
+    }
+  };
+};
diff --git a/src/utils/stateWatcher.ts b/src/utils/stateWatcher.ts
new file mode 100644
index 0000000..ed18d38
--- /dev/null
+++ b/src/utils/stateWatcher.ts
@@ -0,0 +1,78 @@
+import type { Store, Action, UnknownAction } from '@reduxjs/toolkit';
+import type { RootState } from '../types/store';
+
+interface StateObserverOptions {
+  shouldCapture?: (state: RootState, action: Action | null) => boolean;
+  transformState?: (state: RootState) => any;
+  endpoint?: string;
+  debounceTime?: number;
+}
+
+/**
+ * Initializes a state observer that watches Redux store changes
+ * and optionally sends them to an API endpoint
+ */
+export function initStateObserver(
+  store: Store,
+  options: StateObserverOptions = {}
+) {
+  const {
+    shouldCapture = () => true,
+    transformState = (state) => state,
+    endpoint = '/api/state-capture',
+    debounceTime = 1000,
+  } = options;
+
+  let timer: ReturnType<typeof setTimeout> | null = null;
+  let lastAction: Action | null = null;
+
+  const observer = {
+    start() {
+      store.subscribe(() => {
+        const state = store.getState();
+        
+        if (shouldCapture(state, lastAction)) {
+          if (timer) clearTimeout(timer);
+          
+          timer = setTimeout(() => {
+            const transformedState = transformState(state);
+            
+            // Only in browser environment
+            if (typeof window !== 'undefined') {
+              fetch(endpoint, {
+                method: 'POST',
+                headers: {
+                  'Content-Type': 'application/json',
+                },
+                body: JSON.stringify({
+                  state: transformedState,
+                  action: lastAction,
+                  timestamp: Date.now()
+                }),
+              }).catch(err => console.error('Failed to capture state:', err));
+            }
+            
+            timer = null;
+          }, debounceTime);
+        }
+      });
+      
+      // Wrap dispatch to capture actions
+      const originalDispatch = store.dispatch;
+      store.dispatch = ((action: UnknownAction) => {
+        lastAction = action as Action;
+        return originalDispatch(action);
+      }) as typeof store.dispatch;
+    },
+    
+    stop() {
+      if (timer) {
+        clearTimeout(timer);
+        timer = null;
+      }
+    }
+  };
+  
+  observer.start();
+  return observer;
+}
diff --git a/tests/mqtt-automation.ts b/tests/mqtt-automation.ts
index 211ae28..ea6a4f9 100644
--- a/tests/mqtt-automation.ts
+++ b/tests/mqtt-automation.ts
@@ -1,5 +1,5 @@
 import { chromium } from '@playwright/test';
-import type { Browser, Page } from 'playwright';
+import type { Browser, Page, BrowserContext } from 'playwright';
 import path from 'path';
 import fs from 'fs';
 
@@ -10,8 +10,20 @@ import fs from 'fs';
     slowMo: 100 // Slow down operations for better visibility
   });
   
-  // Create a new page
-  const page: Page = await browser.newPage();
+  // Create a browser context with full screen configuration
+  const context: BrowserContext = await browser.newContext({
+    viewport: null, // This will use the maximum viewport size
+    screen: { width: 1920, height: 1080 } // Common full HD resolution
+  });
+  
+  // Create a new page in the full screen context
+  const page: Page = await context.newPage();
+  
+  // Maximize the window (as close to full screen as possible)
+  await page.evaluate(() => {
+    window.moveTo(0, 0);
+    window.resizeTo(screen.width, screen.height);
+  });
   
   // Navigate to your app's main page
   await page.goto('http://localhost:4321');
@@ -44,7 +56,7 @@ import fs from 'fs';
   
   // Take a screenshot of the dashboard
   const dashboardScreenshot: string = path.join(screenshotsDir, `mqtt-dashboard-${new Date().toISOString().replace(/:/g, '-')}.png`);
-  await page.screenshot({ path: dashboardScreenshot });
+  await page.screenshot({ path: dashboardScreenshot, fullPage: true });
   console.log(`Dashboard screenshot saved to: ${dashboardScreenshot}`);
   
   await page.waitForTimeout(2000);
@@ -58,7 +70,7 @@ import fs from 'fs';
   
   // Take a screenshot after turning on the LED
   const ledOnScreenshot: string = path.join(screenshotsDir, `led-on-${new Date().toISOString().replace(/:/g, '-')}.png`);
-  await page.screenshot({ path: ledOnScreenshot });
+  await page.screenshot({ path: ledOnScreenshot, fullPage: true });
   console.log(`LED on screenshot saved to: ${ledOnScreenshot}`);
   
   // Step 3: Type "Testing" in the input field with current time character by character
@@ -80,7 +92,7 @@ import fs from 'fs';
   
   // Take a screenshot after typing the message
   const messageTypedScreenshot: string = path.join(screenshotsDir, `message-typed-${new Date().toISOString().replace(/:/g, '-')}.png`);
-  await page.screenshot({ path: messageTypedScreenshot });
+  await page.screenshot({ path: messageTypedScreenshot, fullPage: true });
   console.log(`Message typed screenshot saved to: ${messageTypedScreenshot}`);
   
   // Step 4: Click the send button
@@ -92,7 +104,7 @@ import fs from 'fs';
   
   // Take a screenshot after sending the message
   const messageSentScreenshot: string = path.join(screenshotsDir, `message-sent-${new Date().toISOString().replace(/:/g, '-')}.png`);
-  await page.screenshot({ path: messageSentScreenshot });
+  await page.screenshot({ path: messageSentScreenshot, fullPage: true });
   console.log(`Message sent screenshot saved to: ${messageSentScreenshot}`);
   
   // Step 5: Turn off the LED (assuming there's a "Matikan LED" button)
@@ -104,7 +116,7 @@ import fs from 'fs';
   
   // Take a screenshot after turning off the LED
   const ledOffScreenshot: string = path.join(screenshotsDir, `led-off-${new Date().toISOString().replace(/:/g, '-')}.png`);
-  await page.screenshot({ path: ledOffScreenshot });
+  await page.screenshot({ path: ledOffScreenshot, fullPage: true });
   console.log(`LED off screenshot saved to: ${ledOffScreenshot}`);
   
   console.log('All actions completed successfully');
diff --git a/tsconfig.json b/tsconfig.json
index 8bf91d3..c68f3e4 100644
--- a/tsconfig.json
+++ b/tsconfig.json
@@ -1,5 +1,23 @@
 {
-  "extends": "astro/tsconfigs/strict",
+  "extends": "astro/tsconfigs/base",
+  "compilerOptions": {
+    "baseUrl": ".",
+    "paths": {
+      "@/*": ["src/*"]
+    },
+    "jsx": "react-jsx",
+    "jsxImportSource": "react",
+    "allowJs": true,
+    "skipLibCheck": true,
+    "strict": false,
+    "noEmit": true,
+    "esModuleInterop": true,
+    "module": "esnext",
+    "moduleResolution": "node",
+    "resolveJsonModule": true,
+    "isolatedModules": true,
+    "incremental": true
+  },
   "include": [".astro/types.d.ts", "**/*"],
-  "exclude": ["dist"]
+  "exclude": ["dist", "node_modules", "**/*.spec.ts", "**/to-do-plan/**/*"]
 }
```
